/*! For license information please see widget.js.LICENSE.txt */
System.register(["jimu-core","jimu-ui","calcite-components","jimu-core/react","jimu-core/react-dom"],(function(e,t){var n={},r={},o={},a={},i={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(i,"__esModule",{value:!0}),{setters:[function(e){n.DataSourceComponent=e.DataSourceComponent,n.DataSourceManager=e.DataSourceManager,n.DataSourceStatus=e.DataSourceStatus,n.React=e.React,n.SessionManager=e.SessionManager,n.appActions=e.appActions,n.getAppStore=e.getAppStore},function(e){r.Button=e.Button,r.ModalBody=e.ModalBody,r.ModalFooter=e.ModalFooter,r.TextInput=e.TextInput},function(e){o.CalciteCheckbox=e.CalciteCheckbox,o.CalciteRating=e.CalciteRating,o.CalciteTable=e.CalciteTable,o.CalciteTableCell=e.CalciteTableCell,o.CalciteTableHeader=e.CalciteTableHeader,o.CalciteTableRow=e.CalciteTableRow},function(e){Object.keys(e).forEach((function(t){a[t]=e[t]}))},function(e){Object.keys(e).forEach((function(t){i[t]=e[t]}))}],execute:function(){e((()=>{var e={4184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var i=o.apply(null,n);i&&e.push(i)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},2058:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".modal{width:30%;height:300px;background-color:#fff;margin:auto}.selection-area{display:none !important}calcite-card{width:280px}calcite-label{--calcite-label-margin-bottom: 0}.columnwidthauto{width:auto}.columnwidthfixed{width:100px}",""]);const s=i},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},2703:(e,t,n)=>{"use strict";var r=n(414);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6871:(e,t,n)=>{"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function a(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==i||null!==s){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=o),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:()=>i}),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},9541:(e,t,n)=>{"use strict";var r=n(4836);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var o=r(n(3007));e.exports=t.default},3007:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},6900:e=>{"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,n){e.classList?e.classList.remove(n):"string"==typeof e.className?e.className=t(e.className,n):e.setAttribute("class",t(e.className&&e.className.baseVal||"",n))}},5767:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0,function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(5697));var r=s(n(9541)),o=s(n(6900)),a=s(n(1315)),i=s(n(2337));function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}n(4322);var c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,o.default)(e,t)}))},d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),c(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,o=t.getClassNames("enter").doneClassName,a=n?r+" "+o:o;t.removeClasses(e,n?"appear":"enter"),c(e,a),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),c(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),c(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,o=r?(r&&n?n+"-":"")+e:n[e];return{className:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,o=n.activeClassName,a=n.doneClassName;r&&u(e,r),o&&u(e,o),a&&u(e,a)},o.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,c(e,t))},o.render=function(){var e=l({},this.props);return delete e.classNames,a.default.createElement(i.default,l({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(a.default.Component);d.defaultProps={classNames:""},d.propTypes={};var p=d;t.default=p,e.exports=t.default},283:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0,i(n(5697));var r=i(n(1315)),o=n(800),a=i(n(9924));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=i.prototype;return s.handleLifecycle=function(e,t,n){var a,i=this.props.children,s=r.default.Children.toArray(i)[t];s.props[e]&&(a=s.props)[e].apply(a,n),this.props[e]&&this.props[e]((0,o.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,n=e.in,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["children","in"]),i=r.default.Children.toArray(t),s=i[0],l=i[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,r.default.createElement(a.default,o,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},i}(r.default.Component);s.propTypes={};var l=s;t.default=l,e.exports=t.default},2337:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0,function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(5697));var r=s(n(1315)),o=s(n(800)),a=n(6871),i=(n(4322),s(n(112)));function s(e){return e&&e.__esModule?e:{default:e}}var l="unmounted";t.UNMOUNTED=l;var c="exited";t.EXITED=c;var u="entering";t.ENTERING=u;var d="entered";t.ENTERED=d;var p="exiting";t.EXITING=p;var h=function(e){var t,n;function a(t,n){var r;r=e.call(this,t,n)||this;var o,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(o=c,r.appearStatus=u):o=d:o=t.unmountOnExit||t.mountOnEnter?l:c,r.state={status:o},r.nextCallback=null,r}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:c}:null};var s=a.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==u&&n!==d&&(t=u):n!==u&&n!==d||(t=p)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},s.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);t===u?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:l})},s.performEnter=function(e,t){var n=this,r=this.props.enter,o=this.context?this.context.isMounting:t,a=this.getTimeouts(),i=o?a.appear:a.enter;t||r?(this.props.onEnter(e,o),this.safeSetState({status:u},(function(){n.props.onEntering(e,o),n.onTransitionEnd(e,i,(function(){n.safeSetState({status:d},(function(){n.props.onEntered(e,o)}))}))}))):this.safeSetState({status:d},(function(){n.props.onEntered(e)}))},s.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:p},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:c},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:c},(function(){t.props.onExited(e)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children"]);if(delete o.in,delete o.mountOnEnter,delete o.unmountOnExit,delete o.appear,delete o.enter,delete o.exit,delete o.timeout,delete o.addEndListener,delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,"function"==typeof n)return r.default.createElement(i.default.Provider,{value:null},n(e,o));var a=r.default.Children.only(n);return r.default.createElement(i.default.Provider,{value:null},r.default.cloneElement(a,o))},a}(r.default.Component);function f(){}h.contextType=i.default,h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},h.UNMOUNTED=0,h.EXITED=1,h.ENTERING=2,h.ENTERED=3,h.EXITING=4;var m=(0,a.polyfill)(h);t.default=m},9924:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0,s(n(5697));var r=s(n(1315)),o=n(6871),a=s(n(112)),i=n(9822);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},d=function(e){var t,n;function o(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(c(c(r)));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=o.prototype;return s.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},s.componentWillUnmount=function(){this.mounted=!1},o.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,i.getInitialChildMapping)(e,r):(0,i.getNextChildMapping)(e,n,r),firstRender:!1}},s.handleExited=function(e,t){var n=(0,i.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=l({},t.children);return delete n[e.key],{children:n}})))},s.render=function(){var e=this.props,t=e.component,n=e.childFactory,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["component","childFactory"]),i=this.state.contextValue,s=u(this.state.children).map(n);return delete o.appear,delete o.enter,delete o.exit,null===t?r.default.createElement(a.default.Provider,{value:i},s):r.default.createElement(a.default.Provider,{value:i},r.default.createElement(t,o,s))},o}(r.default.Component);d.propTypes={},d.defaultProps={component:"div",childFactory:function(e){return e}};var p=(0,o.polyfill)(d);t.default=p,e.exports=t.default},112:(e,t,n)=>{"use strict";var r;t.__esModule=!0,t.default=void 0;var o=((r=n(1315))&&r.__esModule?r:{default:r}).default.createContext(null);t.default=o,e.exports=t.default},793:(e,t,n)=>{"use strict";var r=s(n(5767)),o=s(n(283)),a=s(n(9924)),i=s(n(2337));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:i.default,TransitionGroup:a.default,ReplaceTransition:o.default,CSSTransition:r.default}},9822:(e,t,n)=>{"use strict";t.__esModule=!0,t.getChildMapping=o,t.mergeChildMappings=a,t.getInitialChildMapping=function(e,t){return o(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:i(n,"appear",e),enter:i(n,"enter",e),exit:i(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=o(e.children),l=a(t,s);return Object.keys(l).forEach((function(o){var a=l[o];if((0,r.isValidElement)(a)){var c=o in t,u=o in s,d=t[o],p=(0,r.isValidElement)(d)&&!d.props.in;!u||c&&!p?u||!c||p?u&&c&&(0,r.isValidElement)(d)&&(l[o]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:d.props.in,exit:i(a,"exit",e),enter:i(a,"enter",e)})):l[o]=(0,r.cloneElement)(a,{in:!1}):l[o]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:i(a,"exit",e),enter:i(a,"enter",e)})}})),l};var r=n(1315);function o(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function a(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),a=[];for(var i in e)i in t?a.length&&(o[i]=a,a=[]):a.push(i);var s={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var c=o[l][r];s[o[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}function i(e,t,n){return null!=n[t]?n[t]:e.props[t]}},4322:(e,t,n)=>{"use strict";var r;t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0,(r=n(5697))&&r.__esModule,t.timeoutsShape=null,t.classNamesShape=null},3379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=a[c]||0,d="".concat(c," ").concat(u);a[c]=u+1;var p=n(d),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var f=o(h,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:f,references:1})}i.push(d)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);t[s].references--}for(var l=r(e,o),c=0;c<a.length;c++){var u=n(a[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=l}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},4145:e=>{"use strict";e.exports=o},8891:e=>{"use strict";e.exports=n},1315:e=>{"use strict";e.exports=a},800:e=>{"use strict";e.exports=i},726:e=>{"use strict";e.exports=r},4836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={id:n,exports:{}};return e[n](o,o.exports,s),o.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="",s.nc=void 0;var l={};return s.p=window.jimuConfig.baseUrl,(()=>{"use strict";s.r(l),s.d(l,{__set_webpack_public_path__:()=>Re,default:()=>ke});var e=s(8891),t=s(726),n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};function r(e){return"string"!=typeof e||"/"===(e=e.trim())[e.length-1]&&(e=e.slice(0,-1)),e}var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};function i(e,t,n){var r=a(a({params:{}},n),e);return r.params=t.reduce((function(t,n){return(e[n]||"boolean"==typeof e[n])&&(t[n]=e[n]),t}),r.params),["params","httpMethod","rawResponse","authentication","portal","fetch","maxUrlLength","headers"].reduce((function(e,t){return r[t]&&(e[t]=r[t]),e}),{})}function c(e){return Object.keys(e).some((function(t){var n=e[t];if(!n)return!1;switch(n&&n.toParam&&(n=n.toParam()),n.constructor.name){case"Array":case"Object":case"Date":case"Function":case"Boolean":case"String":case"Number":return!1;default:return!0}}))}function u(e){var t={};return Object.keys(e).forEach((function(n){var r,o,a=e[n];if(a&&a.toParam&&(a=a.toParam()),a||0===a||"boolean"==typeof a||"string"==typeof a){var i;switch(a.constructor.name){case"Array":var s=null===(o=null===(r=a[0])||void 0===r?void 0:r.constructor)||void 0===o?void 0:o.name;i="Array"===s?a:"Object"===s?JSON.stringify(a):a.join(",");break;case"Object":i=JSON.stringify(a);break;case"Date":i=a.valueOf();break;case"Function":i=null;break;case"Boolean":i=a+"";break;default:i=a}(i||0===i||"string"==typeof i||Array.isArray(i))&&(t[n]=i)}})),t}function d(e,t){return Array.isArray(t)&&t[0]&&Array.isArray(t[0])?t.map((function(t){return d(e,t)})).join("&"):encodeURIComponent(e)+"="+encodeURIComponent(t)}function p(e){var t=u(e);return Object.keys(t).map((function(e){return d(e,t[e])})).join("&")}var h=function(e,t,n,r,o){e=e||"UNKNOWN_ERROR",t=t||"UNKNOWN_ERROR_CODE",this.name="ArcGISRequestError",this.message="UNKNOWN_ERROR_CODE"===t?e:t+": "+e,this.originalMessage=e,this.code=t,this.response=n,this.url=r,this.options=o};h.prototype=Object.create(Error.prototype),h.prototype.constructor=h;var f="@esri/arcgis-rest-js",m={httpMethod:"POST",params:{f:"json"}};var g=function(e){function t(t,n,r,o,a){void 0===t&&(t="AUTHENTICATION_ERROR"),void 0===n&&(n="AUTHENTICATION_ERROR_CODE");var i=e.call(this,t,n,r,o,a)||this;return i.name="ArcGISAuthError",i.message="AUTHENTICATION_ERROR_CODE"===n?t:n+": "+t,i}return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.retry=function(e,t){var n=this;void 0===t&&(t=3);var r=0,o=function(i,s){e(n.url,n.options).then((function(e){var t=a(a({},n.options),{authentication:e});return r+=1,b(n.url,t)})).then((function(e){i(e)})).catch((function(e){"ArcGISAuthError"===e.name&&r<t?o(i,s):"ArcGISAuthError"===e.name&&r>=t?s(n):s(e)}))};return new Promise((function(e,t){o(e,t)}))},t}(h);function b(e,t){void 0===t&&(t={params:{f:"json"}});var n=a(a(a({httpMethod:"POST"},m),t),{params:a(a({},m.params),t.params),headers:a(a({},m.headers),t.headers)}),r=[],o=[];if(n.fetch||"undefined"==typeof fetch?(r.push("`fetch`"),o.push("`node-fetch`")):n.fetch=fetch.bind(Function("return this")()),"undefined"==typeof Promise&&(r.push("`Promise`"),o.push("`es6-promise`")),"undefined"==typeof FormData&&(r.push("`FormData`"),o.push("`isomorphic-form-data`")),!n.fetch||"undefined"==typeof Promise||"undefined"==typeof FormData)throw new Error("`arcgis-rest-request` requires a `fetch` implementation and global variables for `Promise` and `FormData` to be present in the global scope. You are missing "+r.join(", ")+". We recommend installing the "+o.join(", ")+" modules at the root of your application to add these to the global scope. See https://bit.ly/2KNwWaJ for more info.");var i=n.httpMethod,s=n.authentication,l=n.rawResponse,d=a({f:"json"},n.params),b=null,v={method:i,credentials:n.credentials||"same-origin"};return n.headers&&n.headers["X-Esri-Auth-Client-Id"]&&e.indexOf("/oauth2/platformSelf")>-1&&(v.credentials="include"),(s?s.getToken(e,{fetch:n.fetch}).catch((function(t){return t.url=e,t.options=n,b=t,Promise.resolve("")})):Promise.resolve("")).then((function(t){t.length&&(d.token=t),s&&s.getDomainCredentials&&(v.credentials=s.getDomainCredentials(e));var r={};if("GET"===v.method){d.token&&n.hideToken&&"undefined"==typeof window&&(r["X-Esri-Authorization"]="Bearer "+d.token,delete d.token);var o=""===p(d)?e:e+"?"+p(d);n.maxUrlLength&&o.length>n.maxUrlLength||d.token&&n.hideToken?(v.method="POST",t.length&&n.hideToken&&(d.token=t,delete r["X-Esri-Authorization"])):e=o}var i=new RegExp("/items/.+/updateResources").test(e);return"POST"===v.method&&(v.body=function(e,t){var n=c(e)||t,r=u(e);if(n){var o=new FormData;return Object.keys(r).forEach((function(e){if("undefined"!=typeof Blob&&r[e]instanceof Blob){var t=r.fileName||r[e].name||e;o.append(e,r[e],t)}else r[e].constructor&&"ReadStream"===r[e].constructor.name&&Number.isInteger(r.dataSize)?o.append(e,r[e],{knownLength:r.dataSize}):o.append(e,r[e])})),o}return p(e)}(d,i)),v.headers=a(a({},r),n.headers),"undefined"!=typeof window||v.headers.referer||(v.headers.referer=f),c(d)||i||(v.headers["Content-Type"]="application/x-www-form-urlencoded"),n.fetch(e,v)})).then((function(t){if(!t.ok){var r=t.status,o=t.statusText;throw new h(o,"HTTP "+r,t,e,n)}if(l)return t;switch(d.f){case"json":case"geojson":return t.json();case"html":case"text":return t.text();default:return t.blob()}})).then((function(t){if("json"!==d.f&&"geojson"!==d.f||l)return t;var r=function(e,t,n,r,o){if(e.code>=400){var a=e.message,i=e.code;throw new h(a,i,e,t,r)}if(e.error){var s=e.error,l=(a=s.message,i=s.code,s.messageCode),c=l||i||"UNKNOWN_ERROR_CODE";if(498===i||499===i||"GWM_0003"===l||400===i&&"Unable to generate token."===a)throw o||new g(a,c,e,t,r);throw new h(a,c,e,t,r)}if("failed"===e.status||"failure"===e.status){a=void 0,i="UNKNOWN_ERROR_CODE";try{a=JSON.parse(e.statusMessage).message,i=JSON.parse(e.statusMessage).code}catch(t){a=e.statusMessage||e.message}throw new h(a,i,e,t,r)}return e}(t,e,0,n,b);if(b){var o=e.toLowerCase().split(/\/rest(\/admin)?\/services\//)[0];n.authentication.federatedServers[o]={token:[],expires:new Date(Date.now()+864e5)},b=null}return r}))}function v(e){return b(r(e.url)+"/deleteFeatures",i(e,["where","objectIds","gdbVersion","returnEditMoment","rollbackOnFailure"],{params:n({},e.params)}))}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function E(e,t,n){return r=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==y(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var r}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,x(e,t)}var O,_=s(1315),N=s(5697),T=s.n(N),k=s(4184),R=s.n(k),D=s(800);function j(e){document.body.style.paddingRight=e>0?e+"px":null}function A(e,t){return void 0===e&&(e=""),void 0===t&&(t=O),t?e.split(" ").map((function(e){return t[e]||e})).join(" "):e}function M(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}var P="object"==typeof window&&window.Element||function(){},F=T().oneOfType([T().string,T().func,function(e,t,n){if(!(e[t]instanceof P))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")},T().shape({current:T().any})]),I=T().oneOfType([T().func,T().string,T().shape({$$typeof:T().symbol,render:T().func}),T().arrayOf(T().oneOfType([T().func,T().string,T().shape({$$typeof:T().symbol,render:T().func})]))]),U=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],B=!("undefined"==typeof window||!window.document||!window.document.createElement);function L(e){if(function(e){return!(!e||"object"!=typeof e)&&"current"in e}(e))return e.current;if(function(e){if(!function(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)}(e))return!1;var t=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object Proxy]"===t}(e))return e();if("string"==typeof e&&B){var t=document.querySelectorAll(e);if(t.length||(t=document.querySelectorAll("#"+e)),!t.length)throw new Error("The target '"+e+"' could not be identified in the dom, tip: check spelling");return t}return e}function V(e){return null!==e&&(Array.isArray(e)||B&&"number"==typeof e.length)}var W=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],z={children:T().node.isRequired,node:T().any},q=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null},n.render=function(){return B?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),D.default.createPortal(this.props.children,this.props.node||this.defaultNode)):null},t}(_.default.Component);q.propTypes=z;const G=q;function H(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var K=s(793),X=["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"];function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=J(J({},K.Transition.propTypes),{},{children:T().oneOfType([T().arrayOf(T().node),T().node]),tag:I,baseClass:T().string,baseClassActive:T().string,className:T().string,cssModule:T().object,innerRef:T().oneOfType([T().object,T().string,T().func])}),Y=J(J({},K.Transition.defaultProps),{},{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:150,appear:!0,enter:!0,exit:!0,in:!0});function Q(e){var t=e.tag,n=e.baseClass,r=e.baseClassActive,o=e.className,a=e.cssModule,i=e.children,s=e.innerRef,l=H(e,X),c=function(e,t){for(var n,r=Array.isArray(t)?t:[t],o=r.length,a={};o>0;)a[n=r[o-=1]]=e[n];return a}(l,U),u=M(l,U);return _.default.createElement(K.Transition,c,(function(e){var l="entered"===e,c=A(R()(o,n,l&&r),a);return _.default.createElement(t,C({className:c},u,{ref:s}),i)}))}Q.propTypes=Z,Q.defaultProps=Y;const ee=Q;function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(){}var oe=T().shape(ee.propTypes),ae={isOpen:T().bool,autoFocus:T().bool,centered:T().bool,scrollable:T().bool,size:T().string,toggle:T().func,keyboard:T().bool,role:T().string,labelledBy:T().string,backdrop:T().oneOfType([T().bool,T().oneOf(["static"])]),onEnter:T().func,onExit:T().func,onOpened:T().func,onClosed:T().func,children:T().node,className:T().string,wrapClassName:T().string,modalClassName:T().string,backdropClassName:T().string,contentClassName:T().string,external:T().node,fade:T().bool,cssModule:T().object,zIndex:T().oneOfType([T().number,T().string]),backdropTransition:oe,modalTransition:oe,innerRef:T().oneOfType([T().object,T().string,T().func]),unmountOnClose:T().bool,returnFocusAfterClose:T().bool,container:F,trapFocus:T().bool},ie=Object.keys(ae),se={isOpen:!1,autoFocus:!0,centered:!1,scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:re,onClosed:re,modalTransition:{timeout:300},backdropTransition:{mountOnEnter:!0,timeout:150},unmountOnClose:!0,returnFocusAfterClose:!0,container:"body",trapFocus:!1},le=function(e){function t(t){var n;return(n=e.call(this,t)||this)._element=null,n._originalBodyPadding=null,n.getFocusableChildren=n.getFocusableChildren.bind(S(n)),n.handleBackdropClick=n.handleBackdropClick.bind(S(n)),n.handleBackdropMouseDown=n.handleBackdropMouseDown.bind(S(n)),n.handleEscape=n.handleEscape.bind(S(n)),n.handleStaticBackdropAnimation=n.handleStaticBackdropAnimation.bind(S(n)),n.handleTab=n.handleTab.bind(S(n)),n.onOpened=n.onOpened.bind(S(n)),n.onClosed=n.onClosed.bind(S(n)),n.manageFocusAfterClose=n.manageFocusAfterClose.bind(S(n)),n.clearBackdropAnimationTimeout=n.clearBackdropAnimationTimeout.bind(S(n)),n.trapFocus=n.trapFocus.bind(S(n)),n.state={isOpen:!1,showStaticBackdropAnimation:!1},n}w(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.isOpen,n=e.autoFocus,r=e.onEnter;t&&(this.init(),this.setState({isOpen:!0}),n&&this.setFocus()),r&&r(),document.addEventListener("focus",this.trapFocus,!0),this._isMounted=!0},n.componentDidUpdate=function(e,t){if(this.props.isOpen&&!e.isOpen)return this.init(),void this.setState({isOpen:!0});this.props.autoFocus&&this.state.isOpen&&!t.isOpen&&this.setFocus(),this._element&&e.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)},n.componentWillUnmount=function(){this.clearBackdropAnimationTimeout(),this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),(this.props.isOpen||this.state.isOpen)&&this.close()),document.removeEventListener("focus",this.trapFocus,!0),this._isMounted=!1},n.trapFocus=function(e){if(this.props.trapFocus&&this._element&&!(this._dialog&&this._dialog.parentNode===e.target||this.modalIndex<t.openCount-1)){for(var n=this.getFocusableChildren(),r=0;r<n.length;r++)if(n[r]===e.target)return;n.length>0&&(e.preventDefault(),e.stopPropagation(),n[0].focus())}},n.onOpened=function(e,t){this.props.onOpened(),(this.props.modalTransition.onEntered||re)(e,t)},n.onClosed=function(e){var t=this.props.unmountOnClose;this.props.onClosed(),(this.props.modalTransition.onExited||re)(e),t&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})},n.setFocus=function(){this._dialog&&this._dialog.parentNode&&"function"==typeof this._dialog.parentNode.focus&&this._dialog.parentNode.focus()},n.getFocusableChildren=function(){return this._element.querySelectorAll(W.join(", "))},n.getFocusedChild=function(){var e,t=this.getFocusableChildren();try{e=document.activeElement}catch(n){e=t[0]}return e},n.handleBackdropClick=function(e){if(e.target===this._mouseDownElement){e.stopPropagation();var t=this._dialog?this._dialog.parentNode:null;if(t&&e.target===t&&"static"===this.props.backdrop&&this.handleStaticBackdropAnimation(),!this.props.isOpen||!0!==this.props.backdrop)return;t&&e.target===t&&this.props.toggle&&this.props.toggle(e)}},n.handleTab=function(e){if(9===e.which&&!(this.modalIndex<t.openCount-1)){var n=this.getFocusableChildren(),r=n.length;if(0!==r){for(var o=this.getFocusedChild(),a=0,i=0;i<r;i+=1)if(n[i]===o){a=i;break}e.shiftKey&&0===a?(e.preventDefault(),n[r-1].focus()):e.shiftKey||a!==r-1||(e.preventDefault(),n[0].focus())}}},n.handleBackdropMouseDown=function(e){this._mouseDownElement=e.target},n.handleEscape=function(e){this.props.isOpen&&27===e.keyCode&&this.props.toggle&&(this.props.keyboard?(e.preventDefault(),e.stopPropagation(),this.props.toggle(e)):"static"===this.props.backdrop&&(e.preventDefault(),e.stopPropagation(),this.handleStaticBackdropAnimation()))},n.handleStaticBackdropAnimation=function(){var e=this;this.clearBackdropAnimationTimeout(),this.setState({showStaticBackdropAnimation:!0}),this._backdropAnimationTimeout=setTimeout((function(){e.setState({showStaticBackdropAnimation:!1})}),100)},n.init=function(){try{this._triggeringElement=document.activeElement}catch(e){this._triggeringElement=null}var e,n,r,o;this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._mountContainer=V(e=L(this.props.container))?e[0]:e,this._mountContainer.appendChild(this._element)),this._originalBodyPadding=function(){var e=window.getComputedStyle(document.body,null);return parseInt(e&&e.getPropertyValue("padding-right")||0,10)}(),n=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}(),r=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],o=r?parseInt(r.style.paddingRight||0,10):0,document.body.clientWidth<window.innerWidth&&j(o+n),0===t.openCount&&(document.body.className=R()(document.body.className,A("modal-open",this.props.cssModule))),this.modalIndex=t.openCount,t.openCount+=1},n.destroy=function(){this._element&&(this._mountContainer.removeChild(this._element),this._element=null),this.manageFocusAfterClose()},n.manageFocusAfterClose=function(){if(this._triggeringElement){var e=this.props.returnFocusAfterClose;this._triggeringElement.focus&&e&&this._triggeringElement.focus(),this._triggeringElement=null}},n.close=function(){if(t.openCount<=1){var e=A("modal-open",this.props.cssModule),n=new RegExp("(^| )"+e+"( |$)");document.body.className=document.body.className.replace(n," ").trim()}this.manageFocusAfterClose(),t.openCount=Math.max(0,t.openCount-1),j(this._originalBodyPadding)},n.renderModalDialog=function(){var e,t=this,n=M(this.props,ie),r="modal-dialog";return _.default.createElement("div",C({},n,{className:A(R()(r,this.props.className,(e={},e["modal-"+this.props.size]=this.props.size,e[r+"-centered"]=this.props.centered,e[r+"-scrollable"]=this.props.scrollable,e)),this.props.cssModule),role:"document",ref:function(e){t._dialog=e}}),_.default.createElement("div",{className:A(R()("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))},n.render=function(){var e=this.props.unmountOnClose;if(this._element&&(this.state.isOpen||!e)){var t=!!this._element&&!this.state.isOpen&&!e;this._element.style.display=t?"none":"block";var n=this.props,r=n.wrapClassName,o=n.modalClassName,a=n.backdropClassName,i=n.cssModule,s=n.isOpen,l=n.backdrop,c=n.role,u=n.labelledBy,d=n.external,p=n.innerRef,h={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":u,role:c,tabIndex:"-1"},f=this.props.fade,m=ne(ne(ne({},ee.defaultProps),this.props.modalTransition),{},{baseClass:f?this.props.modalTransition.baseClass:"",timeout:f?this.props.modalTransition.timeout:0}),g=ne(ne(ne({},ee.defaultProps),this.props.backdropTransition),{},{baseClass:f?this.props.backdropTransition.baseClass:"",timeout:f?this.props.backdropTransition.timeout:0}),b=l&&(f?_.default.createElement(ee,C({},g,{in:s&&!!l,cssModule:i,className:A(R()("modal-backdrop",a),i)})):_.default.createElement("div",{className:A(R()("modal-backdrop","show",a),i)}));return _.default.createElement(G,{node:this._element},_.default.createElement("div",{className:A(r)},_.default.createElement(ee,C({},h,m,{in:s,onEntered:this.onOpened,onExited:this.onClosed,cssModule:i,className:A(R()("modal",o,this.state.showStaticBackdropAnimation&&"modal-static"),i),innerRef:p}),d,this.renderModalDialog()),b))}return null},n.clearBackdropAnimationTimeout=function(){this._backdropAnimationTimeout&&(clearTimeout(this._backdropAnimationTimeout),this._backdropAnimationTimeout=void 0)},t}(_.default.Component);le.propTypes=ae,le.defaultProps=se,le.openCount=0;const ce=le;var ue=["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","charCode","close"],de={tag:I,wrapTag:I,toggle:T().func,className:T().string,cssModule:T().object,children:T().node,closeAriaLabel:T().string,charCode:T().oneOfType([T().string,T().number]),close:T().object},pe=function(e){var t,n=e.className,r=e.cssModule,o=e.children,a=e.toggle,i=e.tag,s=e.wrapTag,l=e.closeAriaLabel,c=e.charCode,u=e.close,d=H(e,ue),p=A(R()(n,"modal-header"),r);if(!u&&a){var h="number"==typeof c?String.fromCharCode(c):c;t=_.default.createElement("button",{type:"button",onClick:a,className:A("close",r),"aria-label":l},_.default.createElement("span",{"aria-hidden":"true"},h))}return _.default.createElement(s,C({},d,{className:p}),_.default.createElement(i,{className:A("modal-title",r)},o),u||t)};pe.propTypes=de,pe.defaultProps={tag:"h5",wrapTag:"div",closeAriaLabel:"Close",charCode:215};const he=pe;var fe=s(4145),me=s(3379),ge=s.n(me),be=s(7795),ve=s.n(be),ye=s(569),Ee=s.n(ye),Ce=s(3565),Se=s.n(Ce),xe=s(9216),we=s.n(xe),Oe=s(4589),_e=s.n(Oe),Ne=s(2058),Te={};Te.styleTagTransform=_e(),Te.setAttributes=Se(),Te.insert=Ee().bind(null,"head"),Te.domAPI=ve(),Te.insertStyleElement=we(),ge()(Ne.Z,Te),Ne.Z&&Ne.Z.locals&&Ne.Z.locals;class ke extends e.React.PureComponent{constructor(t){super(t),this.showModal=()=>{this.setState({showAdd:!0})},this.hideModal=()=>{this.setState({showAdd:!1})},this.showEditModal=()=>{let e=this.dsManager.getDataSource(this.props.useDataSources[0].mainDataSourceId).getSelectedRecords()[0];e&&(this.setState({newFilterName:e.getFieldValue("preset_name")}),this.setState({newSliderValue:e.getFieldValue("preset_rating")}),this.setState({newFilterDescription:e.getFieldValue("preset_description")}),this.setState({newCheckboxValue:-1==e.getFieldValue("preset_shared")}),this.setState({showEdit:!0}))},this.hideEditModal=()=>{this.setState({showEdit:!1})},this.loadOnce=!1,this.saveFilter=t=>{const n=(0,e.getAppStore)().getState().appConfig.widgets;Object.values(n).filter((e=>"widgets/uniperFilter/"===e.uri)).forEach((r=>{let o=r.id,a=n[o],i=this.props.useDataSources[1].mainDataSourceId;a&&a.config&&this.props.dispatch(e.appActions.widgetStatePropChange(o,"saveConfigTrigger",'{"relationId": "'+t+'","dsToSave": "'+i+'", "relationId": "'+t+'"}'))}))},this.applyFilter=t=>{const n=(0,e.getAppStore)().getState().appConfig.widgets;Object.values(n).filter((e=>"widgets/uniperFilter/"===e.uri)).forEach((r=>{let o=r.id,a=n[o];if(a&&a.config){let n='{"relationId": "'+t+'", "configDs":"'+this.props.useDataSources[1].mainDataSourceId+'"}';this.props.dispatch(e.appActions.widgetStatePropChange(o,"setFilterValues",n))}}))},this.isDsConfigured=()=>!(!this.props.useDataSources||2!==this.props.useDataSources.length),this.applyPreset=()=>{this.updateDataSourceList();let e=this.dsManager.getDataSource(this.props.useDataSources[0].mainDataSourceId).getSelectedRecords()[0];this.applyFilter(e.getId())},this.addPreset=()=>{if(this.updateDataSourceList(),this.props.useDataSources.length>0){const t=this.props.useDataSources[0],o=this.dsManager.getDataSource(t.mainDataSourceId);let a="";(e={url:o.url,features:[{geometry:{x:0,y:0},attributes:{preset_name:this.state.newFilterName,preset_creator:this.props.user.username,preset_rating:this.state.newSliderValue,preset_value:a,preset_description:this.state.newFilterDescription,preset_shared:this.state.newCheckboxValue,preset_exbPage:this.page}}]},b(r(e.url)+"/addFeatures",i(e,["features","gdbVersion","returnEditMoment","rollbackOnFailure"],{params:n({},e.params)}))).then((e=>{o.setNeedRefresh(!0);let t=Object.values(e)[0];this.saveFilter(t[0].objectId),this.hideModal()}))}var e},this.deletePreset=()=>{if(this.updateDataSourceList(),this.props.useDataSources.length>0){const e=this.dsManager.getDataSource(this.props.useDataSources[0].mainDataSourceId);let t=+e.getSelectedRecordIds()[0];v({url:e.url,objectIds:[t]}).then((n=>{this.deleteRelatedFilterConfig(t),e.setNeedRefresh(!0)}))}},this.deleteRelatedFilterConfig=e=>{const t=this.dsManager.getDataSource(this.props.useDataSources[1].mainDataSourceId),n={where:`filterConfig_relationId LIKE '%${e}%'`};t.query(n).then((e=>{const n=e.records.map((e=>e.getId())).map(Number);v({url:t.url,objectIds:n}).then((e=>{t.setNeedRefresh(!0)}))}))},this.editPreset=()=>{if(this.updateDataSourceList(),this.props.useDataSources.length>0){const t=this.dsManager.getDataSource(this.props.useDataSources[0].mainDataSourceId);let o=+t.getSelectedRecordIds()[0];(e={url:t.url,features:[{geometry:{x:0,y:0},attributes:{OBJECTID:o,preset_name:this.state.newFilterName,preset_rating:this.state.newSliderValue,preset_description:this.state.newFilterDescription,preset_shared:this.state.newCheckboxValue}}]},b(r(e.url)+"/updateFeatures",i(e,["features","gdbVersion","returnEditMoment","rollbackOnFailure","trueCurveClient"],{params:n({},e.params)}))).then((e=>{t.setNeedRefresh(!0),t.clearSelection(),console.log(e),this.hideEditModal()}))}var e},this.unselectAllFilterTabs=()=>{this.state.dataSourceMap.entries().forEach((e=>{this.dsManager.getDataSource(e[1]).clearSelection()}));const t=(0,e.getAppStore)().getState().appConfig.widgets,n=Object.values(t),r=n.filter((e=>"widgets/common/filter/"===e.uri));console.log("All Widget Names:",n),r.forEach((n=>{let r=n.id,o=t[r];o&&o.config&&this.props.dispatch(e.appActions.widgetStatePropChange(r,"resetFilter",!0))}))},this.handleFiltername=e=>{this.setState({newFilterName:e.target.value})},this.handleFilterdescription=e=>{this.setState({newFilterDescription:e.target.value})},this.handleSliderChange=e=>{this.setState({newSliderValue:e.target.value})},this.handleCheckboxchange=e=>{this.setState({newCheckboxValue:e.target.checked})},this.handleRowselection=(e,t,n)=>{var r;(null===(r=n.target)||void 0===r?void 0:r.attributes[1])?(this.setState({triggerApplyEditRemove:!0}),e.clearSelection()):(this.setState({triggerApplyEditRemove:!1}),e.selectRecordById(t.getId())),t.getFieldValue("preset_creator")==this.props.user.username?this.setState({sameUser:!0}):this.setState({sameUser:!1})},this.page=(0,e.getAppStore)().getState().appRuntimeInfo.currentPageId,this.state={showAdd:!1,showEdit:!1,newFilterName:"",newFilterDescription:"",newSliderValue:0,newCheckboxValue:!1,triggerApplyEditRemove:!0,dataSourceMap:new Map,sameUser:!1},this.dsManager=e.DataSourceManager.getInstance()}componentDidMount(){!function(e,t){e.authentication&&!t&&console&&console.warn&&console.warn.apply(console,["You should not set `authentication` as a default in a shared environment such as a web server which will process multiple users requests. You can call `setDefaultRequestOptions` with `true` as a second argument to disable this warning."]),m=e}({authentication:e.SessionManager.getInstance().getMainSession()})}componentWillUnmount(){console.log("unmount presetwidget -> "+this.page),this.dsManager.destroyDataSource(this.props.useDataSources[0].mainDataSourceId)}updateDataSourceList(){this.loadOnce||(e.DataSourceManager.getInstance().getConfiguredDataSources().forEach((e=>{e.isDataSourceSet||e.isDataView||!e.url.includes(this.props.config.uniqueFiltertableString)||this.state.dataSourceMap.set(e.getFetchedSchema().label,e.getMainDataSource().id)})),this.loadOnce=!0)}content(){return e.React.createElement("div",null,e.React.createElement(ce,{isOpen:this.state.showAdd||this.state.showEdit,onClosed:function(){},onEnter:function(){},onExit:function(){},onOpened:function(){},toggle:function(){}},this.state.showAdd&&e.React.createElement(he,null,"Add Preset Filter"),this.state.showEdit&&e.React.createElement(he,null,"Update Preset Filter"),e.React.createElement(t.ModalBody,null,e.React.createElement("p",null,"Preset Name:",this.state.showAdd&&e.React.createElement(t.TextInput,{onChange:this.handleFiltername}),this.state.showEdit&&e.React.createElement(t.TextInput,{value:this.state.newFilterName,onChange:this.handleFiltername,"read-only":!this.state.sameUser})),e.React.createElement("p",null,"Preset Description:",this.state.showAdd&&e.React.createElement(t.TextInput,{onChange:this.handleFilterdescription}),this.state.showEdit&&e.React.createElement(t.TextInput,{value:this.state.newFilterDescription,onChange:this.handleFilterdescription,"read-only":!this.state.sameUser})),e.React.createElement("p",null,this.state.showAdd&&e.React.createElement(fe.CalciteRating,{scale:"s",onCalciteRatingChange:this.handleSliderChange}),this.state.showEdit&&e.React.createElement(fe.CalciteRating,{scale:"s",value:this.state.newSliderValue,onClick:this.handleSliderChange})),e.React.createElement("p",null,this.state.showAdd&&e.React.createElement("div",null,e.React.createElement(fe.CalciteCheckbox,{scale:"s",onCalciteCheckboxChange:this.handleCheckboxchange})," Teilen"),this.state.showEdit&&e.React.createElement("div",null,e.React.createElement(fe.CalciteCheckbox,{scale:"s",value:this.state.newCheckboxValue,checked:this.state.newCheckboxValue,onCalciteCheckboxChange:this.handleCheckboxchange,"read-only":!this.state.sameUser})," Teilen"))),this.state.showAdd&&e.React.createElement(t.ModalFooter,null,e.React.createElement(t.Button,{onClick:this.hideModal},"Cancel"),e.React.createElement(t.Button,{onClick:this.addPreset,type:"primary"},"Add Preset")),this.state.showEdit&&e.React.createElement(t.ModalFooter,null,e.React.createElement(t.Button,{onClick:this.hideEditModal},"Cancel"),e.React.createElement(t.Button,{onClick:this.editPreset,type:"primary"},"Update Preset"))))}render(){return this.isDsConfigured()?e.React.createElement("div",{className:"widget-get-map-coordinates jimu-widget p-2"},this.content(),e.React.createElement(e.DataSourceComponent,{useDataSource:this.props.useDataSources[0],query:{where:"((LOWER(preset_creator) = '"+this.props.user.username+"')  or (preset_shared = -1)) and (preset_exbPage = '"+this.page+"')"},widgetId:this.props.id},((t,n)=>e.React.createElement("div",{className:"record-list"},e.React.createElement(fe.CalciteTable,{caption:"Simple table","page-size":"5",zebra:!0,bordered:!0,"selection-mode":"single",layout:"fixed"},e.React.createElement("calcite-action-bar",{slot:"selection-actions",layout:"horizontal","expand-disabled":!0},e.React.createElement("calcite-action",{text:"Add",icon:"plus",onClick:this.showModal}),e.React.createElement("calcite-action",{text:"Apply",icon:"check",onClick:this.applyPreset}),e.React.createElement("calcite-action",{text:"Edit",icon:"edit-attributes",onClick:this.showEditModal}),e.React.createElement("calcite-action",{text:"Delete",icon:"trash",onClick:this.deletePreset}),e.React.createElement("calcite-action",{text:"Reset",icon:"reset",onClick:this.unselectAllFilterTabs})),e.React.createElement(fe.CalciteTableRow,{slot:"table-header"},e.React.createElement(fe.CalciteTableHeader,{heading:"Name",class:"columnwidthfixed"}),e.React.createElement(fe.CalciteTableHeader,{heading:"Description",class:"columnwidthfixed"}),e.React.createElement(fe.CalciteTableHeader,{heading:"Rating",class:"columnwidthfixed"}),e.React.createElement(fe.CalciteTableHeader,{heading:"Shared",class:"columnwidthfixed"})),t&&t.getStatus()===e.DataSourceStatus.Loaded?t.getRecords().map(((n,r)=>e.React.createElement(fe.CalciteTableRow,{onCalciteTableRowSelect:e=>{this.handleRowselection(t,n,e)}},e.React.createElement(fe.CalciteTableCell,{class:"columnwidthfixed"},n.getFieldValue("preset_name")),e.React.createElement(fe.CalciteTableCell,{class:"columnwidthauto"},n.getFieldValue("preset_description")),e.React.createElement(fe.CalciteTableCell,{class:"columnwidthfixed"},e.React.createElement(fe.CalciteRating,{scale:"s",value:n.getFieldValue("preset_rating"),"read-only":!0})),e.React.createElement(fe.CalciteTableCell,{class:"columnwidthfixed"},e.React.createElement(fe.CalciteCheckbox,{value:n.getFieldValue("preset_shared"),checked:-1==n.getFieldValue("preset_shared"),disabled:!0}))))):null)))),e.React.createElement(e.DataSourceComponent,{useDataSource:this.props.useDataSources[1],widgetId:this.props.id})):e.React.createElement("h3",null,"Please config data source.")}}function Re(e){s.p=e}})(),l})())}}}));