System.register(["jimu-core","jimu-for-builder","jimu-for-builder/service","jimu-ui/advanced/setting-components","jimu-arcgis","jimu-ui","jimu-ui/advanced/data-source-selector"], function(__WEBPACK_DYNAMIC_EXPORT__, __system_context__) {
	var __WEBPACK_EXTERNAL_MODULE_jimu_core__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_for_builder__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_for_builder_service__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_data_source_selector__ = {};
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_core__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_for_builder__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_for_builder_service__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_data_source_selector__, "__esModule", { value: true });
	return {
		setters: [
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_core__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_for_builder__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_for_builder_service__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_data_source_selector__[key] = module[key];
				});
			}
		],
		execute: function() {
			__WEBPACK_DYNAMIC_EXPORT__(
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./jimu-icons/svg/outlined/application/link-horizontal.svg":
/*!*****************************************************************!*\
  !*** ./jimu-icons/svg/outlined/application/link-horizontal.svg ***!
  \*****************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M4 4h2.5v1H4a3 3 0 0 0 0 6h2.5v1H4a4 4 0 1 1 0-8M12 11H9.5v1H12a4 4 0 1 0 0-8H9.5v1H12a3 3 0 0 1 0 6\"></path><path fill=\"#000\" d=\"M5.5 7.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/close.svg":
/*!**************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/close.svg ***!
  \**************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"m8.745 8 6.1 6.1a.527.527 0 1 1-.745.746L8 8.746l-6.1 6.1a.527.527 0 1 1-.746-.746l6.1-6.1-6.1-6.1a.527.527 0 0 1 .746-.746l6.1 6.1 6.1-6.1a.527.527 0 0 1 .746.746z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/trash.svg":
/*!**************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/trash.svg ***!
  \**************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M6 6.5a.5.5 0 0 1 1 0v6a.5.5 0 0 1-1 0zM9.5 6a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 1 0v-6a.5.5 0 0 0-.5-.5\"></path><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M11 0H5a1 1 0 0 0-1 1v2H.5a.5.5 0 0 0 0 1h1.6l.81 11.1a1 1 0 0 0 .995.9h8.19a1 1 0 0 0 .995-.9L13.9 4h1.6a.5.5 0 0 0 0-1H12V1a1 1 0 0 0-1-1m0 3V1H5v2zm1.895 1h-9.79l.8 11h8.19z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/outlined/application/link-horizontal.tsx":
/*!*************************************************************!*\
  !*** ./jimu-icons/outlined/application/link-horizontal.tsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LinkHorizontalOutlined: () => (/* binding */ LinkHorizontalOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_application_link_horizontal_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/application/link-horizontal.svg */ "./jimu-icons/svg/outlined/application/link-horizontal.svg");
/* harmony import */ var _svg_outlined_application_link_horizontal_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_application_link_horizontal_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const LinkHorizontalOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_application_link_horizontal_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/close.tsx":
/*!**********************************************!*\
  !*** ./jimu-icons/outlined/editor/close.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CloseOutlined: () => (/* binding */ CloseOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/close.svg */ "./jimu-icons/svg/outlined/editor/close.svg");
/* harmony import */ var _svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const CloseOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/trash.tsx":
/*!**********************************************!*\
  !*** ./jimu-icons/outlined/editor/trash.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TrashOutlined: () => (/* binding */ TrashOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_trash_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/trash.svg */ "./jimu-icons/svg/outlined/editor/trash.svg");
/* harmony import */ var _svg_outlined_editor_trash_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_trash_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const TrashOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_trash_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./your-extensions/widgets/uniperCapture/src/service/survey123.service.ts":
/*!********************************************************************************!*\
  !*** ./your-extensions/widgets/uniperCapture/src/service/survey123.service.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Survey123Service: () => (/* binding */ Survey123Service),
/* harmony export */   survey123Service: () => (/* binding */ survey123Service)
/* harmony export */ });
/**
 * survey123 service
 */
class Survey123Service {
    setQueryObject(obj) {
        const objStr = obj ? obj.survey123 : '';
        const urlString = objStr ? decodeURIComponent(objStr + '') : '';
        const val = this._urlParamToJson(urlString);
        this.queryObj = val;
    }
    /**
     * https://devtopia.esri.com/Beijing-R-D-Center/ExperienceBuilder-Web-Extensions/issues/4659
     * get survey host url from portal's config.js file
     * @param portalUrl
     */
    getSurveyHostUrlFromPortal(portalUrl) {
        portalUrl = portalUrl || 'https://www.arcgis.com';
        // read cache from this.surveyUrlFromPortal
        if (this.surveyUrlFromPortal || this.surveyUrlFromPortal === null) {
            return Promise.resolve(this.surveyUrlFromPortal);
        }
        // read cache from window.esriGeowConfig.surveyUrl
        const esriGeowConfig = window.esriGeowConfig;
        if (esriGeowConfig && esriGeowConfig.surveyUrl) {
            this.surveyUrlFromPortal = esriGeowConfig.surveyUrl;
            return Promise.resolve(this.surveyUrlFromPortal);
        }
        let configJSUrl = '';
        if (!(portalUrl.endsWith('/'))) {
            portalUrl += '/';
        }
        configJSUrl = portalUrl + 'home/js/arcgisonline/config.js';
        // In order to avoid cross domain error, create a script tag to load the config js.
        const script = document.createElement('script');
        script.type = 'text/javascript';
        script.src = configJSUrl;
        const htmlNode = document.documentElement;
        const htmlDir = htmlNode.getAttribute('dir');
        return new Promise((resolve, reject) => {
            script.onload = () => {
                // reset the html direction, see https://devtopia.esri.com/Beijing-R-D-Center/ExperienceBuilder/issues/11310#issuecomment-3061509
                if (htmlNode.getAttribute('dir') !== htmlDir) {
                    htmlNode.setAttribute('dir', htmlDir);
                }
                const cfg = window.esriGeowConfig;
                if (cfg && cfg.surveyUrl) {
                    this.surveyUrlFromPortal = cfg.surveyUrl;
                    resolve(cfg.surveyUrl);
                }
                else {
                    this.surveyUrlFromPortal = null;
                    resolve(null);
                }
            };
            script.onerror = () => {
                if (htmlNode.getAttribute('dir') !== htmlDir) {
                    htmlNode.setAttribute('dir', htmlDir);
                }
                console.log('Failed to get survey url from portal\'s config.js, will fallback to use the default survey123 url.');
                this.surveyUrlFromPortal = null;
                resolve(null);
            };
            document.getElementsByTagName('head')[0].appendChild(script);
        });
    }
    /**
     * get survey123 host url
     */
    getSurvey123HostUrl() {
        /**
         * Beijing-R-D-Center/ExperienceBuilder/issues/88
         * we need to check url host to see which survey123 host url we will use
         * wabbuild.esri.com > survey123dec.arcgis.com
         * experiencedev.arcgis.com > survey123dev.arcgis.com
         * experienceqa.arcgis.com > survey123qa.arcgis.com
         * experience.arcgis.com > survey123.arcgis.com
         * default > survey123.arcgis.com
         *
         */
        let url = 'https://survey123.arcgis.com';
        // url from portal config.js
        if (this.surveyUrlFromPortal) {
            url = this.surveyUrlFromPortal;
        }
        let env = window.jimuConfig.hostEnv;
        if (this.queryObj && this.queryObj.env) {
            env = this.queryObj.env + '';
            // when the env is a url: refer to: https://devtopia.esri.com/Beijing-R-D-Center/ExperienceBuilder-Web-Extensions/issues/5975#issuecomment-2866368
            if (env.startsWith('http://') || env.startsWith('https://')) {
                return env;
            }
        }
        // if the url mode is like https://survey123${subName}.arcgis.com, will let the env from url work,
        // otherwise, ignore the env from url.
        let isNormalSurveyUrl = true;
        if (url !== 'https://survey123.arcgis.com') {
            const matchRst = url.match(/https:\/\/survey123(.[^\.]*)\.arcgis\.com/);
            isNormalSurveyUrl = !!((matchRst && matchRst.length));
        }
        if (env && env !== 'prd' && env !== 'prod' && isNormalSurveyUrl) {
            url = `https://survey123${env}.arcgis.com`;
        }
        return url;
    }
    /**
    * get the api url
    */
    getSurvey123HostAPIUrl() {
        let url = this.getSurvey123HostUrl() + '/api/jsapi/3.19/'; //  '/share/survey123webform-jsapi.js';
        if (this.queryObj && this.queryObj.jsapi) {
            url = this.getSurvey123HostUrl() + '/api/jsapi/' + this.queryObj.jsapi;
        }
        // only for debugger locally
        // const isDebug: boolean = false;
        // if (isDebug) {
        //   url = `https://nanzhang.arcgis.com:8443/webclient/survey123webform-jsapi.js`;
        // }
        return url;
    }
    /**
     * create survey by survey123 rest api
     * @param title
     * @param tags
     * @param options
     */
    createSurvey(title, tags, commonParams, options) {
        // options
        options = Object.assign({
            snippet: ''
        }, options || {});
        return Promise.resolve(true)
            .then(() => {
            if (!title || !commonParams || !commonParams.token || !commonParams.username) {
                throw new Error('missing title, tags, username or token');
            }
        })
            .then(() => {
            const url = `${this.getSurvey123HostUrl()}/api/survey/create`;
            const params = {
                title: title,
                tags: tags && Array.isArray(tags) ? tags.join(',') : (tags || null),
                snippet: options.snippet,
                thumbnailUrl: options.thumbnailUrl,
                token: commonParams.token,
                username: commonParams.username,
                portalUrl: commonParams.portalUrl || 'https://www.arcgis.com'
            };
            return fetch(url, {
                mode: 'cors',
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json; charset=utf-8'
                },
                body: JSON.stringify(params)
            })
                .then((res) => {
                if (res.ok) {
                    return res.json();
                }
                throw res;
            });
        });
    }
    /**
     * isPortal is to check if the current portalUrl (from config or from url params) is arcgis online portals or not
     */
    isPortal(portalUrl) {
        const arcgisOnlinePortalUrls = ['www.arcgis.com', 'devext.arcgis.com', 'qaext.arcgis.com'];
        // check if the portalUrl is arcgis online url
        const isArcgisOnline = arcgisOnlinePortalUrls.find((url, i) => {
            return portalUrl.includes(url);
        });
        return !isArcgisOnline;
    }
    /**
     * query survey
     * @param commonParams
     * @param options
     * Reminder: if searchSurveyType is 'all-admin', even the isSearchAll is true, the result count still has a limitation: 1000. this is the api's behaviour
     */
    querySurvey(commonParams, options) {
        // options
        options = Object.assign({
            isPublished: false,
            isSearchAll: true,
            surveyClientAPI: null
        }, options || {});
        return Promise.resolve(true)
            .then(() => {
            if (!commonParams || !commonParams.token || !commonParams.username) {
                throw new Error('missing token or username');
            }
        })
            .then(() => {
            const params = {
                isPublished: options.isPublished,
                isSearchAll: options.isSearchAll,
                token: commonParams.token,
                username: commonParams.username,
                portalUrl: commonParams.portalUrl || 'https://www.arcgis.com'
            };
            if (options.searchSurveyType) {
                params.searchSurveyType = options.searchSurveyType;
            }
            if (!options.surveyClientAPI) {
                console.log('Survey client api is not provided.');
                // todo: do we need to request rest api if the js api failed to work?
                return null;
            }
            return options.surveyClientAPI.survey123.searchSurvey(params)
                .then((res) => {
                if (res && res.results) {
                    return res.results;
                }
                throw res;
            });
        });
    }
    /**
     * query others' survey
     * @param commonParams
     * @param options
     * todo: will use survey api instead when the api emplements this feature
     */
    queryOthersSurvey(commonParams, options) {
        return Promise.resolve(true)
            .then(() => {
            if (!commonParams || !commonParams.token || !commonParams.username) {
                throw new Error('missing token or username');
            }
        })
            .then(() => {
            const params = {
                token: commonParams.token,
                username: commonParams.username,
                portalUrl: commonParams.portalUrl || 'https://www.arcgis.com',
                orgId: options.orgId
            };
            let response = null;
            // build query parameter: q
            const q = `((type:Form AND (typekeywords:xForm OR typekeywords:Form)) OR (type:'Code Sample' AND typekeywords:XForms AND tags:'xform')) AND (NOT owner:${params.username}) AND (access:shared OR access:org OR (access:public AND orgid:${params.orgId}) OR access:private)`;
            // get search url
            const searchUrl = `${params.portalUrl}/sharing/rest/search`;
            // search params
            const searchParams = {
                q: q
            };
            return this.searchAGO(searchUrl, searchParams, commonParams)
                .then((res) => {
                response = res;
                // the first 100 surveys
                res.results = (res.results || []).map((item) => {
                    return this.convertItemToSurveyInfo(item, commonParams);
                });
                /**
                 * there is not more searched items
                 * return results
                 */
                if (res.nextStart === -1) {
                    return response;
                }
                /**
                 * recusively search remaing items
                 */
                const promises = [];
                let count = Math.floor(res.total / res.num);
                const remainder = res.total % res.num;
                if (remainder > 0) {
                    count += 1;
                }
                for (let i = 1; i < count; i++) {
                    const params = Object.assign({}, searchParams, {
                        start: (i * res.num) + 1
                    });
                    if (params.start <= res.total) {
                        promises.push(this.searchAGO(searchUrl, params, commonParams));
                    }
                }
                return Promise.all(promises)
                    .then((results) => {
                    if (!results) {
                        throw new Error('something wrong when searchAll');
                    }
                    // the first 100 surveys
                    let items = res.results || [];
                    let nextStart = -1;
                    // the 101st - last surveys
                    results.forEach((result, i) => {
                        // conver the item to survey info(to let it be identical with the data structure returned from survey search api)
                        const surveys = result.results.map((item) => {
                            return this.convertItemToSurveyInfo(item, commonParams);
                        });
                        items = items.concat(surveys);
                        /**
                        * get nextStart in the last result
                        */
                        if (i === results.length - 1) {
                            nextStart = result.nextStart;
                        }
                    });
                    response.nextStart = nextStart;
                    response.results = items;
                    return response;
                });
            });
        })
            .then((response) => {
            return response ? (response.results || []) : [];
        });
    }
    /**
     * search from ago
     * @param searchUrl
     * @param searchParams
     * @param commonParams
     * @returns
     */
    searchAGO(searchUrl, searchParams, commonParams) {
        searchParams = Object.assign({
            num: 100,
            start: 1,
            sortField: 'title',
            sortOrder: 'asc'
        }, searchParams);
        const reuqestParams = Object.assign({}, {
            f: 'json',
            token: commonParams.token
        }, searchParams);
        const requestUrl = `${searchUrl}?${Object.keys(reuqestParams).map((k) => k + '=' + reuqestParams[k]).join('&')}`;
        return fetch(requestUrl, {
            mode: 'cors',
            method: 'GET'
        })
            .then((res) => {
            if (res.ok) {
                return res.json();
            }
            throw res;
        });
    }
    convertItemToSurveyInfo(item, params) {
        return {
            created: item.created,
            featureService: null,
            form: null,
            formItemInfo: item,
            id: item.id,
            owner: item.owner,
            report: null,
            snippet: item.snippet,
            tags: item.tags,
            thumbnail: `${params.portalUrl}/sharing/rest/content/items/${item.id}/info/${item.thumbnail}?token=${params.token}`,
            title: item.title
        };
    }
    /**
     * get survey123 designer url
     */
    getSurvey123DesignerUrl(surveyItemId, options) {
        // options
        options = Object.assign({}, options || {});
        let url = `${this.getSurvey123HostUrl()}/surveys/${surveyItemId}/design?embed=exb`;
        if (options.portalUrl && options.portalUrl !== 'https://www.arcgis.com') {
            url += `&portalUrl=${options.portalUrl}`;
        }
        if (this.getSurvey123HostUrl() === 'https://survey123dev.arcgis.com' && (!options.portalUrl || options.portalUrl === 'https://www.arcgis.com')) {
            url += `&portalUrl=${options.portalUrl}`;
        }
        return url;
    }
    /**
     *
     * @param surveyItemId
     * @param options
     */
    getSurvey123WebformUrl(surveyItemId, options) {
        // options
        options = Object.assign({
            queryParams: []
        }, options || {});
        const isDebug = false;
        let url = `${this.getSurvey123HostUrl()}/share/${surveyItemId}`;
        /**
         * debugg only
         */
        if (isDebug) {
            url = `https://nanzhang.arcgis.com:8443/webclient/?appid=${surveyItemId}`;
        }
        if (options.queryParams.length > 0) {
            url += `${(isDebug) ? '&' : '?'}${options.queryParams.join('&')}`;
        }
        return url;
    }
    /**
     * flat questions, move the questions out if they are in the group.
     * ignore repeat questions until we plan to support it.
     */
    flatQuestions(questions) {
        let result = [];
        questions.forEach((ques) => {
            // single question
            if (!ques.questions) {
                result.push(ques);
            }
            else if (ques.type !== 'esriQuestionTypeRepeat') {
                if (ques.type === 'esriQuestionTypeAddress') {
                    result.push(ques);
                }
                result = result.concat(this.flatQuestions(ques.questions));
            }
        });
        return result;
    }
    /**
     * Deprecated
     * get survey question fields
     * @param surveyItemId
     * @param commonParams
     */
    getSurveyQuestionFields(surveyItemId, commonParams) {
        return Promise.resolve(true)
            .then(() => {
            if (!surveyItemId || !commonParams || !commonParams.token) {
                throw new Error('missing surveyItemId or token');
            }
        })
            .then(() => {
            let url = `${this.getSurvey123HostUrl()}/api/survey/${surveyItemId}/form`;
            const params = {
                token: commonParams.token,
                portalUrl: commonParams.portalUrl
            };
            url = `${url}?${Object.keys(params).map((k) => k + '=' + params[k]).join('&')}`;
            return fetch(url, {
                mode: 'cors',
                method: 'GET'
            })
                .then((res) => {
                if (res.ok) {
                    return res.json();
                }
                throw res;
            });
        });
    }
    /**
     * for multilingual survey, the label is an object like:
     * {
     *    en: 'English label',
     *    'zh-cn': 'Chinese label'
     * }
     * @param question
     * @returns
     */
    getQuesLabelString(question, options) {
        var _a;
        options = Object.assign({
            locales: [],
            currentLocale: 'en'
        }, options || {});
        if (!question || !question.label) {
            return '';
        }
        let label = question.label;
        if (typeof label === 'object') {
            /**
             * get default locale
             */
            let defaultLocale = Object.keys(options.locales || []).find((localConfig) => {
                return (localConfig.isDefault + '') === 'true';
            });
            if (defaultLocale) {
                defaultLocale = defaultLocale.code || 'en';
            }
            /**
             * get the matched locale
             */
            const localesCodes = (_a = options.locales) === null || _a === void 0 ? void 0 : _a.map((locale) => {
                return (locale.code + '').trim();
            });
            const matchedLocale = this._findMatchedLocale(options.currentLocale, localesCodes) || defaultLocale;
            if (matchedLocale && matchedLocale in question.label) {
                label = question.label[matchedLocale];
            }
            else {
                const firstLocale = Object.keys(question.label)[0];
                label = firstLocale ? question.label[firstLocale] : '';
            }
        }
        return label;
    }
    /**
     * parse a url parameter to json, if the parameter string is simple, keep it as string
     * @param str  eg: 0.q2:pie;1.q3:{"type":"map","basemapItemId":"{itemId}"};2.q11:{"type":"wordCloud","show":"response"}
     * @param urlKey
     */
    _urlParamToJson(str) {
        if (!str) {
            return null;
        }
        str = str + '';
        const subObjs = str.split(';');
        if (subObjs.length < 2 && str.split(':').length < 2) {
            // this url parameter has no sub parameters
            if (str.split(',').length > 1) {
                // consider it as an array
                return str.split(',');
            }
            else {
                return str;
            }
        }
        else {
            const obj = {};
            subObjs.forEach((subStr) => {
                const keyVals = (subStr + '').split(':');
                if (keyVals.length > 1) {
                    const key = keyVals[0];
                    let val = (Array.isArray(keyVals.slice(1)) ? keyVals.slice(1) : []).join(':');
                    if (val.length && val[0] === '{') {
                        // try to parse it to a json
                        val = this._stringToJson(val);
                    }
                    if (typeof val === 'string') {
                        if (val.split(',').length > 1) {
                            // consider it as an array
                            val = val.split(',');
                        }
                    }
                    obj[key] = val;
                }
            });
            return obj;
        }
    }
    /**
     * find the matched locale from locales array by the given localeCode
     * @param localCode
     * @param locals
     */
    _findMatchedLocale(localeCode, locales) {
        if (!locales || !locales.length || !localeCode) {
            return null;
        }
        /**
         * find the code which equals to localeCode
         */
        if (locales.indexOf(localeCode) >= 0) {
            return localeCode;
        }
        /**
         * find the code that matchs partially
         * ie: if localeCode is zh-tw, will match 'zh' if the 'zh' is in locales array
         * if localeCode is zh, will match 'zh-tw' if the 'zh-tw' is in locales array
         * if localeCode is zh-tw, will match 'zh-cn' if the 'zh-ch' is in locales array and 'zh-tw' is not in the locales array
         */
        const mainLocale = localeCode.split('-')[0];
        if (locales.indexOf(mainLocale) >= 0) {
            return mainLocale;
        }
        else {
            return locales.find((code) => {
                return code.startsWith(`${mainLocale}-`);
            });
        }
    }
    _stringToJson(str) {
        let result = str;
        try {
            result = JSON.parse(str);
        }
        catch (e) {
            result = str;
        }
        return result;
    }
}
const survey123Service = new Survey123Service();


/***/ }),

/***/ "./your-extensions/widgets/uniperCapture/src/setting/css/style.ts":
/*!************************************************************************!*\
  !*** ./your-extensions/widgets/uniperCapture/src/setting/css/style.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getModalStyle: () => (/* binding */ getModalStyle),
/* harmony export */   getStyle: () => (/* binding */ getStyle)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

function getStyle(theme) {
    var _a;
    const inputVars = (_a = theme === null || theme === void 0 ? void 0 : theme.components) === null || _a === void 0 ? void 0 : _a.input;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    &.survey123{
      input:-webkit-autofill {
        -webkit-box-shadow: 0 0 0px 1000px ${inputVars.bg} inset;
        -webkit-text-fill-color: ${inputVars.color};
      }
      .survey123__section {
        .choose-survey-label {
          margin-bottom: 0;
        }
        input + span {
          // margin-left:5px;
        }
        .jimu-widget-setting--section-header.row >h6 {
          font-size: 0.875rem;
          color: ${theme.colors.palette.dark[600]};
        }

        .survey-list-msg {
          padding: 0 5px;
        }
        .survey-list-loading-outter {
          position: relative;
          top: -18px;
        }
        .survey123__section-createSurvey {
          >.container >.w-100.setting-header {
            padding-bottom: 1rem!important;
            >div:first-of-type {
              padding-bottom: 0.5rem;
            }
            >.jimu-input span.input-wrapper {
              height: 1.625rem;
            }
            .summary{
              height: auto;
              textarea {
                resize: none;
              }
            }
          }
        }

        .survey123__section-createSurvey, .select-survey-section {
          .error-message {
            color: ${theme.colors.danger};
            word-break: break-word;
          }
          .no-survey-message {
            color: ${theme.colors.palette.dark[400]};
          }
          .newSurvey-msg {
            color: ${theme.colors.danger};
            marginTop: '10px';
            word-break: break-word;
          }
        }
        .select-survey-section {
          hr.split-line {
            display: none;
          }
        }
        .create-survey-container {
          .jimu-widget-setting--row.items {
            margin-top: 1.2rem;
            display: block;
            h6 {
              color: ${theme.colors.palette.dark[500]};
            }
            div.w-100 {
              font-size: 0.8125rem;
              line-height: 1.1875rem;
              margin-top: 0.3125rem;

            }
          }
          .jimu-widget-setting--row >label {
            font-size: 0.875rem;
            font-weight: 400;
            +p.w-100 {
              font-size: 0.8125rem;
              line-height: 1.1875rem;
              margin-top: 0.3125rem;
            }
          }
        }

        .appearance, .section-title {
          display: flex;
          justify-content: space-between;
          width:100%;
          h6 {
            margin-bottom: 0;
          }
        }

        .select{
          select {
            width: 100%;
          }
        }

        .mapping-container {
          padding: 0.615em;
          background: ${theme.colors.secondary};
          border-radius: 2px;
          margin: 0.6em 0;
          position: relative;
          >select {
            height: 26px;
            vertical-align: middle;
            font-size: 1em;
            line-height: 26px;
            padding: 0 22px 0 6px;
            &:first-of-type {
              margin-bottom: 8px;
            }
          }
          .btn-group {
            width: 100%;
            overflow: hidden;
            .icon-remove-mapping {
              padding: 0 0.25em;
              margin-left: 0;
              margin-right: 0;
              cursor: pointer;
              .remove-mapping {
                margin-right: 0;
                margin-left: 0;
              }
            }
            button {
              margin: 8px 0 8px 8px;
              height: 26px;
              line-height: 26px;
              padding: 0;
              padding: 0px 14px;
            }
          }
          >.link-info {
            > p {
              margin-bottom: 0;
              line-height: 2em;
            }
            > div.center-line {
              width: 96%;
              height: 1px;
              background: ${theme.colors.palette.secondary[800]};
              text-align: center;
              margin: 0.5em 2% 0.5em 2%;
              >.connect {
                display: inline-block;
                width: 26px;
                height: 20px;
                background: ${theme.colors.secondary};
                position: relative;
                top: -10px;
              }
            }
            > div.delete-connect {
              display: none;
              position: absolute;
              right: 0;
              top: 0;
              cursor: pointer;
              background: ${theme.colors.palette.secondary[400]};
              text-align: center;
              width: 24px;
              height: 24px;
            }
            &:hover > div.delete-connect {
              display: block;
            }
          }

        }

        .setting-row {
          margin: 0.5rem 0 0 0;
          display: flex;
          flex-flow: row wrap;
          align-items: center;
        }

        .section-title h5{
          display: inline-block;
          font-weight: 500;
        }

        .section-title h6{
          word-break: break-word;
        }

        .fea-layer-outter {
          flex-wrap:wrap;
          >div {
            width: 100%;
          }
        }

        .use-feature-layer-setting {
          width: 100%;
          margin-top: 0.92em;
        }
        .feature-layer-dropdown {
          width: 100%;
          margin: 0.5rem 0 0 0;
        }
        &-resetSurvey {
          position:relative;
          // top: -8px;
          height: 26px;
          float:right;
          line-height: 8px;

          svg {
            margin:0px !important;
          }
        }

        .cursor-pointer{
          &:hover{
            cursor:pointer;
          }
        }
        .select-survey-label {
          padding: 0 8px;
        }

        &-surveyMenu {}

        &-selectExistingSurvey {}

        &-createSurvey {
          overflow-y: hidden;

          span.isRequired{
            position:relative;
            /* left:-180px; */
            color: ${theme.colors.danger};
            top: 4px;
            left: 4px;
          }
        }

        &-surveySettings {

        }
      }
    }
  `;
}
function getModalStyle(theme) {
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    &.survey123__desinger_modal {
      z-index: 100000;
      overflow: hidden;
      max-width: 100% !important;
      .modal-content{
        width: 100%;
        height: 100%;
        .survey123__desinger {
          width: 100%;
          height: 80px;
          padding: 23px 60px 23px 30px;
          color: ${theme.header.color};
          background-color: ${theme.header.bg};

          >p {
            font-size: 24px;
            margin-bottom: 0;
            line-height: 33px;
          }
          >button {
            position: absolute;
            top: 28px;
            right: 30px;
            background-color: ${theme.header.bg};
            color: ${theme.header.color};
            border: none;
            cursor: pointer;
            padding: 0;
          }
        }
        >iframe {
          height: calc(100% - 90px);
          width: 100%;
          border: none;
        }
      }
    }

  `;
}


/***/ }),

/***/ "./your-extensions/widgets/uniperCapture/src/setting/translations/default.ts":
/*!***********************************************************************************!*\
  !*** ./your-extensions/widgets/uniperCapture/src/setting/translations/default.ts ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    errLoadS123JSAPI: 'Failed to load Survey123 JavaScript API from {S123JSAPIURL}. Please check if this URL is available to you.',
    chooseSurvey: 'Select which survey to run in the widget:',
    createNewSurveyLabel: 'Create new survey',
    chooseSurveyLabel1: 'Select my own survey',
    chooseSurveyLabel2: 'Select others\' survey',
    draftSurveyPostfix: ' (draft)',
    previewDraftSurveyMsg: 'This survey is not published yet. Edit and publish the survey to preview the content here.',
    selectSurveyTip: 'Please select',
    noExistingSurvey: 'There is no available survey to this account.',
    surveySearchHint: 'Search',
    surveyDetailLabel: 'Survey Details:',
    currentSurveyLabel: 'Current survey',
    resetSurveyLabel: 'Reset survey',
    summaryLabel: 'Summary',
    insertLabel: 'Insert',
    surveyTitleLabel: 'Name',
    surveyTitleRequiredMsg: 'The name of the survey is required.',
    surveyTitleDuplicateMsg: 'A survey with this name already exists, please use a different name.',
    surveyTagLabel: 'Tags',
    surveyTagHint: 'Separate tags with commas',
    surveyTagsRequiredMsg: 'One or more tags are required.',
    surveySummaryLabel: 'Summary',
    createSurveyBtn: 'Create',
    createSurveyErrDuplicateTitle: 'A survey with this name already exists, please choose a different name.',
    createSurveyDisabled1: 'You do not have permission to perform this action. Required privileges: publish hosted feature layers',
    editSurveyBtn: 'Edit survey',
    editSurveyBtnDisabledTip1: 'You do not have enough privileges for this operation. Required privileges: "admin" or "update" control to both form and source feature layer items.',
    appearanceTitle: 'Appearance',
    showOptionsBarLabel: 'Show options bar',
    showOptionsHeaderLabel: 'Show survey header',
    showOptionsDesLabel: 'Show survey description',
    showOptionsFooterLabel: 'Show survey footer',
    useSurveyTheme: 'Enable survey theme',
    resetSurveyTip: 'Reset survey will remove all settings to this survey widget.',
    confirmResetSurveyTip: 'Are you sure you want to continue?',
    surveyModeTitle: 'Mode',
    surveyModeNew: 'Submit a new record',
    surveyModeEdit: 'Edit an existing record',
    surveyModeView: 'View an existing record',
    chooseExistDataTitle: 'Load data to this survey',
    chooseExistDataEditDesc: 'Load existing survey data from the source layer when a feature is selected in related widgets. Submit the survey updates the selected feature.',
    chooseExistDataViewDesc: 'Load existing survey data from the source layer when a feature is selected in related widgets. The survey is read-only.',
    selectSurveyLayerTip: 'Please select a layer that contains at least one existing survey record.',
    sendDataToSurveyTitle: 'Send data to this survey',
    sendDataToSurveyDesc: 'Attributes and geometry of a feature in the source layer can be sent to survey questions when the feature is selected in related widgets.',
    sourceLayer: 'Source layer',
    addConnTitle: 'Field/question connections',
    addConnSelectField: 'Select a field',
    addConnSelectQuestion: 'Select a survey question',
    addConnFailed1: 'The survey question type is not compatible with the field type.',
    addConnBtn: 'Add connection',
    geometryLabel: '*Shape',
    geometryTypePoint: 'Point',
    geometryTypeMultiPoint: 'MultiPoint',
    geometryTypePolyline: 'Polyline',
    geometryTypePolygon: 'Polygon',
    errmsgGeneralLoading: 'An error occurred while loading.',
    errmsgGeneralCreatingNewSvy: 'An error occurred while creating the new survey. Pleasey try again later.',
    msgUnsavedBeforeLeaving: 'Changes you made may not be saved.'
});


/***/ }),

/***/ "jimu-arcgis":
/*!******************************!*\
  !*** external "jimu-arcgis" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__;

/***/ }),

/***/ "jimu-core":
/*!****************************!*\
  !*** external "jimu-core" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core__;

/***/ }),

/***/ "jimu-for-builder":
/*!***********************************!*\
  !*** external "jimu-for-builder" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_for_builder__;

/***/ }),

/***/ "jimu-for-builder/service":
/*!*******************************************!*\
  !*** external "jimu-for-builder/service" ***!
  \*******************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_for_builder_service__;

/***/ }),

/***/ "jimu-ui":
/*!**************************!*\
  !*** external "jimu-ui" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui__;

/***/ }),

/***/ "jimu-ui/advanced/data-source-selector":
/*!********************************************************!*\
  !*** external "jimu-ui/advanced/data-source-selector" ***!
  \********************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_data_source_selector__;

/***/ }),

/***/ "jimu-ui/advanced/setting-components":
/*!******************************************************!*\
  !*** external "jimu-ui/advanced/setting-components" ***!
  \******************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other entry modules.
(() => {
/*!******************************************!*\
  !*** ./jimu-core/lib/set-public-path.ts ***!
  \******************************************/
/**
 * Webpack will replace __webpack_public_path__ with __webpack_require__.p to set the public path dynamically.
 * The reason why we can't set the publicPath in webpack config is: we change the publicPath when download.
 * */
// eslint-disable-next-line
// @ts-ignore
__webpack_require__.p = window.jimuConfig.baseUrl;

})();

// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!***********************************************************************!*\
  !*** ./your-extensions/widgets/uniperCapture/src/setting/setting.tsx ***!
  \***********************************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   __set_webpack_public_path__: () => (/* binding */ __set_webpack_public_path__),
/* harmony export */   "default": () => (/* binding */ Setting)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-for-builder */ "jimu-for-builder");
/* harmony import */ var jimu_for_builder_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-for-builder/service */ "jimu-for-builder/service");
/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ "jimu-ui/advanced/setting-components");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_ui_advanced_data_source_selector__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jimu-ui/advanced/data-source-selector */ "jimu-ui/advanced/data-source-selector");
/* harmony import */ var _service_survey123_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../service/survey123.service */ "./your-extensions/widgets/uniperCapture/src/service/survey123.service.ts");
/* harmony import */ var _translations_default__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./translations/default */ "./your-extensions/widgets/uniperCapture/src/setting/translations/default.ts");
/* harmony import */ var _css_style__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./css/style */ "./your-extensions/widgets/uniperCapture/src/setting/css/style.ts");
/* harmony import */ var jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! jimu-icons/outlined/editor/close */ "./jimu-icons/outlined/editor/close.tsx");
/* harmony import */ var jimu_icons_outlined_application_link_horizontal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! jimu-icons/outlined/application/link-horizontal */ "./jimu-icons/outlined/application/link-horizontal.tsx");
/* harmony import */ var jimu_icons_outlined_editor_trash__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! jimu-icons/outlined/editor/trash */ "./jimu-icons/outlined/editor/trash.tsx");
/* eslint-disable multiline-ternary */
/** @jsx jsx */













class Setting extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    /**
     * constructor
     * @param props
     */
    constructor(props) {
        super(props);
        /**
         * state variable
         */
        this.supportedMapTypes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([jimu_arcgis__WEBPACK_IMPORTED_MODULE_4__.ArcGISDataSourceTypes.WebMap]);
        this.supportedLayerTypes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.FeatureLayer, jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.SceneLayer]);
        this.dsManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance();
        this.state = {
            userTags: [],
            canCreateSurvey: true,
            loadApiFailed: false,
            /**
             * survey123
             */
            newSurveyTitle: null,
            newSurveyTags: [],
            newSurveyTitleDirty: false,
            newSurveyTagsDirty: false,
            newSurveySnippet: null,
            newSurveyItemId: null,
            newSurveyThumbnailUrls: [
                'https://survey123.arcgis.com/assets/img/default-thumbnails/Image01.png',
                'https://survey123.arcgis.com/assets/img/default-thumbnails/Image02.png',
                'https://survey123.arcgis.com/assets/img/default-thumbnails/Image03.png'
            ],
            newSurveyMsg: null,
            newSurveyLoading: false,
            existSurveyMsg: null,
            existSharedSurveyMsg: null,
            existSurveys: [],
            existSharedSurveys: [],
            selectedSurvey: null,
            selectedMyOwnSurvey: null,
            selectedSharedSurvey: null,
            currentActiveSurvey: null,
            modalIsOpen: false,
            mode: 'none',
            isCheckedSurveyItemId: false,
            isShowSurveyQuestionField: false,
            surveyQuestionFields: [],
            selectedQuestionField: null,
            createSurveyErrorMsg: null,
            surveyStatusCode: 0,
            isShowCloseDesignerAlert: false,
            surveyChanged: false,
            /**
             * data source
             */
            dsMapView: null,
            dsFeatureLayer: null,
            dsFeatureLayerFields: [],
            /**
             * field-question mapping
             */
            addMapping: null,
            editMapping: null,
            /**
             * selected layer info for view/edit mode
             */
            layerViewInfoInNewMode: null,
            layerViewInfoInEditMode: null,
            layerViewInfoInViewMode: null
        };
        this.newDefaultValue = {
            key: '',
            value: ''
        };
        this.API = {
            survey123: null,
            Survey123WebForm: null
        };
        this.isPortal = false;
        this.isOrgAdmin = false;
        this.isTagRequired = false;
        /**
         * for old app created before 9.3, set the default mode as 'new'
         * set state from saved config
         */
        this.setDefaultVal = () => {
            /**
             * donot execute setState() in the loading process
             * https://devtopia.esri.com/Beijing-R-D-Center/ExperienceBuilder-Web-Extensions/issues/11259
             * todo: but there is still an extra history state chagne when loading an existing survey widget
             */
            var _a, _b;
            if (this.props.config.surveyItemId && !this.props.config.mode) {
                this.setMode('new');
            }
            const mode = this.props.config.mode || 'new';
            let layerViewInfo = this.props.config.layerViewInfo || null;
            if (layerViewInfo) {
                const layerDataSourceDetail = this.dsManager.getDataSource(layerViewInfo.dataSourceId);
                layerViewInfo = {
                    dataSourceId: layerViewInfo.dataSourceId,
                    mainDataSourceId: layerViewInfo.mainDataSourceId ? layerViewInfo.mainDataSourceId : (_a = layerDataSourceDetail.getMainDataSource()) === null || _a === void 0 ? void 0 : _a.id,
                    rootDataSourceId: layerViewInfo.rootDataSourceId ? layerViewInfo.rootDataSourceId : (_b = layerDataSourceDetail.getRootDataSource()) === null || _b === void 0 ? void 0 : _b.id
                    // dataViewId: layerViewInfo.dataViewId
                };
            }
            // const useMapWidgetIds = this.props.useMapWidgetIds || null
            if (mode === 'new') {
                this.setState({
                    layerViewInfoInNewMode: layerViewInfo
                });
            }
            else if (mode === 'edit') {
                this.setState({
                    layerViewInfoInEditMode: layerViewInfo
                });
            }
            else if (mode === 'view') {
                this.setState({
                    layerViewInfoInViewMode: layerViewInfo
                });
            }
        };
        /**
         * prepare:
         * get survey123 host url from portal's config.js
         * load survey123 js api
         */
        this.prepare = () => {
            return Promise.resolve(true)
                .then(() => {
                if (this.isPortal) {
                    const portalUrl = this.props.config.portalUrl || this.props.portalUrl;
                    return _service_survey123_service__WEBPACK_IMPORTED_MODULE_7__.survey123Service.getSurveyHostUrlFromPortal(portalUrl);
                }
                return true;
            })
                .then(() => {
                return this.loadSurveyAPI();
            });
        };
        // set state: dsFeatureLayer after loaded if the dataSourceId exist
        this.componentDidMount = () => {
            this.checkPrivilige();
            const useDataSources = this.props.useDataSources;
            const dataSourceId = (useDataSources && useDataSources.length) ? useDataSources[0].dataSourceId : null;
            if (dataSourceId) {
                const dataSource = this.dsManager.getDataSource(dataSourceId);
                const layer = dataSource ? dataSource.getLayerDefinition() : null;
                this.setState({
                    dsFeatureLayer: layer,
                    dsFeatureLayerFields: this.getLayerFields(layer)
                });
            }
            const user = this.props.user;
            this.isOrgAdmin = !!((user && user.role === 'org_admin'));
            this.isPortal = !(jimu_core__WEBPACK_IMPORTED_MODULE_0__.portalUrlUtils.isAGOLDomain(this.props.config.portalUrl || this.props.portalUrl));
            this.checkTagRequired();
            this.getUserTags();
        };
        // load survey api
        this.loadSurveyAPI = () => {
            const apiUrl = _service_survey123_service__WEBPACK_IMPORTED_MODULE_7__.survey123Service.getSurvey123HostAPIUrl();
            if (!this.API.survey123) {
                return jimu_core__WEBPACK_IMPORTED_MODULE_0__.moduleLoader.loadModule(apiUrl)
                    .then((survey123) => {
                    this.API = survey123;
                    // this.API.Survey123WebForm = Survey123WebForm;
                    if (!survey123) {
                        const apiErrMsg = this.props.intl.formatMessage({ id: 'errLoadS123JSAPI', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].errLoadS123JSAPI }, { S123JSAPIURL: apiUrl });
                        this.setState({
                            loadApiFailed: true
                        });
                        throw new Error(apiErrMsg);
                    }
                    else {
                        this.setState({
                            loadApiFailed: false,
                            existSurveyMsg: '',
                            existSharedSurveyMsg: '',
                            newSurveyMsg: ''
                        });
                    }
                    return survey123;
                });
            }
            else {
                return Promise.resolve(this.API.survey123);
            }
        };
        /**
         * check the user privilige of creating featureservice and creating portal item
         */
        this.checkPrivilige = () => {
            const user = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().user;
            const privileges = user.privileges || [];
            const canCreateSurvey = privileges.includes('portal:user:createItem') && privileges.includes('portal:publisher:publishFeatures');
            this.setState({
                canCreateSurvey: canCreateSurvey
            });
        };
        /**
         * tags for an item become optional since portal 10.9.1(the rest api version of portal 10.9.2 is 9.2)
         */
        this.checkTagRequired = () => {
            let portalVersion = this.props.portalSelf ? this.props.portalSelf.currentVersion : null;
            this.isTagRequired = false;
            if (portalVersion && this.isPortal) {
                if ((portalVersion + '').split('.').length < 3) {
                    portalVersion += '.0';
                }
                try {
                    this.isTagRequired = jimu_core__WEBPACK_IMPORTED_MODULE_0__.semver.lt(portalVersion, '9.2.0');
                }
                catch (e) {
                    // ignore
                }
            }
            return this.isTagRequired;
        };
        /**
         * get user tags
         * @returns
         */
        this.getUserTags = () => {
            if (window.jimuConfig.isDevEdition) {
                return false;
            }
            const username = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().user.username;
            jimu_for_builder_service__WEBPACK_IMPORTED_MODULE_2__.appServices.getUserTags(username).then(res => {
                var _a;
                const userTags = (_a = res === null || res === void 0 ? void 0 : res.tags) === null || _a === void 0 ? void 0 : _a.map(el => {
                    return el.tag;
                });
                this.setState({
                    userTags: userTags || []
                });
            });
        };
        this.getLayerFields = (layer) => {
            if (!layer) {
                return [];
            }
            // clone the layer.fields
            const fields = [].concat(layer.fields || []);
            if (layer.type !== 'feature' && layer.type !== 'Feature Layer') {
                // table or other type (has no geometry)
                return fields;
            }
            const existGeoField = (fields || []).find((item) => {
                return item.name === 'geometry';
            });
            if (existGeoField) {
                return fields;
            }
            let type = layer.geometryType || '';
            if (type.startsWith('esriGeometry')) {
                type = type.replace('esriGeometry', '').toLowerCase();
            }
            const geometryTypeStr = this.nls('geometryType' + type.substr(0, 1).toUpperCase() + type.substr(1));
            fields.push({
                alias: `${this.nls('geometryLabel')}(${geometryTypeStr})`,
                name: 'geometry'
            });
            return fields;
        };
        /**
         * on setting value changed
         */
        this.onValueChanged = (evt) => {
            const target = evt.currentTarget;
            this.props.onSettingChange({
                id: this.props.id,
                config: this.props.config.set(target.name, target.value)
            });
        };
        /**
         *  translate string
         * @param id
         * @param params
         * @returns
         */
        this.nls = (id, params) => {
            return this.props.intl.formatMessage({ id: id, defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"][id] }, params);
        };
        /**
         * add default value
         */
        this.addDefaultValue = (evt) => {
            if (this.newDefaultValue.key && this.newDefaultValue.value) {
                /**
                 * clear newDefaultValue key / value
                 */
                this.newDefaultValue = {
                    key: '',
                    value: ''
                };
            }
        };
        /**
         * listen to the desinger iframe
         */
        this.addDesigerHandler = () => {
            window.addEventListener('message', (evt) => {
                if (evt.data) {
                    let data = evt.data;
                    // if the window get the message from other iframe, maybe it cannot be converted to object
                    // We can only sure the message from webform can be converted to object
                    try {
                        if (typeof evt.data === 'string') {
                            data = JSON.parse(evt.data) || {};
                        }
                    }
                    catch (e) {
                        // don't show the error
                    }
                    if (data.event === 'survey123:design:onFormPublished' && data.data) {
                        let surveyStatusCode = this.state.surveyStatusCode || 0;
                        surveyStatusCode++;
                        jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__.builderAppSync.publishChangeWidgetStatePropToApp({ widgetId: this.props.id, propKey: 'surveyStatusCode', value: surveyStatusCode });
                        this.setState({
                            surveyStatusCode: surveyStatusCode
                        });
                        this.handleCloseModal();
                    }
                    else if (data.event === 'survey123:design:onFormUnsaved' && data.data) {
                        this.setState({
                            surveyChanged: true
                        });
                    }
                    else if (data.event === 'survey123:design:onFormSaved' && data.data) {
                        this.setState({
                            surveyChanged: false
                        });
                    }
                }
            });
        };
        /**
         * get field alias by fild name
         */
        this.getFielAlias = (field) => {
            const fields = this.state.dsFeatureLayerFields || [];
            const target = fields.find((item) => {
                return item.name === field;
            });
            if (target) {
                return target.alias || target.name;
            }
            return field;
        };
        /**
         * get question label by question name
         */
        this.getQuestionLabel = (questionName) => {
            const questions = this.state.surveyQuestionFields || [];
            const target = questions.find((item) => {
                return item.name === questionName;
            });
            if (target) {
                return target.label || target.name;
            }
            return questionName;
        };
        /**
         * on new survey value changed
         */
        this.onNewSurveyValueChanged = (e, type) => {
            const target = e.currentTarget;
            if (type) {
                this.setState({
                    [type]: target.value
                });
            }
            if (type === 'newSurveyTags') {
                this.setState({
                    newSurveyTagsDirty: true
                });
            }
            if (type === 'newSurveyTitle') {
                this.setState({
                    newSurveyTitleDirty: true
                });
            }
        };
        /**
         * switch the survey source type(from myown surveys or others‘ surveys)
         * @param type
         */
        this.onSurveySourceTypeChange = (type) => {
            this.setState({
                mode: type,
                currentActiveSurvey: type === 'survey-selectExistingSharedSurvey' ? this.state.selectedSharedSurvey : this.state.selectedMyOwnSurvey,
                selectedSurvey: type === 'survey-selectExistingSharedSurvey' ? this.state.selectedSharedSurvey : this.state.selectedMyOwnSurvey
            });
        };
        /**
         * onExistSurveyChanged
         */
        this.onExistSurveyChanged = (valuePairs) => {
            if (valuePairs && valuePairs.length) {
                // this.updateMapWidgetList()
                this.setState({
                    selectedSurvey: valuePairs[0],
                    currentActiveSurvey: valuePairs[0]
                });
                if (this.state.mode === 'survey-selectExistingSharedSurvey') {
                    this.setState({
                        selectedSharedSurvey: valuePairs[0]
                    });
                }
                else {
                    this.setState({
                        selectedMyOwnSurvey: valuePairs[0]
                    });
                }
            }
            else {
                this.setState({
                    selectedSurvey: null,
                    currentActiveSurvey: null
                });
                if (this.state.mode === 'survey-selectExistingSharedSurvey') {
                    this.setState({
                        selectedSharedSurvey: null
                    });
                }
                else {
                    this.setState({
                        selectedMyOwnSurvey: null
                    });
                }
            }
        };
        /**
         * create survey
         */
        this.createSurvey = () => {
            if (!this.state.canCreateSurvey) {
                return;
            }
            /**
             * handle title, tags, description
             */
            const title = this.state.newSurveyTitle ? this.state.newSurveyTitle.trim() : '';
            let tags = null;
            if (this.state.newSurveyTags && this.state.newSurveyTags.length) {
                tags = this.state.newSurveyTags.map((tag) => tag.trim());
            }
            const snippet = this.state.newSurveySnippet;
            if (!title) {
                this.setState({
                    newSurveyTitleDirty: true
                });
            }
            if (this.isTagRequired) {
                if (!this.state.newSurveyTags || !this.state.newSurveyTags.length) {
                    this.setState({
                        newSurveyTagsDirty: true
                    });
                }
            }
            if (!title) {
                return;
            }
            if (this.isTagRequired && (!tags || !tags.length)) {
                return;
            }
            return Promise.resolve(true)
                .then(() => {
                /**
                 * update msg
                 */
                this.setState({
                    newSurveyMsg: '',
                    newSurveyLoading: true
                });
                const randomIdx = parseInt(Math.random() * 10 + '') % 3;
                const thumbnail = this.state.newSurveyThumbnailUrls[randomIdx];
                const options = {
                    title: title,
                    tags: tags,
                    token: this.props.token,
                    thumbnailUrl: thumbnail,
                    snippet: snippet, // but survey api doesn't support snippet yet!
                    portalUrl: this.props.config.portalUrl || this.props.portalUrl
                };
                return this.API.survey123.createSurvey(options);
            })
                .then((res) => {
                if (res && res.id) {
                    // this.updateMapWidgetList()
                    /**
                     * set item id
                     */
                    this.setState({
                        createSurveyErrorMsg: null,
                        newSurveyItemId: res.id,
                        selectedSurvey: res,
                        newSurveyLoading: false
                    });
                    return res.id;
                }
                throw res;
            })
                .then((itemId) => {
                if (!itemId) {
                    return;
                }
                /**
                 * we should set hides in config
                 */
                this.props.onSettingChange({
                    id: this.props.id,
                    config: this.props.config.set('hides', ['navbar', 'header', 'description', 'footer', 'theme'])
                });
                /**
                 * show survey123 designer modal
                 */
                this.showSurvey123DesignerModal(itemId);
            })
                .catch((err) => {
                if (err) {
                    /**
                     * In fact, if the error code is 400, the reason can be multiple, maybe it's not because the survey name is duplicated.
                     * update msg
                     */
                    // if (err.error && err.error.code + '' === '400') {
                    //   this.setState({
                    //     createSurveyErrorMsg: this.props.intl.formatMessage({ id: 'surveyTitleDuplicateMsg', defaultMessage: defaultMessages.surveyTitleDuplicateMsg }),
                    //     newSurveyLoading: false,
                    //     newSurveyTitleDirty: false
                    //   })
                    //   return null
                    // } else {
                    const error = err.error ? err.error : err;
                    let errorMsg = error.message ? error.message : (typeof error === 'string') ? err : '';
                    if (error.details && error.details.length) {
                        error.details.forEach((detail) => {
                            errorMsg += ' ' + detail;
                        });
                    }
                    /**
                     *  #11565, use build-in string when the survey name is already existing.
                     */
                    if (error.messageCode === 'survey123_create14') {
                        errorMsg = this.nls('createSurveyErrDuplicateTitle', {
                            folderName: `'${title}'`
                        }) || errorMsg;
                    }
                    this.setState({
                        newSurveyMsg: errorMsg || 'Create survey failed.',
                        newSurveyLoading: false
                    });
                    // }
                }
                console.error(err);
            });
        };
        /**
         * query survey
         */
        this.querySurvey = (options) => {
            options = options || {};
            return Promise.resolve(true)
                .then(() => {
                var _a;
                // todo: remove the belowing codes?
                if (this.props.config.surveyItemId && this.props.config.selectedSurvey) {
                    const selectedSurvey = this.props.config.selectedSurvey;
                    // this.state.mode = 'settings';
                    setTimeout(() => {
                        this.props.onSettingChange({
                            id: this.props.id,
                            config: this.props.config.set('surveyItemId', selectedSurvey.id)
                        });
                        /**
                         * switch to settings page
                         */
                        // this.updateMapWidgetList()
                        this.setState({
                            existSurveyMsg: null,
                            mode: 'settings',
                            selectedSurvey: selectedSurvey
                        });
                    }, 0);
                    // options
                    const queryMySurveyOption = Object.assign({
                        isPublished: false
                    }, options || {});
                    const queryOption = {
                        isPublished: queryMySurveyOption.isPublished,
                        surveyClientAPI: this.API
                    };
                    // if (this.isOrgAdmin) {
                    //   queryOption.searchSurveyType = 'all-admin'
                    // }
                    return _service_survey123_service__WEBPACK_IMPORTED_MODULE_7__.survey123Service.querySurvey({
                        username: (_a = this.props.user) === null || _a === void 0 ? void 0 : _a.username,
                        token: this.props.token,
                        portalUrl: this.props.config.portalUrl || this.props.portalUrl
                    }, queryOption)
                        .then((surveys) => {
                        const surveyItems = this.getSurveyItems(surveys);
                        this.setState({
                            existSurveys: surveyItems
                        });
                    });
                }
            })
                .then(() => {
                if (this.state.mode === 'none') {
                    this.setState({
                        mode: 'survey-createSurvey'
                    });
                }
                /**
                 * update msg
                 */
                this.setState({
                    existSurveyMsg: '<div class="survey-list-loading-outter"><div class="jimu-secondary-loading"></div></div>'
                });
                // query my surveys
                // options
                const queryMySurveyOption = Object.assign({
                    isPublished: false
                }, options || {});
                const queryOption = {
                    isPublished: queryMySurveyOption.isPublished,
                    surveyClientAPI: this.API
                };
                /**
                 * According to https://devtopia.esri.com/Beijing-R-D-Center/ExperienceBuilder-Web-Extensions/issues/7026#issuecomment-3735803
                 * event the current user is org admin, should still only show my owned surveys here
                 * other's survey will be shown in the third radio item(Select others' survey)
                 */
                // if (this.isOrgAdmin) {
                //   queryOption.searchSurveyType = 'all-admin'
                // }
                return _service_survey123_service__WEBPACK_IMPORTED_MODULE_7__.survey123Service.querySurvey({
                    username: this.props.user.username,
                    token: this.props.token,
                    portalUrl: this.props.config.portalUrl || this.props.portalUrl
                }, queryOption);
            })
                .then((surveys) => {
                /**
                 * update msg(for my existing surveys)
                 */
                const surveyItems = this.getSurveyItems(surveys);
                this.setState({
                    existSurveyMsg: null,
                    existSurveys: surveyItems
                });
                if (!surveys || !surveys.length) {
                    this.setState({
                        existSurveyMsg: `<p class="no-survey-message">${this.props.intl.formatMessage({ id: 'noExistingSurvey', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].noExistingSurvey })}</p>`
                    });
                }
            })
                /**
                 * query shared surveys
                 */
                .then(() => {
                this.setState({
                    existSharedSurveyMsg: '<div class="survey-list-loading-outter"><div class="jimu-secondary-loading"></div></div>'
                });
                /**
                 * According to https://devtopia.esri.com/Beijing-R-D-Center/ExperienceBuilder-Web-Extensions/issues/7026#issuecomment-3735803
                 * we are searching others' survey here by sending reqeuests to AGO rest api in exb side, because survey api cannot do this currently,
                 * will use survey api when this feature is supported in the future.
                 */
                return _service_survey123_service__WEBPACK_IMPORTED_MODULE_7__.survey123Service.queryOthersSurvey({
                    username: this.props.user.username,
                    token: this.props.token,
                    portalUrl: this.props.config.portalUrl || this.props.portalUrl
                }, {
                    orgId: this.props.portalSelf ? this.props.portalSelf.id : null
                });
            })
                .then((sharedSurveys) => {
                /**
                 * update msg(for shared surveys)
                 */
                const surveyItems = this.getSurveyItems(sharedSurveys);
                this.setState({
                    existSharedSurveyMsg: null,
                    existSharedSurveys: surveyItems
                });
                if (!sharedSurveys || !sharedSurveys.length) {
                    this.setState({
                        existSharedSurveyMsg: `<p class="no-survey-message">${this.props.intl.formatMessage({ id: 'noExistingSurvey', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].noExistingSurvey })}</p>`
                    });
                }
            })
                .then(() => {
                /**
                 * update selected survey
                 */
                const usedSurveyItemId = this.props.config.surveyItemId;
                if (usedSurveyItemId) {
                    const selectedSurvey = this.state.existSurveys.find((survey) => survey.id === usedSurveyItemId);
                    const selectedSharedSurvey = this.state.existSharedSurveys.find((survey) => survey.id === usedSurveyItemId);
                    const targetSurvey = selectedSurvey || selectedSharedSurvey;
                    if (targetSurvey) {
                        // this.updateMapWidgetList()
                        this.setState({
                            selectedSurvey: targetSurvey
                        });
                        this.props.onSettingChange({
                            id: this.props.id,
                            config: this.props.config.set('selectedSurvey', targetSurvey)
                        });
                    }
                }
            })
                .catch((err) => {
                this.setState({
                    mode: 'survey-createSurvey',
                    existSurveyMsg: `<p class="error-message">${this.props.intl.formatMessage({ id: 'errmsgGeneralLoading', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].errmsgGeneralLoading })}</p>`
                });
                console.log(err);
            });
        };
        /**
         * convert survey to AdvancedSelectItem type
         * @param surveys
         */
        this.getSurveyItems = (surveys) => {
            // const surveyItems = [];
            (surveys || []).forEach((survey) => {
                survey.value = survey.id;
                survey.label = survey.title;
                survey.render = () => {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `width: 178px;text-overflow: ellipsis; white-space: nowrap;overflow: hidden;`, title: survey.title },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null, survey.title)));
                };
            });
            return surveys;
        };
        /**
         * get survey question fields
         */
        this.getSurveyQuestionFields = () => {
            const surveyItemId = this.props.config.surveyItemId;
            return Promise.resolve(true)
                .then(() => {
                if (surveyItemId && this.props.token && this.API.getForm) {
                    const params = {
                        itemId: surveyItemId,
                        token: this.props.token,
                        portalUrl: this.props.config.portalUrl || this.props.portalUrl || 'https://www.arcgis.com'
                    };
                    return this.API.getForm(params);
                }
                return null;
            })
                .then((res) => {
                const fields = [];
                const locale = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appContext.locale || 'en';
                if (res && res.questions && res.questions.length > 0) {
                    // flat the questions tree, move the questions out if they are in the group.
                    const questions = _service_survey123_service__WEBPACK_IMPORTED_MODULE_7__.survey123Service.flatQuestions(res.questions);
                    questions.forEach((q) => {
                        const shortType = (q.type + '').replace('esriQuestionType', '');
                        if (q.fieldName || ['geopoint', 'polyline', 'polygon'].includes(shortType.toLowerCase())) {
                            fields.push({
                                name: q.fieldName || q.name,
                                label: _service_survey123_service__WEBPACK_IMPORTED_MODULE_7__.survey123Service.getQuesLabelString(q, { locales: res.locales, currentLocale: locale })
                            });
                        }
                    });
                }
                if (res.error && res.error.message) {
                    console.warn('Cannot get survey question fields for survey: ' + surveyItemId, res.error.message);
                }
                this.setState({
                    surveyQuestionFields: fields
                });
                return fields;
            });
        };
        /**
         * show setting page
         */
        this.showSettingPage = () => {
            this.setState({
                mode: 'settings'
            });
            /**
             * get survey question fields
             */
            this.getSurveyQuestionFields();
        };
        /**
         * handle close modal
         */
        this.handleCloseModal = () => {
            if (this.state.surveyChanged) {
                this.setState({
                    isShowCloseDesignerAlert: true
                });
                return;
            }
            this.setState({
                modalIsOpen: false
            });
            this.setState({
                surveyChanged: false
            });
            this.showSettingPage();
            /**
             * update survey itemid in props config
             */
            const surveyItemId = this.state.newSurveyItemId || this.props.config.surveyItemId;
            if (surveyItemId) {
                this.props.onSettingChange({
                    id: this.props.id,
                    config: this.props.config.set('surveyItemId', surveyItemId).set('timestamp', Date.now()).set('mode', 'new')
                });
            }
            /**
             * update the survey list
             */
            this.querySurvey();
        };
        /**
         * handler close desinger alert popup
         */
        this.handleCloseDesignerAlert = (isOk) => {
            this.setState({
                isShowCloseDesignerAlert: false
            });
            if (isOk) {
                this.setState({
                    surveyChanged: false
                });
                setTimeout(() => {
                    this.handleCloseModal();
                }, 0);
            }
        };
        this.onTagInputChange = (data) => {
            this.setState({
                newSurveyTags: data
            });
        };
        /**
         * get thumbnail url from portal
         */
        this.getThumbnailUrl = () => {
            const portalUrl = this.props.config.portalUrl || this.props.portalUrl || 'https://www.arcgis.com';
            const surveyItemId = this.state.selectedSurvey.id;
            const thumbnail = this.state.selectedSurvey.thumbnail;
            if ((thumbnail + '').startsWith('http://') || (thumbnail + '').startsWith('https://')) {
                return thumbnail;
            }
            return `${portalUrl}/sharing/rest/content/items/${surveyItemId}/info/${thumbnail}?token=${this.props.token}`;
        };
        /**
         * set survey item id
         * update this.props.config
         */
        this.setSurveyItemId = () => {
            const selectedSurvey = this.state.selectedSurvey;
            if (selectedSurvey && selectedSurvey.id) {
                /**
                 * update props to have the same setting in runtime
                 * and ensure the hides are all switched on
                 */
                this.props.onSettingChange({
                    id: this.props.id,
                    config: this.props.config.set('surveyItemId', selectedSurvey.id).set('hides', ['navbar', 'header', 'description', 'footer', 'theme']).set('mode', 'new')
                });
                /**
                 * switch to settings page
                 */
                this.setState({
                    mode: 'settings'
                });
            }
        };
        /**
         * edit survey
         */
        this.editSurvey = () => {
            this.showSurvey123DesignerModal();
        };
        /**
         * set appearance
         */
        this.setAppearance = (isChecked, value) => {
            const hides = [].concat(this.props.config.hides || []);
            // let isChecked = target.checked;
            if (isChecked && hides.indexOf(value) >= 0) {
                const pos = hides.indexOf(value);
                hides.splice(pos, 1);
                // hides = hides.concat([value])
            }
            else {
                hides.push(value);
            }
            this.props.onSettingChange({
                id: this.props.id,
                config: this.props.config.set('hides', hides)
            });
        };
        /**
         * set survey mode: new/view/edit
         * @param mode
         * @returns
         */
        this.setMode = (mode) => {
            if (this.props.config.mode === mode) {
                return;
            }
            this.props.onSettingChange({
                id: this.props.id,
                config: this.props.config.set('mode', mode)
            });
        };
        /**
         * handler data source change
         */
        this.handleUseDataSourceChange = (useDataSources) => {
            let dataSourceId;
            // data souce cleared
            if (!useDataSources || !useDataSources.length) {
                dataSourceId = null;
            }
            else {
                dataSourceId = useDataSources[0].dataSourceId;
            }
            this.props.onSettingChange({
                id: this.props.id,
                useDataSources: dataSourceId ? [{
                        dataSourceId: dataSourceId,
                        mainDataSourceId: useDataSources[0].mainDataSourceId,
                        // dataViewId: useDataSources[0].dataViewId,
                        rootDataSourceId: useDataSources[0].rootDataSourceId
                    }] : null,
                config: this.props.config.set('layerViewInfo', useDataSources[0]).set('fieldQuestionMapping', null)
            });
            // const dataSourceId = useDataSources[0].dataSourceId
            const dataSource = this.dsManager.getDataSource(dataSourceId);
            const layer = dataSource ? dataSource.getLayerDefinition() : null;
            // const layer = dataSource ? (dataSource.layer ? dataSource.layer : dataSource) : null
            const mode = this.props.config.mode || 'new';
            if (mode === 'new') {
                if (!dataSourceId || !dataSource || !layer) {
                    this.clearMapping();
                }
                this.setState({
                    layerViewInfoInNewMode: useDataSources[0],
                    dsFeatureLayer: layer,
                    dsFeatureLayerFields: this.getLayerFields(layer)
                });
            }
            else if (mode === 'edit') {
                this.setState({
                    layerViewInfoInEditMode: useDataSources[0]
                });
            }
            else if (mode === 'view') {
                this.setState({
                    layerViewInfoInViewMode: useDataSources[0]
                });
            }
        };
        this.activeLinkDataChange = (e) => {
            const target = e.currentTarget;
            const isActive = target.checked;
            // if (isActive) {
            //   this.updateMapWidgetList()
            // }
            /**
             * update activeLinkData in data source
             */
            this.props.onSettingChange({
                id: this.props.id,
                config: this.props.config.set('activeLinkData', isActive)
            });
        };
        /**
         * change the layer field in field-question mapping panel
         */
        this.addMapppingChange = (type, e) => {
            const target = e.currentTarget;
            const value = target.value;
            let field = this.state.addMapping ? this.state.addMapping.field : null;
            let question = this.state.addMapping ? this.state.addMapping.question : null;
            if (type === 'field') {
                field = value;
            }
            else {
                question = value;
            }
            this.setState({
                addMapping: {
                    field: field,
                    question: question
                }
            });
        };
        /**
         * clear the setting of field-question mapping
         */
        this.clearMapping = () => {
            // todo:
        };
        /**
         * show edit mapping panel
         */
        this.showEditMappingPanel = (index, e) => {
            const curEditMapping = this.state.editMapping || {};
            if (curEditMapping.index === index) {
                return;
            }
            let mappings = this.props.config.fieldQuestionMapping || [];
            mappings = (index >= 0 && index < mappings.length) ? mappings[index] : null;
            const newMapping = Object.assign({}, mappings);
            newMapping.index = index;
            this.setState({
                editMapping: newMapping,
                addMapping: null
            });
        };
        /**
         * change the edit mapping
         */
        this.changeEditMapping = (type, e) => {
            const target = e.currentTarget;
            const value = target.value;
            const curSetting = Object.assign({}, this.state.editMapping || {});
            if (type === 'field') {
                curSetting.field = value;
            }
            else {
                curSetting.question = value;
            }
            this.setState({
                editMapping: curSetting
            });
        };
        /**
         * change an field/question mapping
         */
        this.editMapping = (index) => {
            const mapping = [].concat(this.props.config.fieldQuestionMapping || []);
            const curEditMapping = this.state.editMapping || {};
            if (index >= 0 && index < mapping.length) {
                mapping[index] = {
                    field: curEditMapping.field,
                    question: curEditMapping.question
                };
            }
            // delete mapping[field];
            this.props.onSettingChange({
                id: this.props.id,
                config: this.props.config.set('fieldQuestionMapping', mapping)
            });
        };
        /**
         * add connection for field and question
         */
        this.activeAddFieldQuestionConnPanel = () => {
            this.setState({
                addMapping: {
                    field: null,
                    question: null
                },
                editMapping: null
            });
        };
        /**
         * hide the field-question panel
         */
        this.deactiveAddFieldQuestionConnPanel = () => {
            this.setState({
                addMapping: null
            });
        };
        this.deleteConnection = (index, e) => {
            if (e) {
                e.stopPropagation();
            }
            const mapping = [].concat(this.props.config.fieldQuestionMapping || []);
            if (index >= 0 && index < mapping.length) {
                mapping.splice(index, 1);
            }
            // delete mapping[field];
            this.props.onSettingChange({
                id: this.props.id,
                config: this.props.config.set('fieldQuestionMapping', mapping)
            });
        };
        /**
         * add a field-question mapping
         */
        this.addFieldQuestionConn = (e) => {
            const field = this.state.addMapping.field;
            const question = this.state.addMapping.question;
            if (!field || !question) {
                console.log('Please ensure field/question is not null.');
                return;
            }
            const mapping = [].concat(this.props.config.fieldQuestionMapping || []);
            mapping.push({
                field: field,
                question: question
            });
            // mapping[field] = question;
            this.props.onSettingChange({
                id: this.props.id,
                config: this.props.config.set('fieldQuestionMapping', mapping)
            });
            this.deactiveAddFieldQuestionConnPanel();
        };
        /**
         * on survey question field changed
         */
        this.onSurveyQuestionFieldChanged = (e) => {
            const target = e.currentTarget;
            const value = target.value;
            /**
             * update fields in data source
             */
            if (value && value !== 'null') {
                this.props.onSettingChange({
                    id: this.props.id,
                    config: this.props.config.set('selectedSurveyQuestionFields', [value])
                });
            }
        };
        /**
         * isDsConfigured
         */
        this.isDsConfigured = () => {
            if (this.props.useDataSources &&
                this.props.useDataSources.length === 1) {
                return true;
            }
            return false;
        };
        /**
         * reset survey
         */
        this.resetSurvey = () => {
            /**
             * reset survey item id
             */
            this.props.onSettingChange({
                id: this.props.id,
                config: this.props.config.set('surveyItemId', null).set('hides', [])
                    .set('embeds', ['fullScreen', 'onSubmitted'])
                    .set('selectedSurveyQuestionFields', [])
                    .set('fieldQuestionMapping', [])
                    .set('activeLinkData', false)
                    .set('dsType', null).set('selectedSurvey', null)
                    .set('mode', 'new')
            });
            this.setState({
                mode: 'survey-createSurvey',
                selectedSurvey: null,
                selectedMyOwnSurvey: null,
                selectedSharedSurvey: null,
                currentActiveSurvey: null,
                isCheckedSurveyItemId: false,
                surveyQuestionFields: [],
                dsMapView: null,
                dsFeatureLayer: null,
                dsFeatureLayerFields: []
            });
        };
        /**
         * query existing survey
         */
        _service_survey123_service__WEBPACK_IMPORTED_MODULE_7__.survey123Service.setQueryObject(this.props.queryObject);
        this.isPortal = !(jimu_core__WEBPACK_IMPORTED_MODULE_0__.portalUrlUtils.isAGOLDomain(this.props.config.portalUrl || this.props.portalUrl));
        this.checkTagRequired();
        const user = this.props.user;
        this.isOrgAdmin = !!((user && user.role === 'org_admin'));
        this.prepare().then(() => {
            this.setDefaultVal();
            this.querySurvey();
            this.addDesigerHandler();
        })
            .catch((e) => {
            setTimeout(() => {
                if (this.state.loadApiFailed) {
                    this.setState({
                        existSurveyMsg: `<p class="error-message">${e.message || ''}</p>`,
                        existSharedSurveyMsg: `<p class="error-message">${e.message || ''}</p>`,
                        mode: 'survey-createSurvey',
                        newSurveyMsg: e.message || '',
                        loadApiFailed: true
                    });
                }
            }, 0);
        });
    }
    /**
     * show survey123 designer modal
     */
    showSurvey123DesignerModal(surveyItemId) {
        surveyItemId = surveyItemId || this.props.config.surveyItemId;
        const sessionManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance();
        const portalUrl = this.props.config.portalUrl || this.props.portalUrl;
        if (!surveyItemId) {
            throw new Error('cannot get survey item id to open survey123 designer');
        }
        /**
         * popup window and embed survey123 designer
         */
        let url = _service_survey123_service__WEBPACK_IMPORTED_MODULE_7__.survey123Service.getSurvey123DesignerUrl(surveyItemId, {
            portalUrl: portalUrl
        });
        /**
         * we need to add access_token / username / expires_in in hash
         * to tell survey123 website to parse the hash to use the token
         */
        const session = sessionManager.getMainSession();
        if (session && session.token && session.username && session.tokenDuration) {
            url += `#access_token=${session.token}&username=${session.username}&expires_in=${session.tokenDuration}`;
        }
        /**
         * show modal
         */
        this.setState({
            modalIsOpen: true,
            newSurveyMsg: null
        });
        /**
         * cannot use window.open because address bar will be shown.
         * try to use modal and iframe to show survey123 designer webpage
         */
        // eslint-disable-next-line
        const self = this;
        let index = 0;
        const checkTimer = setInterval(() => {
            if (!self.state.modalIsOpen) {
                self.setState({
                    modalIsOpen: true
                });
            }
            index++;
            const target = document.getElementById('survey123-designer');
            if (target || index > 100) {
                clearInterval(checkTimer);
                target.src = url;
            }
        }, 50);
    }
    /**
     * render
     */
    render() {
        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;
        /**
         * show setting page
         */
        if (this.state.selectedSurvey && this.props.config.surveyItemId && this.state.isCheckedSurveyItemId === false) {
            this.setState({
                isCheckedSurveyItemId: true
            });
            this.showSettingPage();
        }
        /**
         * render
         */
        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: (0,_css_style__WEBPACK_IMPORTED_MODULE_9__.getStyle)(this.props.theme), className: "jimu-widget-setting survey123" },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "survey123__section", style: (this.state.mode.indexOf('survey-') !== -1)
                    ? { display: 'block' }
                    : { display: 'none' } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingSection, { role: 'radiogroup', "aria-label": this.nls('chooseSurvey') },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "choose-survey-label" }, this.props.intl.formatMessage({ id: 'chooseSurvey', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].chooseSurvey }))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Radio, { name: "survey-survey", className: "cursor-pointer", id: "survey-survey-createNewSurvey", checked: this.state.mode === 'survey-createSurvey', onChange: () => { this.setState({ mode: 'survey-createSurvey' }); } }),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Label, { for: "survey-survey-createNewSurvey", className: "cursor-pointer select-survey-label" }, this.props.intl.formatMessage({ id: 'createNewSurveyLabel', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].createNewSurveyLabel }))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Radio, { name: "survey-survey", className: "cursor-pointer", id: "survey-survey-chooseExistingSurvey", checked: this.state.mode === 'survey-selectExistingSurvey', onChange: () => { this.onSurveySourceTypeChange('survey-selectExistingSurvey'); } }),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Label, { for: "survey-survey-chooseExistingSurvey", className: "cursor-pointer select-survey-label" }, this.props.intl.formatMessage({ id: 'chooseSurveyLabel1', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].chooseSurveyLabel1 }))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Radio, { name: "survey-survey", className: "cursor-pointer", id: "survey-survey-chooseExistingSharedSurvey", checked: this.state.mode === 'survey-selectExistingSharedSurvey', onChange: () => { this.onSurveySourceTypeChange('survey-selectExistingSharedSurvey'); } }),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Label, { for: "survey-survey-chooseExistingSharedSurvey", className: "cursor-pointer select-survey-label" }, this.props.intl.formatMessage({ id: 'chooseSurveyLabel2', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].chooseSurveyLabel2 })))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "survey123__section-selectExistingSurvey", role: "group", "aria-label": this.nls('chooseSurveyLabel1'), style: (this.state.mode === 'survey-selectExistingSurvey' || this.state.mode === 'survey-selectExistingSharedSurvey')
                        ? { display: 'block' }
                        : { display: 'none' } },
                    this.state.mode === 'survey-selectExistingSurvey'
                        ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingSection, { className: "select-survey-section" },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.AdvancedSelect, { size: 'sm', className: "survey-dropdown", fluid: true, staticValues: this.state.existSurveys, selectedValues: this.state.selectedMyOwnSurvey ? [this.state.selectedMyOwnSurvey] : [], allTag: this.props.intl.formatMessage({ id: 'selectSurveyTip', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].selectSurveyTip }), onChange: this.onExistSurveyChanged, placeholder: this.props.intl.formatMessage({ id: 'selectSurveyTip', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].selectSurveyTip }) })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "survey-list-msg", dangerouslySetInnerHTML: { __html: this.state.existSurveyMsg } }))
                        : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingSection, { className: "select-survey-section" },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.AdvancedSelect, { size: 'sm', className: "survey-dropdown", fluid: true, staticValues: this.state.existSharedSurveys, selectedValues: this.state.selectedSharedSurvey ? [this.state.selectedSharedSurvey] : [], allTag: this.props.intl.formatMessage({ id: 'selectSurveyTip', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].selectSurveyTip }), onChange: this.onExistSurveyChanged, placeholder: this.props.intl.formatMessage({ id: 'selectSurveyTip', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].selectSurveyTip }) })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "survey-list-msg", dangerouslySetInnerHTML: { __html: this.state.existSharedSurveyMsg } })),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: {
                            display: (this.state.currentActiveSurvey) ? 'block' : 'none'
                        } },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingSection, { title: this.nls('surveyDetailLabel'), className: "create-survey-container" }, (this.state.currentActiveSurvey)
                            ? [
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, { key: "surveyThumnail" },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("img", { src: this.state.currentActiveSurvey.thumbnail, style: { width: '100%', height: 'auto' } })),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, { key: "surveyTitle" },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { style: { wordBreak: 'break-word', fontSize: '0.8125rem', color: '#FFFFFF' } }, this.state.currentActiveSurvey.title)),
                                // <SettingRow label="Tags"><p className="w-100">{this.state.selectedSurvey.tags}</p></SettingRow>,
                                // <SettingRow>{this.state.selectedSurvey.owner}</SettingRow>,
                                // author
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, { className: "items", key: "surveyAuthor" },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "w-100" }, this.nls('ownerIs', { ownerName: this.state.currentActiveSurvey.owner || '' }))),
                                // last update
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, { className: "items", key: "surveyCreationDate" },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "w-100" }, this.nls('updatedOn', { updatedDate: (typeof this.state.currentActiveSurvey.formItemInfo.modified === 'number') ? this.props.intl.formatDate(new Date(this.state.currentActiveSurvey.formItemInfo.modified)) : '' }))),
                                // snippet
                                this.state.currentActiveSurvey.snippet
                                    ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, { className: "items", key: "surveySnippet" },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("h6", null, this.nls('summaryLabel')),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "w-100" }, this.state.currentActiveSurvey.snippet))
                                    : null,
                                // insert survey button
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, { key: "surveyInsertBtn" },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { type: "primary", className: "w-100", onClick: this.setSurveyItemId }, this.props.intl.formatMessage({ id: 'insertLabel', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].insertLabel })))
                            ]
                            : null))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "survey123__section-createSurvey", role: "group", "aria-label": this.nls('createNewSurveyLabel'), style: (this.state.mode === 'survey-createSurvey')
                        ? { display: 'block' }
                        : { display: 'none' } },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingSection, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "w-100 d-flex flex-wrap align-items-center justify-content-between setting-header setting-title pb-2" },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                                this.nls('surveyTitleLabel'),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "isRequired" }, "*")),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.TextInput, { "aria-label": this.nls('surveyTitleLabel'), "aria-required": "true", required: true, className: "w-100", value: this.state.newSurveyTitle || '', onChange: (evt) => { this.onNewSurveyValueChanged(evt, 'newSurveyTitle'); } }),
                            (!this.state.newSurveyTitle || !(this.state.newSurveyTitle.trim())) && this.state.newSurveyTitleDirty
                                ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "error-message" }, this.props.intl.formatMessage({ id: 'surveyTitleRequiredMsg', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].surveyTitleRequiredMsg }))
                                : '',
                            this.state.createSurveyErrorMsg && !this.state.newSurveyTitleDirty
                                ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "error-message" }, this.props.intl.formatMessage({ id: 'surveyTitleDuplicateMsg', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].surveyTitleDuplicateMsg }))
                                : ''),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "w-100 d-flex flex-wrap align-items-center justify-content-between setting-header setting-title pb-2" },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                                this.nls('surveyTagLabel'),
                                this.isTagRequired
                                    ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "isRequired" }, "*")
                                    : ''),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.TagInput, { "aria-label": this.nls('surveyTagLabel'), data: this.state.newSurveyTags, selectListData: this.state.userTags, onChange: this.onTagInputChange, name: this.nls('surveyTagLabel'), menuProps: { maxHeight: 80 } }),
                            !(this.state.newSurveyTags && this.state.newSurveyTags.length) && this.state.newSurveyTagsDirty && this.isTagRequired
                                ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "error-message" }, this.props.intl.formatMessage({ id: 'surveyTagsRequiredMsg', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].surveyTagsRequiredMsg }))
                                : ''),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "w-100 d-flex flex-wrap align-items-center justify-content-between setting-header setting-title pb-2" },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null, this.nls('surveySummaryLabel')),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.TextArea, { "aria-label": this.nls('surveySummaryLabel'), className: "w-100 summary", height: 80, value: this.state.newSurveySnippet || '', onChange: (evt) => { this.onNewSurveyValueChanged(evt, 'newSurveySnippet'); } })),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, { flow: "wrap" },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { type: "primary", className: "w-100", disabled: this.state.newSurveyLoading === true || !this.state.canCreateSurvey || this.state.loadApiFailed, onClick: this.createSurvey }, this.props.intl.formatMessage({ id: 'createSurveyBtn', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].createSurveyBtn })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "newSurvey-msg" }, !this.state.canCreateSurvey ? this.nls('createSurveyDisabled1') : this.state.newSurveyMsg),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "w-100", style: {
                                    position: 'relative',
                                    display: 'block',
                                    marginTop: '50px'
                                } },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "jimu-secondary-loading", style: (this.state.newSurveyLoading === true) ? { display: 'block' } : { display: 'none' } })))))),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "survey123__section", style: (this.state.mode.indexOf('settings') !== -1)
                    ? { display: 'block' }
                    : { display: 'none' } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingSection, null,
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-title" },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("h6", null, (this.state.selectedSurvey) ? this.state.selectedSurvey.title : ''),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { "aria-label": this.nls('remove'), "aria-description": (this.state.selectedSurvey) ? this.state.selectedSurvey.title : '', className: "survey123__section-resetSurvey", onClick: () => { this.setState({ mode: 'confirmResetSurvey' }); } },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_10__.CloseOutlined, { size: 8 })))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { "aria-description": (this.state.selectedSurvey) ? this.state.selectedSurvey.title : '', className: "w-100", color: "primary", type: "primary", onClick: this.editSurvey }, this.props.intl.formatMessage({ id: 'editSurveyBtn', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].editSurveyBtn })))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingSection, { role: "group", "aria-label": this.nls('appearanceTitle'), title: this.nls('appearanceTitle') },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "appearance" },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null, this.props.intl.formatMessage({ id: 'showOptionsBarLabel', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].showOptionsBarLabel })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Switch, { "aria-label": this.nls('showOptionsBarLabel'), className: "can-x-switch", checked: !this.props.config.hides.includes('navbar'), onChange: evt => { this.setAppearance(evt.target.checked, 'navbar'); } }))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "appearance" },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null, this.props.intl.formatMessage({ id: 'showOptionsHeaderLabel', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].showOptionsHeaderLabel })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Switch, { "aria-label": this.nls('showOptionsHeaderLabel'), className: "can-x-switch", checked: !this.props.config.hides.includes('header'), onChange: evt => { this.setAppearance(evt.target.checked, 'header'); } }))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "appearance" },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null, this.props.intl.formatMessage({ id: 'showOptionsDesLabel', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].showOptionsDesLabel })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Switch, { "aria-label": this.nls('showOptionsDesLabel'), className: "can-x-switch", checked: !this.props.config.hides.includes('description'), onChange: evt => { this.setAppearance(evt.target.checked, 'description'); } }))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "appearance" },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null, this.props.intl.formatMessage({ id: 'showOptionsFooterLabel', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].showOptionsFooterLabel })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Switch, { "aria-label": this.nls('showOptionsFooterLabel'), className: "can-x-switch", checked: !this.props.config.hides.includes('footer'), onChange: evt => { this.setAppearance(evt.target.checked, 'footer'); } }))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "appearance" },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null, this.props.intl.formatMessage({ id: 'useSurveyTheme', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].useSurveyTheme })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Switch, { "aria-label": this.nls('useSurveyTheme'), className: "can-x-switch", checked: !this.props.config.hides.includes('theme'), onChange: evt => { this.setAppearance(evt.target.checked, 'theme'); } })))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingSection, { role: "radiogroup", "aria-label": this.nls('surveyModeTitle'), title: this.nls('surveyModeTitle') },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex justify-content-between w-100 align-items-center' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'align-items-center d-flex' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Radio, { style: { cursor: 'pointer' }, onChange: () => { this.setMode('new'); }, checked: this.props.config.mode === 'new', title: this.props.intl.formatMessage({ id: 'surveyModeNew', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].surveyModeNew }) }),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2', style: { cursor: 'pointer' }, onClick: () => { this.setMode('new'); }, title: this.props.intl.formatMessage({ id: 'surveyModeNew', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].surveyModeNew }) }, this.props.intl.formatMessage({ id: 'surveyModeNew', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].surveyModeNew }))))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex justify-content-between w-100 align-items-center' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'align-items-center d-flex' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Radio
                                // aria-describedby={(this.state.mapWidgetList && this.state.mapWidgetList.length > 0) ? '' : `survey_${this.props.id}_sendDataDisabled2ForEdit`}
                                , { 
                                    // aria-describedby={(this.state.mapWidgetList && this.state.mapWidgetList.length > 0) ? '' : `survey_${this.props.id}_sendDataDisabled2ForEdit`}
                                    style: { cursor: 'pointer' }, onChange: () => { this.setMode('edit'); }, checked: this.props.config.mode === 'edit', title: this.props.intl.formatMessage({ id: 'surveyModeEdit', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].surveyModeEdit }) }),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2', style: { cursor: 'pointer' }, onClick: () => { this.setMode('edit'); }, title: this.props.intl.formatMessage({ id: 'surveyModeEdit', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].surveyModeEdit }) }, this.props.intl.formatMessage({ id: 'surveyModeEdit', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].surveyModeEdit }))))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex justify-content-between w-100 align-items-center' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'align-items-center d-flex' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Radio
                                // aria-describedby={(this.state.mapWidgetList && this.state.mapWidgetList.length > 0) ? '' : `survey_${this.props.id}_sendDataDisabled2ForView`}
                                , { 
                                    // aria-describedby={(this.state.mapWidgetList && this.state.mapWidgetList.length > 0) ? '' : `survey_${this.props.id}_sendDataDisabled2ForView`}
                                    style: { cursor: 'pointer' }, onChange: () => { this.setMode('view'); }, checked: this.props.config.mode === 'view', title: this.props.intl.formatMessage({ id: 'surveyModeView', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].surveyModeView }) }),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2', style: { cursor: 'pointer' }, onClick: () => { this.setMode('view'); }, title: this.props.intl.formatMessage({ id: 'surveyModeView', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].surveyModeView }) }, this.props.intl.formatMessage({ id: 'surveyModeView', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].surveyModeView }))))),
                    this.props.config.mode === 'new' && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-title" },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("h6", null, this.nls('sendDataToSurveyTitle')),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Switch, { "aria-label": this.nls('sendDataToSurveyTitle'), "aria-describedby": this.props.config.activeLinkData ? `survey_${this.props.id}_sendDataToSurveyDesc` : '', className: "can-x-switch", checked: this.props.config.activeLinkData, onChange: this.activeLinkDataChange }))),
                        this.props.config.activeLinkData &&
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null,
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { id: `survey_${this.props.id}_sendDataToSurveyDesc`, className: "w-100" }, this.nls('sendDataToSurveyDesc'))),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, { className: "fea-layer-outter" },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, { className: "use-feature-layer-setting" },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null, this.nls('sourceLayer'))),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "feature-layer-dropdown" },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_data_source_selector__WEBPACK_IMPORTED_MODULE_6__.DataSourceSelector, { isMultiple: false, hideDataView: true, "aria-label": this.nls('sourceLayer'), "aria-describedby": '', mustUseDataSource: true, closeDataSourceListOnChange: true, hideTypeDropdown: true, types: this.supportedLayerTypes, useDataSources: ((_a = this.state) === null || _a === void 0 ? void 0 : _a.layerViewInfoInNewMode) ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([(_b = this.state) === null || _b === void 0 ? void 0 : _b.layerViewInfoInNewMode]) : null, onChange: this.handleUseDataSourceChange, widgetId: (_c = this.props) === null || _c === void 0 ? void 0 : _c.id }))),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { role: "group", "aria-owns": `survey_${this.props.id}_addNewMapping survey_${this.props.id}_addMappingBtn`, "aria-label": this.nls('addConnTitle') },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null, this.nls('addConnTitle')))),
                                (((_d = this.state) === null || _d === void 0 ? void 0 : _d.layerViewInfoInNewMode) && ((_e = this.state) === null || _e === void 0 ? void 0 : _e.layerViewInfoInNewMode.dataSourceId))
                                    ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null,
                                        (this.props.config.fieldQuestionMapping && this.props.config.fieldQuestionMapping.length > 0)
                                            ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null, this.props.config.fieldQuestionMapping.asMutable().map((mapping, index) => {
                                                const field = mapping.field;
                                                const question = mapping.question;
                                                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { key: field + '_' + question + '_' + index, className: "mapping-container" }, this.state.editMapping && this.state.editMapping.index === index
                                                    ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null,
                                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Select, { value: this.state.editMapping.field || '', style: { marginBottom: '8px' }, onChange: (e) => { this.changeEditMapping('field', e); } }, this.state.dsFeatureLayerFields.map((field) => {
                                                            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { key: 'edit_' + field.name + '_' + index, value: field.name }, field.alias || field.name);
                                                        })),
                                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Select, { value: this.state.editMapping.question || '', onChange: (e) => { this.changeEditMapping('question', e); } }, this.state.surveyQuestionFields.length > 0 &&
                                                            this.state.surveyQuestionFields.map((question) => {
                                                                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { key: 'edit_' + question.name + '_' + index, value: question.name }, question.label);
                                                            })),
                                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "btn-group" },
                                                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { className: "float-left icon-remove-mapping", type: "primary", color: "primary", onClick: () => { this.deleteConnection(index); this.setState({ editMapping: null }); } },
                                                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_trash__WEBPACK_IMPORTED_MODULE_12__.TrashOutlined, { className: 'remove-mapping' })),
                                                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { className: "float-right", type: "secondary", onClick: () => { this.setState({ editMapping: null }); } }, this.nls('cancel')),
                                                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { className: "float-right", type: "primary", color: "primary", onClick: () => { this.editMapping(index); this.setState({ editMapping: null }); } }, this.nls('ok'))))
                                                    : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null,
                                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "link-info", onClick: (e) => { this.showEditMappingPanel(index, e); } },
                                                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", null, this.getFielAlias(field)),
                                                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "center-line" },
                                                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "connect" },
                                                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_application_link_horizontal__WEBPACK_IMPORTED_MODULE_11__.LinkHorizontalOutlined, null))),
                                                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", null, this.getQuestionLabel(question)),
                                                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "delete-connect", onClick: (e) => { this.deleteConnection(index, e); } },
                                                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_trash__WEBPACK_IMPORTED_MODULE_12__.TrashOutlined, { size: 's' })))));
                                            })) : '',
                                        this.state.addMapping && this.state.dsFeatureLayer && this.state.dsFeatureLayerFields && this.state.dsFeatureLayerFields.length > 0 &&
                                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mapping-container", id: `survey_${this.props.id}_addNewMapping` },
                                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Select, { "aria-label": this.nls('addConnSelectField'), value: this.state.addMapping.field || 'null', style: { marginBottom: '8px' }, onChange: (e) => { this.addMapppingChange('field', e); } },
                                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { key: 'add_field_default', value: "null" }, this.nls('addConnSelectField')),
                                                    this.state.dsFeatureLayerFields.map((field) => {
                                                        return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { key: 'add_' + field.name, value: field.name }, field.alias || field.name);
                                                    })),
                                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Select, { "aria-label": this.nls('addConnSelectQuestion'), value: this.state.addMapping.question || 'null', onChange: (e) => { this.addMapppingChange('question', e); } },
                                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { key: 'add_question_default', value: "null" }, this.nls('addConnSelectQuestion')),
                                                    this.state.surveyQuestionFields.length > 0 &&
                                                        this.state.surveyQuestionFields.map((question) => {
                                                            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { key: 'add_' + question.name, value: question.name }, question.label);
                                                        })),
                                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "btn-group" },
                                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { className: "float-right", type: "secondary", onClick: this.deactiveAddFieldQuestionConnPanel }, this.nls('cancel')),
                                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { className: "float-right", type: "primary", disabled: !this.state.addMapping.field || this.state.addMapping.field === 'null' || !this.state.addMapping.question || this.state.addMapping.question === 'null', onClick: this.addFieldQuestionConn }, this.nls('ok'))))) : '',
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { className: "w-100", type: "primary", id: `survey_${this.props.id}_addMappingBtn`, 
                                        // eslint-disable-next-line max-len
                                        disabled: this.state.addMapping !== null || this.state.editMapping !== null || !(((_f = this.state) === null || _f === void 0 ? void 0 : _f.layerViewInfoInNewMode) && ((_g = this.state) === null || _g === void 0 ? void 0 : _g.layerViewInfoInNewMode.dataSourceId)), onClick: this.activeAddFieldQuestionConnPanel }, this.nls('addConnBtn'))))),
                    this.props.config.mode === 'edit' && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, { className: "section-title" },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { role: "group", "aria-describedby": `survey_${this.props.id}_chooseExistDataEditDesc`, "aria-label": this.nls('chooseExistDataTitle'), "aria-owns": `survey_${this.props.id}_selectSurveyLayerForEditMode` },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("h6", null, this.nls('chooseExistDataTitle')))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { id: `survey_${this.props.id}_chooseExistDataEditDesc`, className: "w-100" }, this.nls('chooseExistDataEditDesc'))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, { className: "fea-layer-outter" },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { id: `survey_${this.props.id}_selectSurveyLayerForEditMode` },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, { className: "use-feature-layer-setting" },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { title: this.nls('selectSurveyLayerTip') }, this.nls('sourceLayer'))),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "feature-layer-dropdown", title: this.nls('selectSurveyLayerTip') },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_data_source_selector__WEBPACK_IMPORTED_MODULE_6__.DataSourceSelector, { isMultiple: false, hideDataView: true, "aria-label": this.nls('sourceLayer'), "aria-describedby": '', mustUseDataSource: true, closeDataSourceListOnChange: true, hideTypeDropdown: true, types: this.supportedLayerTypes, useDataSources: ((_h = this.state) === null || _h === void 0 ? void 0 : _h.layerViewInfoInEditMode) ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([(_j = this.state) === null || _j === void 0 ? void 0 : _j.layerViewInfoInEditMode]) : null, onChange: this.handleUseDataSourceChange, widgetId: (_k = this.props) === null || _k === void 0 ? void 0 : _k.id }))))),
                    this.props.config.mode === 'view' && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { role: "group", className: "section-title", "aria-describedby": `survey_${this.props.id}_chooseExistDataViewDesc`, "aria-label": this.nls('chooseExistDataTitle'), "aria-owns": `survey_${this.props.id}_selectMapForVIewMode` },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("h6", null, this.nls('chooseExistDataTitle')))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { id: `survey_${this.props.id}_chooseExistDataViewDesc`, className: "w-100" }, this.nls('chooseExistDataViewDesc'))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, { className: "fea-layer-outter" },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { id: `survey_${this.props.id}_selectMapForVIewMode` },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, { className: "use-feature-layer-setting" },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { title: this.nls('selectSurveyLayerTip') }, this.nls('sourceLayer'))),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "feature-layer-dropdown", title: this.nls('selectSurveyLayerTip') },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_data_source_selector__WEBPACK_IMPORTED_MODULE_6__.DataSourceSelector, { isMultiple: false, hideDataView: true, "aria-label": this.nls('sourceLayer'), "aria-describedby": '', mustUseDataSource: true, closeDataSourceListOnChange: true, hideTypeDropdown: true, types: this.supportedLayerTypes, useDataSources: ((_l = this.state) === null || _l === void 0 ? void 0 : _l.layerViewInfoInViewMode) ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([(_m = this.state) === null || _m === void 0 ? void 0 : _m.layerViewInfoInViewMode]) : null, onChange: this.handleUseDataSourceChange, widgetId: (_o = this.props) === null || _o === void 0 ? void 0 : _o.id }))))))),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "survey123__section", role: "group", "aria-label": this.nls('resetSurveyLabel'), style: (this.state.mode.indexOf('confirmResetSurvey') !== -1)
                    ? { display: 'block' }
                    : { display: 'none' } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingSection, { title: this.nls('resetSurveyLabel') },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null, this.props.intl.formatMessage({ id: 'resetSurveyTip', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].resetSurveyTip })),
                    this.props.intl.formatMessage({ id: 'confirmResetSurveyTip', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].confirmResetSurveyTip }),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.SettingRow, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { "aria-description": this.props.intl.formatMessage({ id: 'resetSurveyTip', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].resetSurveyTip }), type: "primary", onClick: () => { this.resetSurvey(); } }, this.nls('yes')),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { onClick: () => { this.showSettingPage(); } }, this.nls('no'))))),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Modal, { isOpen: this.state.modalIsOpen, className: "w-100 h-100 p-0 m-0 survey123__desinger_modal", css: (0,_css_style__WEBPACK_IMPORTED_MODULE_9__.getModalStyle)(this.props.theme) },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "survey123__desinger" },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", null, this.props.intl.formatMessage({ id: 'editSurveyBtn', defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__["default"].editSurveyBtn })),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { color: "primary", onClick: this.handleCloseModal },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_10__.CloseOutlined, { size: 24 }))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("iframe", { id: "survey123-designer", width: "100%" }),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.AlertPopup, { isOpen: this.state.isShowCloseDesignerAlert, okLabel: this.nls('ok'), title: this.props.label, toggle: this.handleCloseDesignerAlert },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { fontSize: '1rem' } }, this.nls('msgUnsavedBeforeLeaving')))));
    }
}
function __set_webpack_public_path__(url) { __webpack_require__.p = url; }

})();

/******/ 	return __webpack_exports__;
/******/ })()

			);
		}
	};
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy91bmlwZXJDYXB0dXJlL2Rpc3Qvc2V0dGluZy9zZXR0aW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQTZDO0FBRXVCO0FBRTdELE1BQU0sc0JBQXNCLEdBQUcsQ0FBQyxLQUF3QixFQUFFLEVBQUU7SUFDakUsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLEdBQUc7SUFDdEIsTUFBTSxFQUFFLFNBQVMsS0FBZ0IsS0FBSyxFQUFoQixNQUFNLFVBQUssS0FBSyxFQUFoQyxhQUF3QixDQUFRO0lBRXRDLE1BQU0sT0FBTyxHQUFHLHFEQUFVLENBQUMsK0JBQStCLEVBQUUsU0FBUyxDQUFDO0lBQ3RFLElBQUksQ0FBQyxHQUFHO1FBQUUsT0FBTyxrRkFBSyxTQUFTLEVBQUUsT0FBTyxJQUFNLE1BQWEsRUFBSTtJQUMvRCxPQUFPLDJEQUFDLEdBQUcsa0JBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsc0ZBQUcsSUFBTSxNQUFNLEVBQUk7QUFDMUQsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDWDRDO0FBRVE7QUFFOUMsTUFBTSxhQUFhLEdBQUcsQ0FBQyxLQUF3QixFQUFFLEVBQUU7SUFDeEQsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLEdBQUc7SUFDdEIsTUFBTSxFQUFFLFNBQVMsS0FBZ0IsS0FBSyxFQUFoQixNQUFNLFVBQUssS0FBSyxFQUFoQyxhQUF3QixDQUFRO0lBRXRDLE1BQU0sT0FBTyxHQUFHLHFEQUFVLENBQUMsK0JBQStCLEVBQUUsU0FBUyxDQUFDO0lBQ3RFLElBQUksQ0FBQyxHQUFHO1FBQUUsT0FBTyxrRkFBSyxTQUFTLEVBQUUsT0FBTyxJQUFNLE1BQWEsRUFBSTtJQUMvRCxPQUFPLDJE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Y0FBYyxFQUFFLDZEQUFlLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBSztvQkFDOUcsMkRBQVEsS0FBSyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGdCQUFnQjt3QkFDcEQsK0NBQUMsNEVBQWEsSUFBQyxJQUFJLEVBQUUsRUFBRSxHQUFHLENBQ25CLENBQ0w7Z0JBRU4sMkRBQVEsRUFBRSxFQUFDLG9CQUFvQixFQUFDLEtBQUssRUFBQyxNQUFNLEdBQVU7Z0JBRXRELCtDQUFDLCtDQUFVLElBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsd0JBQXdCLEVBQ3JELE9BQU8sRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUN2QixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQ3ZCLE1BQU0sRUFBRSxJQUFJLENBQUMsd0JBQXdCO29CQUNyQyx3REFBSyxLQUFLLEVBQUUsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLElBQzdCLElBQUksQ0FBQyxHQUFHLENBQUMseUJBQXlCLENBQUMsQ0FDaEMsQ0FDSyxDQUNQLENBQ0g7SUFDVCxDQUFDO0NBQ0Y7QUFFTyxTQUFTLDJCQUEyQixDQUFDLEdBQUcsSUFBSSxxQkFBdUIsR0FBRyxHQUFHLEVBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9hcHBsaWNhdGlvbi9saW5rLWhvcml6b250YWwuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvY2xvc2Uuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvdHJhc2guc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL2FwcGxpY2F0aW9uL2xpbmstaG9yaXpvbnRhbC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL2Nsb3NlLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvdHJhc2gudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy91bmlwZXJDYXB0dXJlL3NyYy9zZXJ2aWNlL3N1cnZleTEyMy5zZXJ2aWNlLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy91bmlwZXJDYXB0dXJlL3NyYy9zZXR0aW5nL2Nzcy9zdHlsZS50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvdW5pcGVyQ2FwdHVyZS9zcmMvc2V0dGluZy90cmFuc2xhdGlvbnMvZGVmYXVsdC50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtYXJjZ2lzXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJqaW11LWNvcmVcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtZm9yLWJ1aWxkZXJcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtZm9yLWJ1aWxkZXIvc2VydmljZVwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS11aVwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS11aS9hZHZhbmNlZC9kYXRhLXNvdXJjZS1zZWxlY3RvclwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHNcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWNvcmUvbGliL3NldC1wdWJsaWMtcGF0aC50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvdW5pcGVyQ2FwdHVyZS9zcmMvc2V0dGluZy9zZXR0aW5nLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZD1cXFwiTTQgNGgyLjV2MUg0YTMgMyAwIDAgMCAwIDZoMi41djFINGE0IDQgMCAxIDEgMC04TTEyIDExSDkuNXYxSDEyYTQgNCAwIDEgMCAwLThIOS41djFIMTJhMyAzIDAgMCAxIDAgNlxcXCI+PC9wYXRoPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGQ9XFxcIk01LjUgNy41YS41LjUgMCAwIDAgMCAxaDVhLjUuNSAwIDAgMCAwLTF6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZD1cXFwibTguNzQ1IDggNi4xIDYuMWEuNTI3LjUyNyAwIDEgMS0uNzQ1Ljc0Nkw4IDguNzQ2bC02LjEgNi4xYS41MjcuNTI3IDAgMSAxLS43NDYtLjc0Nmw2LjEtNi4xLTYuMS02LjFhLjUyNy41MjcgMCAwIDEgLjc0Ni0uNzQ2bDYuMSA2LjEgNi4xLTYuMWEuNTI3LjUyNyAwIDAgMSAuNzQ2Ljc0NnpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJNNiA2LjVhLjUuNSAwIDAgMSAxIDB2NmEuNS41IDAgMCAxLTEgMHpNOS41IDZhLjUuNSAwIDAgMC0uNS41djZhLjUuNSAwIDAgMCAxIDB2LTZhLjUuNSAwIDAgMC0uNS0uNVxcXCI+PC9wYXRoPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTExIDBINWExIDEgMCAwIDAtMSAxdjJILjVhLjUuNSAwIDAgMCAwIDFoMS42bC44MSAxMS4xYTEgMSAwIDAgMCAuOTk1LjloOC4xOWExIDEgMCAwIDAgLjk5NS0uOUwxMy45IDRoMS42YS41LjUgMCAwIDAgMC0xSDEyVjFhMSAxIDAgMCAwLTEtMW0wIDNWMUg1djJ6bTEuODk1IDFoLTkuNzlsLjggMTFoOC4xOXpcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IHR5cGUgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9hcHBsaWNhdGlvbi9saW5rLWhvcml6b250YWwuc3ZnJ1xyXG5cclxuZXhwb3J0IGNvbnN0IExpbmtIb3Jpem9udGFsT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XHJcbiAgY29uc3QgU1ZHID0gd2luZG93LlNWR1xyXG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXHJcblxyXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcclxuICBpZiAoIVNWRykgcmV0dXJuIDxzdmcgY2xhc3NOYW1lPXtjbGFzc2VzfSB7Li4ub3RoZXJzIGFzIGFueX0gLz5cclxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvZWRpdG9yL2Nsb3NlLnN2ZydcclxuXHJcbmV4cG9ydCBjb25zdCBDbG9zZU91dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xyXG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcclxuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xyXG5cclxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXHJcbiAgaWYgKCFTVkcpIHJldHVybiA8c3ZnIGNsYXNzTmFtZT17Y2xhc3Nlc30gey4uLm90aGVycyBhcyBhbnl9IC8+XHJcbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2VkaXRvci90cmFzaC5zdmcnXHJcblxyXG5leHBvcnQgY29uc3QgVHJhc2hPdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcclxuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXHJcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcclxuXHJcbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxyXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxyXG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XHJcbn1cclxuIiwiLyoqXHJcbiAqIHN1cnZleTEyMyBjb21tb24gcGFyYW1zXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN1cnZleTEyM0NvbW1vblBhcmFtcyB7XHJcbiAgdXNlcm5hbWU/OiBzdHJpbmdcclxuICB0b2tlbj86IHN0cmluZ1xyXG4gIGY/OiBzdHJpbmdcclxuICBwb3J0YWxVcmw/OiBzdHJpbmdcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIFNlYXJjaFBhcmFtIHtcclxuICAvKipcclxuICAgKiBUaGUgcXVlcnkgc3RyaW5nIHRvIHNlYXJjaCB0aGUgZ3JvdXBzIGFnYWluc3QuXHJcbiAgICovXHJcbiAgcT86IHN0cmluZ1xyXG4gIHNvcnRGaWVsZD86IHN0cmluZ1xyXG4gIHNvcnRPcmRlcj86ICdhc2MnIHwgJ2Rlc2MnXHJcbiAgc3RhcnQ/OiBudW1iZXJcclxuICAvKipcclxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgcmVzdWx0cyB0byBiZSBpbmNsdWRlZCBpbiB0aGUgcmVzdWx0IHNldCByZXNwb25zZS5cclxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAxMCwgYW5kIHRoZSBtYXhpbXVtIGFsbG93ZWQgdmFsdWUgaXMgMTAwLlxyXG4gICAqL1xyXG4gIG51bT86IG51bWJlclxyXG59XHJcblxyXG4vKipcclxuICogc3VydmV5MTIzIGlmcmFtZSBtZXNzYWdlXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFN1cnZleTEyM01lc3NhZ2Uge1xyXG4gIGV2ZW50OiBzdHJpbmdcclxuICBkYXRhOiBhbnlcclxufVxyXG5cclxuLyoqXHJcbiAqIHN1cnZleTEyMyBzZXJ2aWNlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3VydmV5MTIzU2VydmljZSB7XHJcbiAgcHJpdmF0ZSBxdWVyeU9iajogYW55XHJcbiAgcHJpdmF0ZSBzdXJ2ZXlVcmxGcm9tUG9ydGFsOiBzdHJpbmdcclxuICBwdWJsaWMgc2V0UXVlcnlPYmplY3QgKG9iaikge1xyXG4gICAgY29uc3Qgb2JqU3RyID0gb2JqID8gb2JqLnN1cnZleTEyMyA6ICcnXHJcbiAgICBjb25zdCB1cmxTdHJpbmcgPSBvYmpTdHIgPyBkZWNvZGVVUklDb21wb25lbnQob2JqU3RyICsgJycpIDogJydcclxuICAgIGNvbnN0IHZhbCA9IHRoaXMuX3VybFBhcmFtVG9Kc29uKHVybFN0cmluZylcclxuICAgIHRoaXMucXVlcnlPYmogPSB2YWxcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGh0dHBzOi8vZGV2dG9waWEuZXNyaS5jb20vQmVpamluZy1SLUQtQ2VudGVyL0V4cGVyaWVuY2VCdWlsZGVyLVdlYi1FeHRlbnNpb25zL2lzc3Vlcy80NjU5XHJcbiAgICogZ2V0IHN1cnZleSBob3N0IHVybCBmcm9tIHBvcnRhbCdzIGNvbmZpZy5qcyBmaWxlXHJcbiAgICogQHBhcmFtIHBvcnRhbFVybFxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRTdXJ2ZXlIb3N0VXJsRnJvbVBvcnRhbCAocG9ydGFsVXJsOiBzdHJpbmcpIHtcclxuICAgIHBvcnRhbFVybCA9IHBvcnRhbFVybCB8fCAnaHR0cHM6Ly93d3cuYXJjZ2lzLmNvbSdcclxuICAgIC8vIHJlYWQgY2FjaGUgZnJvbSB0aGlzLnN1cnZleVVybEZyb21Qb3J0YWxcclxuICAgIGlmICh0aGlzLnN1cnZleVVybEZyb21Qb3J0YWwgfHwgdGhpcy5zdXJ2ZXlVcmxGcm9tUG9ydGFsID09PSBudWxsKSB7XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5zdXJ2ZXlVcmxGcm9tUG9ydGFsKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHJlYWQgY2FjaGUgZnJvbSB3aW5kb3cuZXNyaUdlb3dDb25maWcuc3VydmV5VXJsXHJcbiAgICBjb25zdCBlc3JpR2Vvd0NvbmZpZyA9ICh3aW5kb3cgYXMgYW55KS5lc3JpR2Vvd0NvbmZpZ1xyXG4gICAgaWYgKGVzcmlHZW93Q29uZmlnICYmIGVzcmlHZW93Q29uZmlnLnN1cnZleVVybCkge1xyXG4gICAgICB0aGlzLnN1cnZleVVybEZyb21Qb3J0YWwgPSBlc3JpR2Vvd0NvbmZpZy5zdXJ2ZXlVcmxcclxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnN1cnZleVVybEZyb21Qb3J0YWwpXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGNvbmZpZ0pTVXJsID0gJydcclxuICAgIGlmICghKHBvcnRhbFVybC5lbmRzV2l0aCgnLycpKSkge1xyXG4gICAgICBwb3J0YWxVcmwgKz0gJy8nXHJcbiAgICB9XHJcbiAgICBjb25maWdKU1VybCA9IHBvcnRhbFVybCArICdob21lL2pzL2FyY2dpc29ubGluZS9jb25maWcuanMnXHJcblxyXG4gICAgLy8gSW4gb3JkZXIgdG8gYXZvaWQgY3Jvc3MgZG9tYWluIGVycm9yLCBjcmVhdGUgYSBzY3JpcHQgdGFnIHRvIGxvYWQgdGhlIGNvbmZpZyBqcy5cclxuICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpXHJcbiAgICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnXHJcbiAgICBzY3JpcHQuc3JjID0gY29uZmlnSlNVcmxcclxuXHJcbiAgICBjb25zdCBodG1sTm9kZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxyXG4gICAgY29uc3QgaHRtbERpciA9IGh0bWxOb2RlLmdldEF0dHJpYnV0ZSgnZGlyJylcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIHNjcmlwdC5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gcmVzZXQgdGhlIGh0bWwgZGlyZWN0aW9uLCBzZWUgaHR0cHM6Ly9kZXZ0b3BpYS5lc3JpLmNvbS9CZWlqaW5nLVItRC1DZW50ZXIvRXhwZXJpZW5jZUJ1aWxkZXIvaXNzdWVzLzExMzEwI2lzc3VlY29tbWVudC0zMDYxNTA5XHJcbiAgICAgICAgaWYgKGh0bWxOb2RlLmdldEF0dHJpYnV0ZSgnZGlyJykgIT09IGh0bWxEaXIpIHtcclxuICAgICAgICAgIGh0bWxOb2RlLnNldEF0dHJpYnV0ZSgnZGlyJywgaHRtbERpcilcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNmZyA9ICh3aW5kb3cgYXMgYW55KS5lc3JpR2Vvd0NvbmZpZ1xyXG4gICAgICAgIGlmIChjZmcgJiYgY2ZnLnN1cnZleVVybCkge1xyXG4gICAgICAgICAgdGhpcy5zdXJ2ZXlVcmxGcm9tUG9ydGFsID0gY2ZnLnN1cnZleVVybFxyXG4gICAgICAgICAgcmVzb2x2ZShjZmcuc3VydmV5VXJsKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnN1cnZleVVybEZyb21Qb3J0YWwgPSBudWxsXHJcbiAgICAgICAgICByZXNvbHZlKG51bGwpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHNjcmlwdC5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChodG1sTm9kZS5nZXRBdHRyaWJ1dGUoJ2RpcicpICE9PSBodG1sRGlyKSB7XHJcbiAgICAgICAgICBodG1sTm9kZS5zZXRBdHRyaWJ1dGUoJ2RpcicsIGh0bWxEaXIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gZ2V0IHN1cnZleSB1cmwgZnJvbSBwb3J0YWxcXCdzIGNvbmZpZy5qcywgd2lsbCBmYWxsYmFjayB0byB1c2UgdGhlIGRlZmF1bHQgc3VydmV5MTIzIHVybC4nKVxyXG4gICAgICAgIHRoaXMuc3VydmV5VXJsRnJvbVBvcnRhbCA9IG51bGxcclxuICAgICAgICByZXNvbHZlKG51bGwpXHJcbiAgICAgIH1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChzY3JpcHQpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZ2V0IHN1cnZleTEyMyBob3N0IHVybFxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRTdXJ2ZXkxMjNIb3N0VXJsICgpOiBzdHJpbmcge1xyXG4gICAgLyoqXHJcbiAgICAgKiBCZWlqaW5nLVItRC1DZW50ZXIvRXhwZXJpZW5jZUJ1aWxkZXIvaXNzdWVzLzg4XHJcbiAgICAgKiB3ZSBuZWVkIHRvIGNoZWNrIHVybCBob3N0IHRvIHNlZSB3aGljaCBzdXJ2ZXkxMjMgaG9zdCB1cmwgd2Ugd2lsbCB1c2VcclxuICAgICAqIHdhYmJ1aWxkLmVzcmkuY29tID4gc3VydmV5MTIzZGVjLmFyY2dpcy5jb21cclxuICAgICAqIGV4cGVyaWVuY2VkZXYuYXJjZ2lzLmNvbSA+IHN1cnZleTEyM2Rldi5hcmNnaXMuY29tXHJcbiAgICAgKiBleHBlcmllbmNlcWEuYXJjZ2lzLmNvbSA+IHN1cnZleTEyM3FhLmFyY2dpcy5jb21cclxuICAgICAqIGV4cGVyaWVuY2UuYXJjZ2lzLmNvbSA+IHN1cnZleTEyMy5hcmNnaXMuY29tXHJcbiAgICAgKiBkZWZhdWx0ID4gc3VydmV5MTIzLmFyY2dpcy5jb21cclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIGxldCB1cmwgPSAnaHR0cHM6Ly9zdXJ2ZXkxMjMuYXJjZ2lzLmNvbSdcclxuICAgIC8vIHVybCBmcm9tIHBvcnRhbCBjb25maWcuanNcclxuICAgIGlmICh0aGlzLnN1cnZleVVybEZyb21Qb3J0YWwpIHtcclxuICAgICAgdXJsID0gdGhpcy5zdXJ2ZXlVcmxGcm9tUG9ydGFsXHJcbiAgICB9XHJcbiAgICBsZXQgZW52ID0gd2luZG93LmppbXVDb25maWcuaG9zdEVudiBhcyBhbnlcclxuICAgIGlmICh0aGlzLnF1ZXJ5T2JqICYmIHRoaXMucXVlcnlPYmouZW52KSB7XHJcbiAgICAgIGVudiA9IHRoaXMucXVlcnlPYmouZW52ICsgJydcclxuICAgICAgLy8gd2hlbiB0aGUgZW52IGlzIGEgdXJsOiByZWZlciB0bzogaHR0cHM6Ly9kZXZ0b3BpYS5lc3JpLmNvbS9CZWlqaW5nLVItRC1DZW50ZXIvRXhwZXJpZW5jZUJ1aWxkZXItV2ViLUV4dGVuc2lvbnMvaXNzdWVzLzU5NzUjaXNzdWVjb21tZW50LTI4NjYzNjhcclxuICAgICAgaWYgKGVudi5zdGFydHNXaXRoKCdodHRwOi8vJykgfHwgZW52LnN0YXJ0c1dpdGgoJ2h0dHBzOi8vJykpIHtcclxuICAgICAgICByZXR1cm4gZW52XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBpZiB0aGUgdXJsIG1vZGUgaXMgbGlrZSBodHRwczovL3N1cnZleTEyMyR7c3ViTmFtZX0uYXJjZ2lzLmNvbSwgd2lsbCBsZXQgdGhlIGVudiBmcm9tIHVybCB3b3JrLFxyXG4gICAgLy8gb3RoZXJ3aXNlLCBpZ25vcmUgdGhlIGVudiBmcm9tIHVybC5cclxuICAgIGxldCBpc05vcm1hbFN1cnZleVVybCA9IHRydWVcclxuICAgIGlmICh1cmwgIT09ICdodHRwczovL3N1cnZleTEyMy5hcmNnaXMuY29tJykge1xyXG4gICAgICBjb25zdCBtYXRjaFJzdCA9IHVybC5tYXRjaCgvaHR0cHM6XFwvXFwvc3VydmV5MTIzKC5bXlxcLl0qKVxcLmFyY2dpc1xcLmNvbS8pXHJcbiAgICAgIGlzTm9ybWFsU3VydmV5VXJsID0gISEoKG1hdGNoUnN0ICYmIG1hdGNoUnN0Lmxlbmd0aCkpXHJcbiAgICB9XHJcbiAgICBpZiAoZW52ICYmIGVudiAhPT0gJ3ByZCcgJiYgZW52ICE9PSAncHJvZCcgJiYgaXNOb3JtYWxTdXJ2ZXlVcmwpIHtcclxuICAgICAgdXJsID0gYGh0dHBzOi8vc3VydmV5MTIzJHtlbnZ9LmFyY2dpcy5jb21gXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHVybFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBnZXQgdGhlIGFwaSB1cmxcclxuICAqL1xyXG4gIHB1YmxpYyBnZXRTdXJ2ZXkxMjNIb3N0QVBJVXJsICgpIHtcclxuICAgIGxldCB1cmwgPSB0aGlzLmdldFN1cnZleTEyM0hvc3RVcmwoKSArICcvYXBpL2pzYXBpLzMuMTkvJyAvLyAgJy9zaGFyZS9zdXJ2ZXkxMjN3ZWJmb3JtLWpzYXBpLmpzJztcclxuICAgIGlmICh0aGlzLnF1ZXJ5T2JqICYmIHRoaXMucXVlcnlPYmouanNhcGkpIHtcclxuICAgICAgdXJsID0gdGhpcy5nZXRTdXJ2ZXkxMjNIb3N0VXJsKCkgKyAnL2FwaS9qc2FwaS8nICsgdGhpcy5xdWVyeU9iai5qc2FwaVxyXG4gICAgfVxyXG4gICAgLy8gb25seSBmb3IgZGVidWdnZXIgbG9jYWxseVxyXG4gICAgLy8gY29uc3QgaXNEZWJ1ZzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgLy8gaWYgKGlzRGVidWcpIHtcclxuICAgIC8vICAgdXJsID0gYGh0dHBzOi8vbmFuemhhbmcuYXJjZ2lzLmNvbTo4NDQzL3dlYmNsaWVudC9zdXJ2ZXkxMjN3ZWJmb3JtLWpzYXBpLmpzYDtcclxuICAgIC8vIH1cclxuXHJcbiAgICByZXR1cm4gdXJsXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBjcmVhdGUgc3VydmV5IGJ5IHN1cnZleTEyMyByZXN0IGFwaVxyXG4gICAqIEBwYXJhbSB0aXRsZVxyXG4gICAqIEBwYXJhbSB0YWdzXHJcbiAgICogQHBhcmFtIG9wdGlvbnNcclxuICAgKi9cclxuICBwdWJsaWMgY3JlYXRlU3VydmV5ICh0aXRsZTogc3RyaW5nLCB0YWdzOiBzdHJpbmdbXSwgY29tbW9uUGFyYW1zOiBTdXJ2ZXkxMjNDb21tb25QYXJhbXMsIG9wdGlvbnM/OiB7XHJcbiAgICBzbmlwcGV0Pzogc3RyaW5nXHJcbiAgICB0aHVtYm5haWxVcmw/OiBzdHJpbmdcclxuICB9KTogUHJvbWlzZTxhbnk+IHtcclxuICAgIC8vIG9wdGlvbnNcclxuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcclxuICAgICAgc25pcHBldDogJydcclxuICAgIH0sIG9wdGlvbnMgfHwge30pXHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aXRsZSB8fCAhY29tbW9uUGFyYW1zIHx8ICFjb21tb25QYXJhbXMudG9rZW4gfHwgIWNvbW1vblBhcmFtcy51c2VybmFtZSkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtaXNzaW5nIHRpdGxlLCB0YWdzLCB1c2VybmFtZSBvciB0b2tlbicpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdXJsID0gYCR7dGhpcy5nZXRTdXJ2ZXkxMjNIb3N0VXJsKCl9L2FwaS9zdXJ2ZXkvY3JlYXRlYFxyXG4gICAgICAgIGNvbnN0IHBhcmFtczogYW55ID0ge1xyXG4gICAgICAgICAgdGl0bGU6IHRpdGxlLFxyXG4gICAgICAgICAgdGFnczogdGFncyAmJiBBcnJheS5pc0FycmF5KHRhZ3MpID8gdGFncy5qb2luKCcsJykgOiAodGFncyB8fCBudWxsKSxcclxuICAgICAgICAgIHNuaXBwZXQ6IG9wdGlvbnMuc25pcHBldCxcclxuICAgICAgICAgIHRodW1ibmFpbFVybDogb3B0aW9ucy50aHVtYm5haWxVcmwsXHJcbiAgICAgICAgICB0b2tlbjogY29tbW9uUGFyYW1zLnRva2VuLFxyXG4gICAgICAgICAgdXNlcm5hbWU6IGNvbW1vblBhcmFtcy51c2VybmFtZSxcclxuICAgICAgICAgIHBvcnRhbFVybDogY29tbW9uUGFyYW1zLnBvcnRhbFVybCB8fCAnaHR0cHM6Ly93d3cuYXJjZ2lzLmNvbSdcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmZXRjaCh1cmwsIHtcclxuICAgICAgICAgIG1vZGU6ICdjb3JzJyxcclxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFyYW1zKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAudGhlbigocmVzOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhyb3cgcmVzXHJcbiAgICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogaXNQb3J0YWwgaXMgdG8gY2hlY2sgaWYgdGhlIGN1cnJlbnQgcG9ydGFsVXJsIChmcm9tIGNvbmZpZyBvciBmcm9tIHVybCBwYXJhbXMpIGlzIGFyY2dpcyBvbmxpbmUgcG9ydGFscyBvciBub3RcclxuICAgKi9cclxuICBwdWJsaWMgaXNQb3J0YWwgKHBvcnRhbFVybDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICBjb25zdCBhcmNnaXNPbmxpbmVQb3J0YWxVcmxzID0gWyd3d3cuYXJjZ2lzLmNvbScsICdkZXZleHQuYXJjZ2lzLmNvbScsICdxYWV4dC5hcmNnaXMuY29tJ11cclxuXHJcbiAgICAvLyBjaGVjayBpZiB0aGUgcG9ydGFsVXJsIGlzIGFyY2dpcyBvbmxpbmUgdXJsXHJcbiAgICBjb25zdCBpc0FyY2dpc09ubGluZSA9IGFyY2dpc09ubGluZVBvcnRhbFVybHMuZmluZCgodXJsLCBpKSA9PiB7XHJcbiAgICAgIHJldHVybiBwb3J0YWxVcmwuaW5jbHVkZXModXJsKVxyXG4gICAgfSlcclxuICAgIHJldHVybiAhaXNBcmNnaXNPbmxpbmVcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHF1ZXJ5IHN1cnZleVxyXG4gICAqIEBwYXJhbSBjb21tb25QYXJhbXNcclxuICAgKiBAcGFyYW0gb3B0aW9uc1xyXG4gICAqIFJlbWluZGVyOiBpZiBzZWFyY2hTdXJ2ZXlUeXBlIGlzICdhbGwtYWRtaW4nLCBldmVuIHRoZSBpc1NlYXJjaEFsbCBpcyB0cnVlLCB0aGUgcmVzdWx0IGNvdW50IHN0aWxsIGhhcyBhIGxpbWl0YXRpb246IDEwMDAuIHRoaXMgaXMgdGhlIGFwaSdzIGJlaGF2aW91clxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWVyeVN1cnZleSAoY29tbW9uUGFyYW1zOiBTdXJ2ZXkxMjNDb21tb25QYXJhbXMsIG9wdGlvbnM/OiB7XHJcbiAgICBpc1B1Ymxpc2hlZD86IGJvb2xlYW5cclxuICAgIGlzU2VhcmNoQWxsPzogYm9vbGVhblxyXG4gICAgc2VhcmNoU3VydmV5VHlwZT86IHN0cmluZ1xyXG4gICAgc3VydmV5Q2xpZW50QVBJPzogYW55XHJcbiAgfSk6IFByb21pc2U8YW55PiB7XHJcbiAgICAvLyBvcHRpb25zXHJcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XHJcbiAgICAgIGlzUHVibGlzaGVkOiBmYWxzZSxcclxuICAgICAgaXNTZWFyY2hBbGw6IHRydWUsXHJcbiAgICAgIHN1cnZleUNsaWVudEFQSTogbnVsbFxyXG4gICAgfSwgb3B0aW9ucyB8fCB7fSlcclxuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBpZiAoIWNvbW1vblBhcmFtcyB8fCAhY29tbW9uUGFyYW1zLnRva2VuIHx8ICFjb21tb25QYXJhbXMudXNlcm5hbWUpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbWlzc2luZyB0b2tlbiBvciB1c2VybmFtZScpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcGFyYW1zOiBhbnkgPSB7XHJcbiAgICAgICAgICBpc1B1Ymxpc2hlZDogb3B0aW9ucy5pc1B1Ymxpc2hlZCxcclxuICAgICAgICAgIGlzU2VhcmNoQWxsOiBvcHRpb25zLmlzU2VhcmNoQWxsLFxyXG4gICAgICAgICAgdG9rZW46IGNvbW1vblBhcmFtcy50b2tlbixcclxuICAgICAgICAgIHVzZXJuYW1lOiBjb21tb25QYXJhbXMudXNlcm5hbWUsXHJcbiAgICAgICAgICBwb3J0YWxVcmw6IGNvbW1vblBhcmFtcy5wb3J0YWxVcmwgfHwgJ2h0dHBzOi8vd3d3LmFyY2dpcy5jb20nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvcHRpb25zLnNlYXJjaFN1cnZleVR5cGUpIHtcclxuICAgICAgICAgIHBhcmFtcy5zZWFyY2hTdXJ2ZXlUeXBlID0gb3B0aW9ucy5zZWFyY2hTdXJ2ZXlUeXBlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghb3B0aW9ucy5zdXJ2ZXlDbGllbnRBUEkpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdTdXJ2ZXkgY2xpZW50IGFwaSBpcyBub3QgcHJvdmlkZWQuJylcclxuICAgICAgICAgIC8vIHRvZG86IGRvIHdlIG5lZWQgdG8gcmVxdWVzdCByZXN0IGFwaSBpZiB0aGUganMgYXBpIGZhaWxlZCB0byB3b3JrP1xyXG4gICAgICAgICAgcmV0dXJuIG51bGxcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuc3VydmV5Q2xpZW50QVBJLnN1cnZleTEyMy5zZWFyY2hTdXJ2ZXkocGFyYW1zKVxyXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzICYmIHJlcy5yZXN1bHRzKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHJlcy5yZXN1bHRzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhyb3cgcmVzXHJcbiAgICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogcXVlcnkgb3RoZXJzJyBzdXJ2ZXlcclxuICAgKiBAcGFyYW0gY29tbW9uUGFyYW1zXHJcbiAgICogQHBhcmFtIG9wdGlvbnNcclxuICAgKiB0b2RvOiB3aWxsIHVzZSBzdXJ2ZXkgYXBpIGluc3RlYWQgd2hlbiB0aGUgYXBpIGVtcGxlbWVudHMgdGhpcyBmZWF0dXJlXHJcbiAgICovXHJcbiAgcHVibGljIHF1ZXJ5T3RoZXJzU3VydmV5IChjb21tb25QYXJhbXM6IFN1cnZleTEyM0NvbW1vblBhcmFtcywgb3B0aW9uczogeyBvcmdJZDogc3RyaW5nIH0pOiBQcm9taXNlPGFueT4ge1xyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFjb21tb25QYXJhbXMgfHwgIWNvbW1vblBhcmFtcy50b2tlbiB8fCAhY29tbW9uUGFyYW1zLnVzZXJuYW1lKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21pc3NpbmcgdG9rZW4gb3IgdXNlcm5hbWUnKVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtczogYW55ID0ge1xyXG4gICAgICAgICAgdG9rZW46IGNvbW1vblBhcmFtcy50b2tlbixcclxuICAgICAgICAgIHVzZXJuYW1lOiBjb21tb25QYXJhbXMudXNlcm5hbWUsXHJcbiAgICAgICAgICBwb3J0YWxVcmw6IGNvbW1vblBhcmFtcy5wb3J0YWxVcmwgfHwgJ2h0dHBzOi8vd3d3LmFyY2dpcy5jb20nLFxyXG4gICAgICAgICAgb3JnSWQ6IG9wdGlvbnMub3JnSWRcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJlc3BvbnNlOiBhbnkgPSBudWxsXHJcblxyXG4gICAgICAgIC8vIGJ1aWxkIHF1ZXJ5IHBhcmFtZXRlcjogcVxyXG4gICAgICAgIGNvbnN0IHEgPSBgKCh0eXBlOkZvcm0gQU5EICh0eXBla2V5d29yZHM6eEZvcm0gT1IgdHlwZWtleXdvcmRzOkZvcm0pKSBPUiAodHlwZTonQ29kZSBTYW1wbGUnIEFORCB0eXBla2V5d29yZHM6WEZvcm1zIEFORCB0YWdzOid4Zm9ybScpKSBBTkQgKE5PVCBvd25lcjoke3BhcmFtcy51c2VybmFtZX0pIEFORCAoYWNjZXNzOnNoYXJlZCBPUiBhY2Nlc3M6b3JnIE9SIChhY2Nlc3M6cHVibGljIEFORCBvcmdpZDoke3BhcmFtcy5vcmdJZH0pIE9SIGFjY2Vzczpwcml2YXRlKWBcclxuICAgICAgICAvLyBnZXQgc2VhcmNoIHVybFxyXG4gICAgICAgIGNvbnN0IHNlYXJjaFVybCA9IGAke3BhcmFtcy5wb3J0YWxVcmx9L3NoYXJpbmcvcmVzdC9zZWFyY2hgXHJcbiAgICAgICAgLy8gc2VhcmNoIHBhcmFtc1xyXG4gICAgICAgIGNvbnN0IHNlYXJjaFBhcmFtczogU2VhcmNoUGFyYW0gPSB7XHJcbiAgICAgICAgICBxOiBxXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnNlYXJjaEFHTyhzZWFyY2hVcmwsIHNlYXJjaFBhcmFtcywgY29tbW9uUGFyYW1zKVxyXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICByZXNwb25zZSA9IHJlc1xyXG4gICAgICAgICAgICAvLyB0aGUgZmlyc3QgMTAwIHN1cnZleXNcclxuICAgICAgICAgICAgcmVzLnJlc3VsdHMgPSAocmVzLnJlc3VsdHMgfHwgW10pLm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRJdGVtVG9TdXJ2ZXlJbmZvKGl0ZW0sIGNvbW1vblBhcmFtcylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIHRoZXJlIGlzIG5vdCBtb3JlIHNlYXJjaGVkIGl0ZW1zXHJcbiAgICAgICAgICAgICAqIHJldHVybiByZXN1bHRzXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBpZiAocmVzLm5leHRTdGFydCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogcmVjdXNpdmVseSBzZWFyY2ggcmVtYWluZyBpdGVtc1xyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY29uc3QgcHJvbWlzZXM6IGFueVtdID0gW11cclxuICAgICAgICAgICAgbGV0IGNvdW50ID0gTWF0aC5mbG9vcihyZXMudG90YWwgLyByZXMubnVtKVxyXG4gICAgICAgICAgICBjb25zdCByZW1haW5kZXIgPSByZXMudG90YWwgJSByZXMubnVtXHJcbiAgICAgICAgICAgIGlmIChyZW1haW5kZXIgPiAwKSB7XHJcbiAgICAgICAgICAgICAgY291bnQgKz0gMVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIHNlYXJjaFBhcmFtcywge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQ6IChpICogcmVzLm51bSkgKyAxXHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICBpZiAocGFyYW1zLnN0YXJ0IDw9IHJlcy50b3RhbCkge1xyXG4gICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLnNlYXJjaEFHTyhzZWFyY2hVcmwsIHBhcmFtcywgY29tbW9uUGFyYW1zKSlcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKVxyXG4gICAgICAgICAgICAgIC50aGVuKChyZXN1bHRzOiBhbnlbXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc29tZXRoaW5nIHdyb25nIHdoZW4gc2VhcmNoQWxsJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHRoZSBmaXJzdCAxMDAgc3VydmV5c1xyXG4gICAgICAgICAgICAgICAgbGV0IGl0ZW1zID0gcmVzLnJlc3VsdHMgfHwgW11cclxuICAgICAgICAgICAgICAgIGxldCBuZXh0U3RhcnQgPSAtMVxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIDEwMXN0IC0gbGFzdCBzdXJ2ZXlzXHJcbiAgICAgICAgICAgICAgICByZXN1bHRzLmZvckVhY2goKHJlc3VsdCwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAvLyBjb252ZXIgdGhlIGl0ZW0gdG8gc3VydmV5IGluZm8odG8gbGV0IGl0IGJlIGlkZW50aWNhbCB3aXRoIHRoZSBkYXRhIHN0cnVjdHVyZSByZXR1cm5lZCBmcm9tIHN1cnZleSBzZWFyY2ggYXBpKVxyXG4gICAgICAgICAgICAgICAgICBjb25zdCBzdXJ2ZXlzID0gcmVzdWx0LnJlc3VsdHMubWFwKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udmVydEl0ZW1Ub1N1cnZleUluZm8oaXRlbSwgY29tbW9uUGFyYW1zKVxyXG4gICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICBpdGVtcyA9IGl0ZW1zLmNvbmNhdChzdXJ2ZXlzKVxyXG4gICAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAgKiBnZXQgbmV4dFN0YXJ0IGluIHRoZSBsYXN0IHJlc3VsdFxyXG4gICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gcmVzdWx0cy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFN0YXJ0ID0gcmVzdWx0Lm5leHRTdGFydFxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UubmV4dFN0YXJ0ID0gbmV4dFN0YXJ0XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZS5yZXN1bHRzID0gaXRlbXNcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZVxyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UgPyAocmVzcG9uc2UucmVzdWx0cyB8fCBbXSkgOiBbXVxyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogc2VhcmNoIGZyb20gYWdvXHJcbiAgICogQHBhcmFtIHNlYXJjaFVybFxyXG4gICAqIEBwYXJhbSBzZWFyY2hQYXJhbXNcclxuICAgKiBAcGFyYW0gY29tbW9uUGFyYW1zXHJcbiAgICogQHJldHVybnNcclxuICAgKi9cclxuICBwdWJsaWMgc2VhcmNoQUdPIChzZWFyY2hVcmw6IHN0cmluZywgc2VhcmNoUGFyYW1zOiBTZWFyY2hQYXJhbSwgY29tbW9uUGFyYW1zOiBTdXJ2ZXkxMjNDb21tb25QYXJhbXMpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgc2VhcmNoUGFyYW1zID0gT2JqZWN0LmFzc2lnbih7XHJcbiAgICAgIG51bTogMTAwLFxyXG4gICAgICBzdGFydDogMSxcclxuICAgICAgc29ydEZpZWxkOiAndGl0bGUnLFxyXG4gICAgICBzb3J0T3JkZXI6ICdhc2MnXHJcbiAgICB9LCBzZWFyY2hQYXJhbXMpXHJcbiAgICBjb25zdCByZXVxZXN0UGFyYW1zID0gT2JqZWN0LmFzc2lnbih7fSwge1xyXG4gICAgICBmOiAnanNvbicsXHJcbiAgICAgIHRva2VuOiBjb21tb25QYXJhbXMudG9rZW5cclxuICAgIH0sIHNlYXJjaFBhcmFtcylcclxuXHJcbiAgICBjb25zdCByZXF1ZXN0VXJsID0gYCR7c2VhcmNoVXJsfT8ke09iamVjdC5rZXlzKHJldXFlc3RQYXJhbXMpLm1hcCgoaykgPT4gayArICc9JyArIHJldXFlc3RQYXJhbXNba10pLmpvaW4oJyYnKX1gXHJcbiAgICByZXR1cm4gZmV0Y2gocmVxdWVzdFVybCwge1xyXG4gICAgICBtb2RlOiAnY29ycycsXHJcbiAgICAgIG1ldGhvZDogJ0dFVCdcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IHJlc1xyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGNvbnZlcnRJdGVtVG9TdXJ2ZXlJbmZvIChpdGVtOiBhbnksIHBhcmFtczogU3VydmV5MTIzQ29tbW9uUGFyYW1zKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjcmVhdGVkOiBpdGVtLmNyZWF0ZWQsXHJcbiAgICAgIGZlYXR1cmVTZXJ2aWNlOiBudWxsLFxyXG4gICAgICBmb3JtOiBudWxsLFxyXG4gICAgICBmb3JtSXRlbUluZm86IGl0ZW0sXHJcbiAgICAgIGlkOiBpdGVtLmlkLFxyXG4gICAgICBvd25lcjogaXRlbS5vd25lcixcclxuICAgICAgcmVwb3J0OiBudWxsLFxyXG4gICAgICBzbmlwcGV0OiBpdGVtLnNuaXBwZXQsXHJcbiAgICAgIHRhZ3M6IGl0ZW0udGFncyxcclxuICAgICAgdGh1bWJuYWlsOiBgJHtwYXJhbXMucG9ydGFsVXJsfS9zaGFyaW5nL3Jlc3QvY29udGVudC9pdGVtcy8ke2l0ZW0uaWR9L2luZm8vJHtpdGVtLnRodW1ibmFpbH0/dG9rZW49JHtwYXJhbXMudG9rZW59YCxcclxuICAgICAgdGl0bGU6IGl0ZW0udGl0bGVcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGdldCBzdXJ2ZXkxMjMgZGVzaWduZXIgdXJsXHJcbiAgICovXHJcbiAgcHVibGljIGdldFN1cnZleTEyM0Rlc2lnbmVyVXJsIChzdXJ2ZXlJdGVtSWQ6IHN0cmluZywgb3B0aW9ucz86IHtcclxuICAgIHBvcnRhbFVybD86IHN0cmluZ1xyXG4gIH0pOiBzdHJpbmcge1xyXG4gICAgLy8gb3B0aW9uc1xyXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xyXG5cclxuICAgIH0sIG9wdGlvbnMgfHwge30pXHJcblxyXG4gICAgbGV0IHVybCA9IGAke3RoaXMuZ2V0U3VydmV5MTIzSG9zdFVybCgpfS9zdXJ2ZXlzLyR7c3VydmV5SXRlbUlkfS9kZXNpZ24/ZW1iZWQ9ZXhiYFxyXG4gICAgaWYgKG9wdGlvbnMucG9ydGFsVXJsICYmIG9wdGlvbnMucG9ydGFsVXJsICE9PSAnaHR0cHM6Ly93d3cuYXJjZ2lzLmNvbScpIHtcclxuICAgICAgdXJsICs9IGAmcG9ydGFsVXJsPSR7b3B0aW9ucy5wb3J0YWxVcmx9YFxyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuZ2V0U3VydmV5MTIzSG9zdFVybCgpID09PSAnaHR0cHM6Ly9zdXJ2ZXkxMjNkZXYuYXJjZ2lzLmNvbScgJiYgKCFvcHRpb25zLnBvcnRhbFVybCB8fCBvcHRpb25zLnBvcnRhbFVybCA9PT0gJ2h0dHBzOi8vd3d3LmFyY2dpcy5jb20nKSkge1xyXG4gICAgICB1cmwgKz0gYCZwb3J0YWxVcmw9JHtvcHRpb25zLnBvcnRhbFVybH1gXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHVybFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKiBAcGFyYW0gc3VydmV5SXRlbUlkXHJcbiAgICogQHBhcmFtIG9wdGlvbnNcclxuICAgKi9cclxuICBwdWJsaWMgZ2V0U3VydmV5MTIzV2ViZm9ybVVybCAoc3VydmV5SXRlbUlkOiBzdHJpbmcsIG9wdGlvbnM/OiB7XHJcbiAgICBxdWVyeVBhcmFtcz86IHN0cmluZ1tdXHJcbiAgfSk6IHN0cmluZyB7XHJcbiAgICAvLyBvcHRpb25zXHJcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XHJcbiAgICAgIHF1ZXJ5UGFyYW1zOiBbXVxyXG4gICAgfSwgb3B0aW9ucyB8fCB7fSlcclxuXHJcbiAgICBjb25zdCBpc0RlYnVnOiBib29sZWFuID0gZmFsc2VcclxuXHJcbiAgICBsZXQgdXJsID0gYCR7dGhpcy5nZXRTdXJ2ZXkxMjNIb3N0VXJsKCl9L3NoYXJlLyR7c3VydmV5SXRlbUlkfWBcclxuXHJcbiAgICAvKipcclxuICAgICAqIGRlYnVnZyBvbmx5XHJcbiAgICAgKi9cclxuICAgIGlmIChpc0RlYnVnKSB7XHJcbiAgICAgIHVybCA9IGBodHRwczovL25hbnpoYW5nLmFyY2dpcy5jb206ODQ0My93ZWJjbGllbnQvP2FwcGlkPSR7c3VydmV5SXRlbUlkfWBcclxuICAgIH1cclxuXHJcbiAgICBpZiAob3B0aW9ucy5xdWVyeVBhcmFtcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHVybCArPSBgJHsoaXNEZWJ1ZykgPyAnJicgOiAnPyd9JHtvcHRpb25zLnF1ZXJ5UGFyYW1zLmpvaW4oJyYnKX1gXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHVybFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZmxhdCBxdWVzdGlvbnMsIG1vdmUgdGhlIHF1ZXN0aW9ucyBvdXQgaWYgdGhleSBhcmUgaW4gdGhlIGdyb3VwLlxyXG4gICAqIGlnbm9yZSByZXBlYXQgcXVlc3Rpb25zIHVudGlsIHdlIHBsYW4gdG8gc3VwcG9ydCBpdC5cclxuICAgKi9cclxuICBwdWJsaWMgZmxhdFF1ZXN0aW9ucyAocXVlc3Rpb25zKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gW11cclxuICAgIHF1ZXN0aW9ucy5mb3JFYWNoKChxdWVzKSA9PiB7XHJcbiAgICAgIC8vIHNpbmdsZSBxdWVzdGlvblxyXG4gICAgICBpZiAoIXF1ZXMucXVlc3Rpb25zKSB7XHJcbiAgICAgICAgcmVzdWx0LnB1c2gocXVlcylcclxuICAgICAgfSBlbHNlIGlmIChxdWVzLnR5cGUgIT09ICdlc3JpUXVlc3Rpb25UeXBlUmVwZWF0Jykge1xyXG4gICAgICAgIGlmIChxdWVzLnR5cGUgPT09ICdlc3JpUXVlc3Rpb25UeXBlQWRkcmVzcycpIHtcclxuICAgICAgICAgIHJlc3VsdC5wdXNoKHF1ZXMpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQodGhpcy5mbGF0UXVlc3Rpb25zKHF1ZXMucXVlc3Rpb25zKSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiByZXN1bHRcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERlcHJlY2F0ZWRcclxuICAgKiBnZXQgc3VydmV5IHF1ZXN0aW9uIGZpZWxkc1xyXG4gICAqIEBwYXJhbSBzdXJ2ZXlJdGVtSWRcclxuICAgKiBAcGFyYW0gY29tbW9uUGFyYW1zXHJcbiAgICovXHJcbiAgcHVibGljIGdldFN1cnZleVF1ZXN0aW9uRmllbGRzIChzdXJ2ZXlJdGVtSWQ6IHN0cmluZywgY29tbW9uUGFyYW1zOiBTdXJ2ZXkxMjNDb21tb25QYXJhbXMpOiBQcm9taXNlPEFycmF5PHtcclxuICAgIG5hbWU/OiBzdHJpbmdcclxuICAgIGxhYmVsPzogc3RyaW5nXHJcbiAgfT4+IHtcclxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGlmICghc3VydmV5SXRlbUlkIHx8ICFjb21tb25QYXJhbXMgfHwgIWNvbW1vblBhcmFtcy50b2tlbikge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtaXNzaW5nIHN1cnZleUl0ZW1JZCBvciB0b2tlbicpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgbGV0IHVybCA9IGAke3RoaXMuZ2V0U3VydmV5MTIzSG9zdFVybCgpfS9hcGkvc3VydmV5LyR7c3VydmV5SXRlbUlkfS9mb3JtYFxyXG4gICAgICAgIGNvbnN0IHBhcmFtczogYW55ID0ge1xyXG4gICAgICAgICAgdG9rZW46IGNvbW1vblBhcmFtcy50b2tlbixcclxuICAgICAgICAgIHBvcnRhbFVybDogY29tbW9uUGFyYW1zLnBvcnRhbFVybFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdXJsID0gYCR7dXJsfT8ke09iamVjdC5rZXlzKHBhcmFtcykubWFwKChrKSA9PiBrICsgJz0nICsgcGFyYW1zW2tdKS5qb2luKCcmJyl9YFxyXG5cclxuICAgICAgICByZXR1cm4gZmV0Y2godXJsLCB7XHJcbiAgICAgICAgICBtb2RlOiAnY29ycycsXHJcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgIC50aGVuKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyByZXNcclxuICAgICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBmb3IgbXVsdGlsaW5ndWFsIHN1cnZleSwgdGhlIGxhYmVsIGlzIGFuIG9iamVjdCBsaWtlOlxyXG4gICAqIHtcclxuICAgKiAgICBlbjogJ0VuZ2xpc2ggbGFiZWwnLFxyXG4gICAqICAgICd6aC1jbic6ICdDaGluZXNlIGxhYmVsJ1xyXG4gICAqIH1cclxuICAgKiBAcGFyYW0gcXVlc3Rpb25cclxuICAgKiBAcmV0dXJuc1xyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRRdWVzTGFiZWxTdHJpbmcgKHF1ZXN0aW9uOiBhbnksIG9wdGlvbnM/OiB7XHJcbiAgICBsb2NhbGVzPzogYW55W11cclxuICAgIGN1cnJlbnRMb2NhbGU/OiBzdHJpbmdcclxuICB9KTogc3RyaW5nIHtcclxuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcclxuICAgICAgbG9jYWxlczogW10sXHJcbiAgICAgIGN1cnJlbnRMb2NhbGU6ICdlbidcclxuICAgIH0sIG9wdGlvbnMgfHwge30pXHJcblxyXG4gICAgaWYgKCFxdWVzdGlvbiB8fCAhcXVlc3Rpb24ubGFiZWwpIHtcclxuICAgICAgcmV0dXJuICcnXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGxhYmVsID0gcXVlc3Rpb24ubGFiZWxcclxuICAgIGlmICh0eXBlb2YgbGFiZWwgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBnZXQgZGVmYXVsdCBsb2NhbGVcclxuICAgICAgICovXHJcbiAgICAgIGxldCBkZWZhdWx0TG9jYWxlOiBhbnkgPSBPYmplY3Qua2V5cyhvcHRpb25zLmxvY2FsZXMgfHwgW10pLmZpbmQoKGxvY2FsQ29uZmlnOiBhbnkpID0+IHtcclxuICAgICAgICByZXR1cm4gKGxvY2FsQ29uZmlnLmlzRGVmYXVsdCArICcnKSA9PT0gJ3RydWUnXHJcbiAgICAgIH0pXHJcbiAgICAgIGlmIChkZWZhdWx0TG9jYWxlKSB7XHJcbiAgICAgICAgZGVmYXVsdExvY2FsZSA9IGRlZmF1bHRMb2NhbGUuY29kZSB8fCAnZW4nXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBnZXQgdGhlIG1hdGNoZWQgbG9jYWxlXHJcbiAgICAgICAqL1xyXG4gICAgICBjb25zdCBsb2NhbGVzQ29kZXMgPSBvcHRpb25zLmxvY2FsZXM/Lm1hcCgobG9jYWxlKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIChsb2NhbGUuY29kZSArICcnKS50cmltKClcclxuICAgICAgfSlcclxuICAgICAgY29uc3QgbWF0Y2hlZExvY2FsZSA9IHRoaXMuX2ZpbmRNYXRjaGVkTG9jYWxlKG9wdGlvbnMuY3VycmVudExvY2FsZSwgbG9jYWxlc0NvZGVzKSB8fCBkZWZhdWx0TG9jYWxlXHJcbiAgICAgIGlmIChtYXRjaGVkTG9jYWxlICYmIG1hdGNoZWRMb2NhbGUgaW4gcXVlc3Rpb24ubGFiZWwpIHtcclxuICAgICAgICBsYWJlbCA9IHF1ZXN0aW9uLmxhYmVsW21hdGNoZWRMb2NhbGVdXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgZmlyc3RMb2NhbGUgPSBPYmplY3Qua2V5cyhxdWVzdGlvbi5sYWJlbClbMF1cclxuICAgICAgICBsYWJlbCA9IGZpcnN0TG9jYWxlID8gcXVlc3Rpb24ubGFiZWxbZmlyc3RMb2NhbGVdIDogJydcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxhYmVsXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBwYXJzZSBhIHVybCBwYXJhbWV0ZXIgdG8ganNvbiwgaWYgdGhlIHBhcmFtZXRlciBzdHJpbmcgaXMgc2ltcGxlLCBrZWVwIGl0IGFzIHN0cmluZ1xyXG4gICAqIEBwYXJhbSBzdHIgIGVnOiAwLnEyOnBpZTsxLnEzOntcInR5cGVcIjpcIm1hcFwiLFwiYmFzZW1hcEl0ZW1JZFwiOlwie2l0ZW1JZH1cIn07Mi5xMTE6e1widHlwZVwiOlwid29yZENsb3VkXCIsXCJzaG93XCI6XCJyZXNwb25zZVwifVxyXG4gICAqIEBwYXJhbSB1cmxLZXlcclxuICAgKi9cclxuICBwcml2YXRlIF91cmxQYXJhbVRvSnNvbiAoc3RyOiBzdHJpbmcpOiBhbnkge1xyXG4gICAgaWYgKCFzdHIpIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICAgIHN0ciA9IHN0ciArICcnXHJcbiAgICBjb25zdCBzdWJPYmpzID0gc3RyLnNwbGl0KCc7JylcclxuICAgIGlmIChzdWJPYmpzLmxlbmd0aCA8IDIgJiYgc3RyLnNwbGl0KCc6JykubGVuZ3RoIDwgMikge1xyXG4gICAgICAvLyB0aGlzIHVybCBwYXJhbWV0ZXIgaGFzIG5vIHN1YiBwYXJhbWV0ZXJzXHJcbiAgICAgIGlmIChzdHIuc3BsaXQoJywnKS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgLy8gY29uc2lkZXIgaXQgYXMgYW4gYXJyYXlcclxuICAgICAgICByZXR1cm4gc3RyLnNwbGl0KCcsJylcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gc3RyXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IG9iaiA9IHt9XHJcbiAgICAgIHN1Yk9ianMuZm9yRWFjaCgoc3ViU3RyKSA9PiB7XHJcbiAgICAgICAgY29uc3Qga2V5VmFscyA9IChzdWJTdHIgKyAnJykuc3BsaXQoJzonKVxyXG4gICAgICAgIGlmIChrZXlWYWxzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgIGNvbnN0IGtleSA9IGtleVZhbHNbMF1cclxuICAgICAgICAgIGxldCB2YWwgPSAoQXJyYXkuaXNBcnJheShrZXlWYWxzLnNsaWNlKDEpKSA/IGtleVZhbHMuc2xpY2UoMSkgOiBbXSkuam9pbignOicpIGFzIGFueVxyXG4gICAgICAgICAgaWYgKHZhbC5sZW5ndGggJiYgdmFsWzBdID09PSAneycpIHtcclxuICAgICAgICAgICAgLy8gdHJ5IHRvIHBhcnNlIGl0IHRvIGEganNvblxyXG4gICAgICAgICAgICB2YWwgPSB0aGlzLl9zdHJpbmdUb0pzb24odmFsKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWwuc3BsaXQoJywnKS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgLy8gY29uc2lkZXIgaXQgYXMgYW4gYXJyYXlcclxuICAgICAgICAgICAgICB2YWwgPSB2YWwuc3BsaXQoJywnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBvYmpba2V5XSA9IHZhbFxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgcmV0dXJuIG9ialxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZmluZCB0aGUgbWF0Y2hlZCBsb2NhbGUgZnJvbSBsb2NhbGVzIGFycmF5IGJ5IHRoZSBnaXZlbiBsb2NhbGVDb2RlXHJcbiAgICogQHBhcmFtIGxvY2FsQ29kZVxyXG4gICAqIEBwYXJhbSBsb2NhbHNcclxuICAgKi9cclxuICBwcml2YXRlIF9maW5kTWF0Y2hlZExvY2FsZSAobG9jYWxlQ29kZSwgbG9jYWxlcykge1xyXG4gICAgaWYgKCFsb2NhbGVzIHx8ICFsb2NhbGVzLmxlbmd0aCB8fCAhbG9jYWxlQ29kZSkge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZmluZCB0aGUgY29kZSB3aGljaCBlcXVhbHMgdG8gbG9jYWxlQ29kZVxyXG4gICAgICovXHJcbiAgICBpZiAobG9jYWxlcy5pbmRleE9mKGxvY2FsZUNvZGUpID49IDApIHtcclxuICAgICAgcmV0dXJuIGxvY2FsZUNvZGVcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGZpbmQgdGhlIGNvZGUgdGhhdCBtYXRjaHMgcGFydGlhbGx5XHJcbiAgICAgKiBpZTogaWYgbG9jYWxlQ29kZSBpcyB6aC10dywgd2lsbCBtYXRjaCAnemgnIGlmIHRoZSAnemgnIGlzIGluIGxvY2FsZXMgYXJyYXlcclxuICAgICAqIGlmIGxvY2FsZUNvZGUgaXMgemgsIHdpbGwgbWF0Y2ggJ3poLXR3JyBpZiB0aGUgJ3poLXR3JyBpcyBpbiBsb2NhbGVzIGFycmF5XHJcbiAgICAgKiBpZiBsb2NhbGVDb2RlIGlzIHpoLXR3LCB3aWxsIG1hdGNoICd6aC1jbicgaWYgdGhlICd6aC1jaCcgaXMgaW4gbG9jYWxlcyBhcnJheSBhbmQgJ3poLXR3JyBpcyBub3QgaW4gdGhlIGxvY2FsZXMgYXJyYXlcclxuICAgICAqL1xyXG4gICAgY29uc3QgbWFpbkxvY2FsZSA9IGxvY2FsZUNvZGUuc3BsaXQoJy0nKVswXVxyXG4gICAgaWYgKGxvY2FsZXMuaW5kZXhPZihtYWluTG9jYWxlKSA+PSAwKSB7XHJcbiAgICAgIHJldHVybiBtYWluTG9jYWxlXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbG9jYWxlcy5maW5kKChjb2RlKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGNvZGUuc3RhcnRzV2l0aChgJHttYWluTG9jYWxlfS1gKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfc3RyaW5nVG9Kc29uIChzdHI6IHN0cmluZyk6IGFueSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gc3RyXHJcbiAgICB0cnkge1xyXG4gICAgICByZXN1bHQgPSBKU09OLnBhcnNlKHN0cilcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVzdWx0ID0gc3RyXHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc3VydmV5MTIzU2VydmljZSA9IG5ldyBTdXJ2ZXkxMjNTZXJ2aWNlKClcclxuIiwiaW1wb3J0IHsgdHlwZSBJTVRoZW1lVmFyaWFibGVzLCBjc3MsIHR5cGUgU2VyaWFsaXplZFN0eWxlcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHlsZSAodGhlbWU/OiBJTVRoZW1lVmFyaWFibGVzKTogU2VyaWFsaXplZFN0eWxlcyB7XHJcbiAgY29uc3QgaW5wdXRWYXJzID0gdGhlbWU/LmNvbXBvbmVudHM/LmlucHV0XHJcbiAgcmV0dXJuIGNzc2BcclxuICAgICYuc3VydmV5MTIze1xyXG4gICAgICBpbnB1dDotd2Via2l0LWF1dG9maWxsIHtcclxuICAgICAgICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMCAwcHggMTAwMHB4ICR7aW5wdXRWYXJzLmJnfSBpbnNldDtcclxuICAgICAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogJHtpbnB1dFZhcnMuY29sb3J9O1xyXG4gICAgICB9XHJcbiAgICAgIC5zdXJ2ZXkxMjNfX3NlY3Rpb24ge1xyXG4gICAgICAgIC5jaG9vc2Utc3VydmV5LWxhYmVsIHtcclxuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlucHV0ICsgc3BhbiB7XHJcbiAgICAgICAgICAvLyBtYXJnaW4tbGVmdDo1cHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5qaW11LXdpZGdldC1zZXR0aW5nLS1zZWN0aW9uLWhlYWRlci5yb3cgPmg2IHtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMC44NzVyZW07XHJcbiAgICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzYwMF19O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnN1cnZleS1saXN0LW1zZyB7XHJcbiAgICAgICAgICBwYWRkaW5nOiAwIDVweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLnN1cnZleS1saXN0LWxvYWRpbmctb3V0dGVyIHtcclxuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgIHRvcDogLTE4cHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5zdXJ2ZXkxMjNfX3NlY3Rpb24tY3JlYXRlU3VydmV5IHtcclxuICAgICAgICAgID4uY29udGFpbmVyID4udy0xMDAuc2V0dGluZy1oZWFkZXIge1xyXG4gICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMXJlbSFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgID5kaXY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDAuNXJlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA+LmppbXUtaW5wdXQgc3Bhbi5pbnB1dC13cmFwcGVyIHtcclxuICAgICAgICAgICAgICBoZWlnaHQ6IDEuNjI1cmVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5zdW1tYXJ5e1xyXG4gICAgICAgICAgICAgIGhlaWdodDogYXV0bztcclxuICAgICAgICAgICAgICB0ZXh0YXJlYSB7XHJcbiAgICAgICAgICAgICAgICByZXNpemU6IG5vbmU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuc3VydmV5MTIzX19zZWN0aW9uLWNyZWF0ZVN1cnZleSwgLnNlbGVjdC1zdXJ2ZXktc2VjdGlvbiB7XHJcbiAgICAgICAgICAuZXJyb3ItbWVzc2FnZSB7XHJcbiAgICAgICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5kYW5nZXJ9O1xyXG4gICAgICAgICAgICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLm5vLXN1cnZleS1tZXNzYWdlIHtcclxuICAgICAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s0MDBdfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5uZXdTdXJ2ZXktbXNnIHtcclxuICAgICAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLmRhbmdlcn07XHJcbiAgICAgICAgICAgIG1hcmdpblRvcDogJzEwcHgnO1xyXG4gICAgICAgICAgICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAuc2VsZWN0LXN1cnZleS1zZWN0aW9uIHtcclxuICAgICAgICAgIGhyLnNwbGl0LWxpbmUge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAuY3JlYXRlLXN1cnZleS1jb250YWluZXIge1xyXG4gICAgICAgICAgLmppbXUtd2lkZ2V0LXNldHRpbmctLXJvdy5pdGVtcyB7XHJcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDEuMnJlbTtcclxuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICAgIGg2IHtcclxuICAgICAgICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzUwMF19O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRpdi53LTEwMCB7XHJcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAwLjgxMjVyZW07XHJcbiAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuMTg3NXJlbTtcclxuICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAwLjMxMjVyZW07XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuamltdS13aWRnZXQtc2V0dGluZy0tcm93ID5sYWJlbCB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NzVyZW07XHJcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiAgICAgICAgICAgICtwLnctMTAwIHtcclxuICAgICAgICAgICAgICBmb250LXNpemU6IDAuODEyNXJlbTtcclxuICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMS4xODc1cmVtO1xyXG4gICAgICAgICAgICAgIG1hcmdpbi10b3A6IDAuMzEyNXJlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmFwcGVhcmFuY2UsIC5zZWN0aW9uLXRpdGxlIHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICAgICAgICB3aWR0aDoxMDAlO1xyXG4gICAgICAgICAgaDYge1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnNlbGVjdHtcclxuICAgICAgICAgIHNlbGVjdCB7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLm1hcHBpbmctY29udGFpbmVyIHtcclxuICAgICAgICAgIHBhZGRpbmc6IDAuNjE1ZW07XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAke3RoZW1lLmNvbG9ycy5zZWNvbmRhcnl9O1xyXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgICAgICAgbWFyZ2luOiAwLjZlbSAwO1xyXG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgPnNlbGVjdCB7XHJcbiAgICAgICAgICAgIGhlaWdodDogMjZweDtcclxuICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxZW07XHJcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyNnB4O1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAwIDIycHggMCA2cHg7XHJcbiAgICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuYnRuLWdyb3VwIHtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgICAgIC5pY29uLXJlbW92ZS1tYXBwaW5nIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nOiAwIDAuMjVlbTtcclxuICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogMDtcclxuICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDA7XHJcbiAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICAgIC5yZW1vdmUtbWFwcGluZyB7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDA7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogMDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnV0dG9uIHtcclxuICAgICAgICAgICAgICBtYXJnaW46IDhweCAwIDhweCA4cHg7XHJcbiAgICAgICAgICAgICAgaGVpZ2h0OiAyNnB4O1xyXG4gICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyNnB4O1xyXG4gICAgICAgICAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgICAgICAgICAgcGFkZGluZzogMHB4IDE0cHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgID4ubGluay1pbmZvIHtcclxuICAgICAgICAgICAgPiBwIHtcclxuICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyZW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPiBkaXYuY2VudGVyLWxpbmUge1xyXG4gICAgICAgICAgICAgIHdpZHRoOiA5NiU7XHJcbiAgICAgICAgICAgICAgaGVpZ2h0OiAxcHg7XHJcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5zZWNvbmRhcnlbODAwXX07XHJcbiAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgICAgIG1hcmdpbjogMC41ZW0gMiUgMC41ZW0gMiU7XHJcbiAgICAgICAgICAgICAgPi5jb25uZWN0IHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAyNnB4O1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAyMHB4O1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJHt0aGVtZS5jb2xvcnMuc2Vjb25kYXJ5fTtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgICAgIHRvcDogLTEwcHg7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgID4gZGl2LmRlbGV0ZS1jb25uZWN0IHtcclxuICAgICAgICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgICByaWdodDogMDtcclxuICAgICAgICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuc2Vjb25kYXJ5WzQwMF19O1xyXG4gICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgICAgICB3aWR0aDogMjRweDtcclxuICAgICAgICAgICAgICBoZWlnaHQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJjpob3ZlciA+IGRpdi5kZWxldGUtY29ubmVjdCB7XHJcbiAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuc2V0dGluZy1yb3cge1xyXG4gICAgICAgICAgbWFyZ2luOiAwLjVyZW0gMCAwIDA7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1mbG93OiByb3cgd3JhcDtcclxuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuc2VjdGlvbi10aXRsZSBoNXtcclxuICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuc2VjdGlvbi10aXRsZSBoNntcclxuICAgICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuZmVhLWxheWVyLW91dHRlciB7XHJcbiAgICAgICAgICBmbGV4LXdyYXA6d3JhcDtcclxuICAgICAgICAgID5kaXYge1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC51c2UtZmVhdHVyZS1sYXllci1zZXR0aW5nIHtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgbWFyZ2luLXRvcDogMC45MmVtO1xyXG4gICAgICAgIH1cclxuICAgICAgICAuZmVhdHVyZS1sYXllci1kcm9wZG93biB7XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgIG1hcmdpbjogMC41cmVtIDAgMCAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICAmLXJlc2V0U3VydmV5IHtcclxuICAgICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xyXG4gICAgICAgICAgLy8gdG9wOiAtOHB4O1xyXG4gICAgICAgICAgaGVpZ2h0OiAyNnB4O1xyXG4gICAgICAgICAgZmxvYXQ6cmlnaHQ7XHJcbiAgICAgICAgICBsaW5lLWhlaWdodDogOHB4O1xyXG5cclxuICAgICAgICAgIHN2ZyB7XHJcbiAgICAgICAgICAgIG1hcmdpbjowcHggIWltcG9ydGFudDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5jdXJzb3ItcG9pbnRlcntcclxuICAgICAgICAgICY6aG92ZXJ7XHJcbiAgICAgICAgICAgIGN1cnNvcjpwb2ludGVyO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAuc2VsZWN0LXN1cnZleS1sYWJlbCB7XHJcbiAgICAgICAgICBwYWRkaW5nOiAwIDhweDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYtc3VydmV5TWVudSB7fVxyXG5cclxuICAgICAgICAmLXNlbGVjdEV4aXN0aW5nU3VydmV5IHt9XHJcblxyXG4gICAgICAgICYtY3JlYXRlU3VydmV5IHtcclxuICAgICAgICAgIG92ZXJmbG93LXk6IGhpZGRlbjtcclxuXHJcbiAgICAgICAgICBzcGFuLmlzUmVxdWlyZWR7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xyXG4gICAgICAgICAgICAvKiBsZWZ0Oi0xODBweDsgKi9cclxuICAgICAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLmRhbmdlcn07XHJcbiAgICAgICAgICAgIHRvcDogNHB4O1xyXG4gICAgICAgICAgICBsZWZ0OiA0cHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmLXN1cnZleVNldHRpbmdzIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgYFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9kYWxTdHlsZSAodGhlbWU/OiBJTVRoZW1lVmFyaWFibGVzKTogU2VyaWFsaXplZFN0eWxlcyB7XHJcbiAgcmV0dXJuIGNzc2BcclxuICAgICYuc3VydmV5MTIzX19kZXNpbmdlcl9tb2RhbCB7XHJcbiAgICAgIHotaW5kZXg6IDEwMDAwMDtcclxuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgbWF4LXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgICAgIC5tb2RhbC1jb250ZW50e1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAuc3VydmV5MTIzX19kZXNpbmdlciB7XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgIGhlaWdodDogODBweDtcclxuICAgICAgICAgIHBhZGRpbmc6IDIzcHggNjBweCAyM3B4IDMwcHg7XHJcbiAgICAgICAgICBjb2xvcjogJHt0aGVtZS5oZWFkZXIuY29sb3J9O1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5oZWFkZXIuYmd9O1xyXG5cclxuICAgICAgICAgID5wIHtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICAgICAgICAgICBsaW5lLWhlaWdodDogMzNweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgID5idXR0b24ge1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgIHRvcDogMjhweDtcclxuICAgICAgICAgICAgcmlnaHQ6IDMwcHg7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuaGVhZGVyLmJnfTtcclxuICAgICAgICAgICAgY29sb3I6ICR7dGhlbWUuaGVhZGVyLmNvbG9yfTtcclxuICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgID5pZnJhbWUge1xyXG4gICAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSA5MHB4KTtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICBgXHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQge1xyXG4gIGVyckxvYWRTMTIzSlNBUEk6ICdGYWlsZWQgdG8gbG9hZCBTdXJ2ZXkxMjMgSmF2YVNjcmlwdCBBUEkgZnJvbSB7UzEyM0pTQVBJVVJMfS4gUGxlYXNlIGNoZWNrIGlmIHRoaXMgVVJMIGlzIGF2YWlsYWJsZSB0byB5b3UuJyxcclxuICBjaG9vc2VTdXJ2ZXk6ICdTZWxlY3Qgd2hpY2ggc3VydmV5IHRvIHJ1biBpbiB0aGUgd2lkZ2V0OicsXHJcbiAgY3JlYXRlTmV3U3VydmV5TGFiZWw6ICdDcmVhdGUgbmV3IHN1cnZleScsXHJcbiAgY2hvb3NlU3VydmV5TGFiZWwxOiAnU2VsZWN0IG15IG93biBzdXJ2ZXknLFxyXG4gIGNob29zZVN1cnZleUxhYmVsMjogJ1NlbGVjdCBvdGhlcnNcXCcgc3VydmV5JyxcclxuICBkcmFmdFN1cnZleVBvc3RmaXg6ICcgKGRyYWZ0KScsXHJcbiAgcHJldmlld0RyYWZ0U3VydmV5TXNnOiAnVGhpcyBzdXJ2ZXkgaXMgbm90IHB1Ymxpc2hlZCB5ZXQuIEVkaXQgYW5kIHB1Ymxpc2ggdGhlIHN1cnZleSB0byBwcmV2aWV3IHRoZSBjb250ZW50IGhlcmUuJyxcclxuICBzZWxlY3RTdXJ2ZXlUaXA6ICdQbGVhc2Ugc2VsZWN0JyxcclxuICBub0V4aXN0aW5nU3VydmV5OiAnVGhlcmUgaXMgbm8gYXZhaWxhYmxlIHN1cnZleSB0byB0aGlzIGFjY291bnQuJyxcclxuICBzdXJ2ZXlTZWFyY2hIaW50OiAnU2VhcmNoJyxcclxuICBzdXJ2ZXlEZXRhaWxMYWJlbDogJ1N1cnZleSBEZXRhaWxzOicsXHJcbiAgY3VycmVudFN1cnZleUxhYmVsOiAnQ3VycmVudCBzdXJ2ZXknLFxyXG4gIHJlc2V0U3VydmV5TGFiZWw6ICdSZXNldCBzdXJ2ZXknLFxyXG4gIHN1bW1hcnlMYWJlbDogJ1N1bW1hcnknLFxyXG4gIGluc2VydExhYmVsOiAnSW5zZXJ0JyxcclxuICBzdXJ2ZXlUaXRsZUxhYmVsOiAnTmFtZScsXHJcbiAgc3VydmV5VGl0bGVSZXF1aXJlZE1zZzogJ1RoZSBuYW1lIG9mIHRoZSBzdXJ2ZXkgaXMgcmVxdWlyZWQuJyxcclxuICBzdXJ2ZXlUaXRsZUR1cGxpY2F0ZU1zZzogJ0Egc3VydmV5IHdpdGggdGhpcyBuYW1lIGFscmVhZHkgZXhpc3RzLCBwbGVhc2UgdXNlIGEgZGlmZmVyZW50IG5hbWUuJyxcclxuICBzdXJ2ZXlUYWdMYWJlbDogJ1RhZ3MnLFxyXG4gIHN1cnZleVRhZ0hpbnQ6ICdTZXBhcmF0ZSB0YWdzIHdpdGggY29tbWFzJyxcclxuICBzdXJ2ZXlUYWdzUmVxdWlyZWRNc2c6ICdPbmUgb3IgbW9yZSB0YWdzIGFyZSByZXF1aXJlZC4nLFxyXG4gIHN1cnZleVN1bW1hcnlMYWJlbDogJ1N1bW1hcnknLFxyXG4gIGNyZWF0ZVN1cnZleUJ0bjogJ0NyZWF0ZScsXHJcbiAgY3JlYXRlU3VydmV5RXJyRHVwbGljYXRlVGl0bGU6ICdBIHN1cnZleSB3aXRoIHRoaXMgbmFtZSBhbHJlYWR5IGV4aXN0cywgcGxlYXNlIGNob29zZSBhIGRpZmZlcmVudCBuYW1lLicsXHJcbiAgY3JlYXRlU3VydmV5RGlzYWJsZWQxOiAnWW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gcGVyZm9ybSB0aGlzIGFjdGlvbi4gUmVxdWlyZWQgcHJpdmlsZWdlczogcHVibGlzaCBob3N0ZWQgZmVhdHVyZSBsYXllcnMnLFxyXG4gIGVkaXRTdXJ2ZXlCdG46ICdFZGl0IHN1cnZleScsXHJcbiAgZWRpdFN1cnZleUJ0bkRpc2FibGVkVGlwMTogJ1lvdSBkbyBub3QgaGF2ZSBlbm91Z2ggcHJpdmlsZWdlcyBmb3IgdGhpcyBvcGVyYXRpb24uIFJlcXVpcmVkIHByaXZpbGVnZXM6IFwiYWRtaW5cIiBvciBcInVwZGF0ZVwiIGNvbnRyb2wgdG8gYm90aCBmb3JtIGFuZCBzb3VyY2UgZmVhdHVyZSBsYXllciBpdGVtcy4nLFxyXG4gIGFwcGVhcmFuY2VUaXRsZTogJ0FwcGVhcmFuY2UnLFxyXG4gIHNob3dPcHRpb25zQmFyTGFiZWw6ICdTaG93IG9wdGlvbnMgYmFyJyxcclxuICBzaG93T3B0aW9uc0hlYWRlckxhYmVsOiAnU2hvdyBzdXJ2ZXkgaGVhZGVyJyxcclxuICBzaG93T3B0aW9uc0Rlc0xhYmVsOiAnU2hvdyBzdXJ2ZXkgZGVzY3JpcHRpb24nLFxyXG4gIHNob3dPcHRpb25zRm9vdGVyTGFiZWw6ICdTaG93IHN1cnZleSBmb290ZXInLFxyXG4gIHVzZVN1cnZleVRoZW1lOiAnRW5hYmxlIHN1cnZleSB0aGVtZScsXHJcbiAgcmVzZXRTdXJ2ZXlUaXA6ICdSZXNldCBzdXJ2ZXkgd2lsbCByZW1vdmUgYWxsIHNldHRpbmdzIHRvIHRoaXMgc3VydmV5IHdpZGdldC4nLFxyXG4gIGNvbmZpcm1SZXNldFN1cnZleVRpcDogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjb250aW51ZT8nLFxyXG4gIHN1cnZleU1vZGVUaXRsZTogJ01vZGUnLFxyXG4gIHN1cnZleU1vZGVOZXc6ICdTdWJtaXQgYSBuZXcgcmVjb3JkJyxcclxuICBzdXJ2ZXlNb2RlRWRpdDogJ0VkaXQgYW4gZXhpc3RpbmcgcmVjb3JkJyxcclxuICBzdXJ2ZXlNb2RlVmlldzogJ1ZpZXcgYW4gZXhpc3RpbmcgcmVjb3JkJyxcclxuICBjaG9vc2VFeGlzdERhdGFUaXRsZTogJ0xvYWQgZGF0YSB0byB0aGlzIHN1cnZleScsXHJcbiAgY2hvb3NlRXhpc3REYXRhRWRpdERlc2M6ICdMb2FkIGV4aXN0aW5nIHN1cnZleSBkYXRhIGZyb20gdGhlIHNvdXJjZSBsYXllciB3aGVuIGEgZmVhdHVyZSBpcyBzZWxlY3RlZCBpbiByZWxhdGVkIHdpZGdldHMuIFN1Ym1pdCB0aGUgc3VydmV5IHVwZGF0ZXMgdGhlIHNlbGVjdGVkIGZlYXR1cmUuJyxcclxuICBjaG9vc2VFeGlzdERhdGFWaWV3RGVzYzogJ0xvYWQgZXhpc3Rpbmcgc3VydmV5IGRhdGEgZnJvbSB0aGUgc291cmNlIGxheWVyIHdoZW4gYSBmZWF0dXJlIGlzIHNlbGVjdGVkIGluIHJlbGF0ZWQgd2lkZ2V0cy4gVGhlIHN1cnZleSBpcyByZWFkLW9ubHkuJyxcclxuICBzZWxlY3RTdXJ2ZXlMYXllclRpcDogJ1BsZWFzZSBzZWxlY3QgYSBsYXllciB0aGF0IGNvbnRhaW5zIGF0IGxlYXN0IG9uZSBleGlzdGluZyBzdXJ2ZXkgcmVjb3JkLicsXHJcbiAgc2VuZERhdGFUb1N1cnZleVRpdGxlOiAnU2VuZCBkYXRhIHRvIHRoaXMgc3VydmV5JyxcclxuICBzZW5kRGF0YVRvU3VydmV5RGVzYzogJ0F0dHJpYnV0ZXMgYW5kIGdlb21ldHJ5IG9mIGEgZmVhdHVyZSBpbiB0aGUgc291cmNlIGxheWVyIGNhbiBiZSBzZW50IHRvIHN1cnZleSBxdWVzdGlvbnMgd2hlbiB0aGUgZmVhdHVyZSBpcyBzZWxlY3RlZCBpbiByZWxhdGVkIHdpZGdldHMuJyxcclxuICBzb3VyY2VMYXllcjogJ1NvdXJjZSBsYXllcicsXHJcbiAgYWRkQ29ublRpdGxlOiAnRmllbGQvcXVlc3Rpb24gY29ubmVjdGlvbnMnLFxyXG4gIGFkZENvbm5TZWxlY3RGaWVsZDogJ1NlbGVjdCBhIGZpZWxkJyxcclxuICBhZGRDb25uU2VsZWN0UXVlc3Rpb246ICdTZWxlY3QgYSBzdXJ2ZXkgcXVlc3Rpb24nLFxyXG4gIGFkZENvbm5GYWlsZWQxOiAnVGhlIHN1cnZleSBxdWVzdGlvbiB0eXBlIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIGZpZWxkIHR5cGUuJyxcclxuICBhZGRDb25uQnRuOiAnQWRkIGNvbm5lY3Rpb24nLFxyXG4gIGdlb21ldHJ5TGFiZWw6ICcqU2hhcGUnLFxyXG4gIGdlb21ldHJ5VHlwZVBvaW50OiAnUG9pbnQnLFxyXG4gIGdlb21ldHJ5VHlwZU11bHRpUG9pbnQ6ICdNdWx0aVBvaW50JyxcclxuICBnZW9tZXRyeVR5cGVQb2x5bGluZTogJ1BvbHlsaW5lJyxcclxuICBnZW9tZXRyeVR5cGVQb2x5Z29uOiAnUG9seWdvbicsXHJcbiAgZXJybXNnR2VuZXJhbExvYWRpbmc6ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nLicsXHJcbiAgZXJybXNnR2VuZXJhbENyZWF0aW5nTmV3U3Z5OiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY3JlYXRpbmcgdGhlIG5ldyBzdXJ2ZXkuIFBsZWFzZXkgdHJ5IGFnYWluIGxhdGVyLicsXHJcbiAgbXNnVW5zYXZlZEJlZm9yZUxlYXZpbmc6ICdDaGFuZ2VzIHlvdSBtYWRlIG1heSBub3QgYmUgc2F2ZWQuJ1xyXG59XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X2FyY2dpc19fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X2NvcmVfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9mb3JfYnVpbGRlcl9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X2Zvcl9idWlsZGVyX3NlcnZpY2VfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV91aV9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X3VpX2FkdmFuY2VkX2RhdGFfc291cmNlX3NlbGVjdG9yX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfdWlfYWR2YW5jZWRfc2V0dGluZ19jb21wb25lbnRzX187IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiLyoqXHJcbiAqIFdlYnBhY2sgd2lsbCByZXBsYWNlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHdpdGggX193ZWJwYWNrX3JlcXVpcmVfXy5wIHRvIHNldCB0aGUgcHVibGljIHBhdGggZHluYW1pY2FsbHkuXHJcbiAqIFRoZSByZWFzb24gd2h5IHdlIGNhbid0IHNldCB0aGUgcHVibGljUGF0aCBpbiB3ZWJwYWNrIGNvbmZpZyBpczogd2UgY2hhbmdlIHRoZSBwdWJsaWNQYXRoIHdoZW4gZG93bmxvYWQuXHJcbiAqICovXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG4vLyBAdHMtaWdub3JlXHJcbl9fd2VicGFja19wdWJsaWNfcGF0aF9fID0gd2luZG93LmppbXVDb25maWcuYmFzZVVybFxyXG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBtdWx0aWxpbmUtdGVybmFyeSAqL1xyXG4vKiogQGpzeCBqc3ggKi9cclxuaW1wb3J0IHtcclxuICBSZWFjdCwgSW1tdXRhYmxlLCBEYXRhU291cmNlTWFuYWdlciwganN4LCBTZXNzaW9uTWFuYWdlciwgY3NzLCBtb2R1bGVMb2FkZXIsIHBvcnRhbFVybFV0aWxzLFxyXG4gIEFsbERhdGFTb3VyY2VUeXBlcywgZ2V0QXBwU3RvcmUsIHR5cGUgQ2xhdXNlVmFsdWVQYWlyLCBzZW12ZXIsIHR5cGUgVXNlRGF0YVNvdXJjZVxyXG59IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBBbGxXaWRnZXRTZXR0aW5nUHJvcHMsIGJ1aWxkZXJBcHBTeW5jIH0gZnJvbSAnamltdS1mb3ItYnVpbGRlcidcclxuaW1wb3J0IHsgYXBwU2VydmljZXMgfSBmcm9tICdqaW11LWZvci1idWlsZGVyL3NlcnZpY2UnXHJcbmltcG9ydCB7IFNldHRpbmdTZWN0aW9uLCBTZXR0aW5nUm93IH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHMnXHJcbmltcG9ydCB7IEFyY0dJU0RhdGFTb3VyY2VUeXBlcyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyBCdXR0b24sIFRleHRJbnB1dCwgVGV4dEFyZWEsIFNlbGVjdCwgUmFkaW8sIFN3aXRjaCwgTGFiZWwsIE1vZGFsLCBBbGVydFBvcHVwLCBUYWdJbnB1dCwgQWR2YW5jZWRTZWxlY3QgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBEYXRhU291cmNlU2VsZWN0b3IgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL2RhdGEtc291cmNlLXNlbGVjdG9yJ1xyXG5pbXBvcnQgeyB0eXBlIElNQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnJ1xyXG5pbXBvcnQgeyBzdXJ2ZXkxMjNTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZS9zdXJ2ZXkxMjMuc2VydmljZSdcclxuaW1wb3J0IGRlZmF1bHRNZXNzYWdlcyBmcm9tICcuL3RyYW5zbGF0aW9ucy9kZWZhdWx0J1xyXG5pbXBvcnQgeyBnZXRTdHlsZSwgZ2V0TW9kYWxTdHlsZSB9IGZyb20gJy4vY3NzL3N0eWxlJ1xyXG5pbXBvcnQgeyBDbG9zZU91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvY2xvc2UnXHJcbmltcG9ydCB7IExpbmtIb3Jpem9udGFsT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2FwcGxpY2F0aW9uL2xpbmstaG9yaXpvbnRhbCdcclxuaW1wb3J0IHsgVHJhc2hPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL3RyYXNoJ1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXR0aW5nIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxBbGxXaWRnZXRTZXR0aW5nUHJvcHM8SU1Db25maWc+LCBhbnk+IHtcclxuICAvKipcclxuICAgKiBzdGF0ZSB2YXJpYWJsZVxyXG4gICAqL1xyXG4gIHN1cHBvcnRlZE1hcFR5cGVzID0gSW1tdXRhYmxlKFtBcmNHSVNEYXRhU291cmNlVHlwZXMuV2ViTWFwXSlcclxuICBzdXBwb3J0ZWRMYXllclR5cGVzID0gSW1tdXRhYmxlKFtBbGxEYXRhU291cmNlVHlwZXMuRmVhdHVyZUxheWVyLCBBbGxEYXRhU291cmNlVHlwZXMuU2NlbmVMYXllcl0pXHJcbiAgZHNNYW5hZ2VyID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKVxyXG4gIHB1YmxpYyBzdGF0ZTogYW55ID0ge1xyXG4gICAgdXNlclRhZ3M6IFtdLFxyXG4gICAgY2FuQ3JlYXRlU3VydmV5OiB0cnVlLFxyXG4gICAgbG9hZEFwaUZhaWxlZDogZmFsc2UsXHJcbiAgICAvKipcclxuICAgICAqIHN1cnZleTEyM1xyXG4gICAgICovXHJcbiAgICBuZXdTdXJ2ZXlUaXRsZTogbnVsbCxcclxuICAgIG5ld1N1cnZleVRhZ3M6IFtdLFxyXG4gICAgbmV3U3VydmV5VGl0bGVEaXJ0eTogZmFsc2UsXHJcbiAgICBuZXdTdXJ2ZXlUYWdzRGlydHk6IGZhbHNlLFxyXG4gICAgbmV3U3VydmV5U25pcHBldDogbnVsbCxcclxuICAgIG5ld1N1cnZleUl0ZW1JZDogbnVsbCxcclxuICAgIG5ld1N1cnZleVRodW1ibmFpbFVybHM6IFtcclxuICAgICAgJ2h0dHBzOi8vc3VydmV5MTIzLmFyY2dpcy5jb20vYXNzZXRzL2ltZy9kZWZhdWx0LXRodW1ibmFpbHMvSW1hZ2UwMS5wbmcnLFxyXG4gICAgICAnaHR0cHM6Ly9zdXJ2ZXkxMjMuYXJjZ2lzLmNvbS9hc3NldHMvaW1nL2RlZmF1bHQtdGh1bWJuYWlscy9JbWFnZTAyLnBuZycsXHJcbiAgICAgICdodHRwczovL3N1cnZleTEyMy5hcmNnaXMuY29tL2Fzc2V0cy9pbWcvZGVmYXVsdC10aHVtYm5haWxzL0ltYWdlMDMucG5nJ1xyXG4gICAgXSxcclxuICAgIG5ld1N1cnZleU1zZzogbnVsbCxcclxuICAgIG5ld1N1cnZleUxvYWRpbmc6IGZhbHNlLFxyXG4gICAgZXhpc3RTdXJ2ZXlNc2c6IG51bGwsXHJcbiAgICBleGlzdFNoYXJlZFN1cnZleU1zZzogbnVsbCxcclxuICAgIGV4aXN0U3VydmV5czogW10sXHJcbiAgICBleGlzdFNoYXJlZFN1cnZleXM6IFtdLFxyXG4gICAgc2VsZWN0ZWRTdXJ2ZXk6IG51bGwsXHJcbiAgICBzZWxlY3RlZE15T3duU3VydmV5OiBudWxsLFxyXG4gICAgc2VsZWN0ZWRTaGFyZWRTdXJ2ZXk6IG51bGwsXHJcbiAgICBjdXJyZW50QWN0aXZlU3VydmV5OiBudWxsLFxyXG4gICAgbW9kYWxJc09wZW46IGZhbHNlLFxyXG4gICAgbW9kZTogJ25vbmUnLFxyXG4gICAgaXNDaGVja2VkU3VydmV5SXRlbUlkOiBmYWxzZSxcclxuICAgIGlzU2hvd1N1cnZleVF1ZXN0aW9uRmllbGQ6IGZhbHNlLFxyXG4gICAgc3VydmV5UXVlc3Rpb25GaWVsZHM6IFtdLFxyXG4gICAgc2VsZWN0ZWRRdWVzdGlvbkZpZWxkOiBudWxsLFxyXG4gICAgY3JlYXRlU3VydmV5RXJyb3JNc2c6IG51bGwsXHJcbiAgICBzdXJ2ZXlTdGF0dXNDb2RlOiAwLFxyXG4gICAgaXNTaG93Q2xvc2VEZXNpZ25lckFsZXJ0OiBmYWxzZSxcclxuICAgIHN1cnZleUNoYW5nZWQ6IGZhbHNlLFxyXG4gICAgLyoqXHJcbiAgICAgKiBkYXRhIHNvdXJjZVxyXG4gICAgICovXHJcbiAgICBkc01hcFZpZXc6IG51bGwsXHJcbiAgICBkc0ZlYXR1cmVMYXllcjogbnVsbCxcclxuICAgIGRzRmVhdHVyZUxheWVyRmllbGRzOiBbXSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZpZWxkLXF1ZXN0aW9uIG1hcHBpbmdcclxuICAgICAqL1xyXG4gICAgYWRkTWFwcGluZzogbnVsbCxcclxuICAgIGVkaXRNYXBwaW5nOiBudWxsLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogc2VsZWN0ZWQgbGF5ZXIgaW5mbyBmb3Igdmlldy9lZGl0IG1vZGVcclxuICAgICAqL1xyXG4gICAgbGF5ZXJWaWV3SW5mb0luTmV3TW9kZTogbnVsbCxcclxuICAgIGxheWVyVmlld0luZm9JbkVkaXRNb2RlOiBudWxsLFxyXG4gICAgbGF5ZXJWaWV3SW5mb0luVmlld01vZGU6IG51bGxcclxuICB9XHJcblxyXG4gIHB1YmxpYyBuZXdEZWZhdWx0VmFsdWU6IHtcclxuICAgIGtleTogc3RyaW5nXHJcbiAgICB2YWx1ZTogc3RyaW5nXHJcbiAgfSA9IHtcclxuICAgICAga2V5OiAnJyxcclxuICAgICAgdmFsdWU6ICcnXHJcbiAgICB9XHJcblxyXG4gIHB1YmxpYyBBUEk6IGFueSA9IHtcclxuICAgIHN1cnZleTEyMzogbnVsbCxcclxuICAgIFN1cnZleTEyM1dlYkZvcm06IG51bGxcclxuICB9XHJcblxyXG4gIHB1YmxpYyBpc1BvcnRhbDogYm9vbGVhbiA9IGZhbHNlXHJcbiAgcHVibGljIGlzT3JnQWRtaW46IGJvb2xlYW4gPSBmYWxzZVxyXG4gIHB1YmxpYyBpc1RhZ1JlcXVpcmVkOiBib29sZWFuID0gZmFsc2VcclxuXHJcbiAgLyoqXHJcbiAgICogY29uc3RydWN0b3JcclxuICAgKiBAcGFyYW0gcHJvcHNcclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciAocHJvcHM6IGFueSkge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBxdWVyeSBleGlzdGluZyBzdXJ2ZXlcclxuICAgICAqL1xyXG4gICAgc3VydmV5MTIzU2VydmljZS5zZXRRdWVyeU9iamVjdCh0aGlzLnByb3BzLnF1ZXJ5T2JqZWN0KVxyXG4gICAgdGhpcy5pc1BvcnRhbCA9ICEocG9ydGFsVXJsVXRpbHMuaXNBR09MRG9tYWluKHRoaXMucHJvcHMuY29uZmlnLnBvcnRhbFVybCB8fCB0aGlzLnByb3BzLnBvcnRhbFVybCkpXHJcbiAgICB0aGlzLmNoZWNrVGFnUmVxdWlyZWQoKVxyXG4gICAgY29uc3QgdXNlciA9IHRoaXMucHJvcHMudXNlclxyXG4gICAgdGhpcy5pc09yZ0FkbWluID0gISEoKHVzZXIgJiYgdXNlci5yb2xlID09PSAnb3JnX2FkbWluJykpXHJcbiAgICB0aGlzLnByZXBhcmUoKS50aGVuKCgpID0+IHtcclxuICAgICAgdGhpcy5zZXREZWZhdWx0VmFsKClcclxuICAgICAgdGhpcy5xdWVyeVN1cnZleSgpXHJcbiAgICAgIHRoaXMuYWRkRGVzaWdlckhhbmRsZXIoKVxyXG4gICAgfSlcclxuICAgICAgLmNhdGNoKChlKSA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5sb2FkQXBpRmFpbGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgIGV4aXN0U3VydmV5TXNnOiBgPHAgY2xhc3M9XCJlcnJvci1tZXNzYWdlXCI+JHtlLm1lc3NhZ2UgfHwgJyd9PC9wPmAsXHJcbiAgICAgICAgICAgICAgZXhpc3RTaGFyZWRTdXJ2ZXlNc2c6IGA8cCBjbGFzcz1cImVycm9yLW1lc3NhZ2VcIj4ke2UubWVzc2FnZSB8fCAnJ308L3A+YCxcclxuICAgICAgICAgICAgICBtb2RlOiAnc3VydmV5LWNyZWF0ZVN1cnZleScsXHJcbiAgICAgICAgICAgICAgbmV3U3VydmV5TXNnOiBlLm1lc3NhZ2UgfHwgJycsXHJcbiAgICAgICAgICAgICAgbG9hZEFwaUZhaWxlZDogdHJ1ZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIDApXHJcbiAgICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBmb3Igb2xkIGFwcCBjcmVhdGVkIGJlZm9yZSA5LjMsIHNldCB0aGUgZGVmYXVsdCBtb2RlIGFzICduZXcnXHJcbiAgICogc2V0IHN0YXRlIGZyb20gc2F2ZWQgY29uZmlnXHJcbiAgICovXHJcbiAgc2V0RGVmYXVsdFZhbCA9ICgpID0+IHtcclxuICAgIC8qKlxyXG4gICAgICogZG9ub3QgZXhlY3V0ZSBzZXRTdGF0ZSgpIGluIHRoZSBsb2FkaW5nIHByb2Nlc3NcclxuICAgICAqIGh0dHBzOi8vZGV2dG9waWEuZXNyaS5jb20vQmVpamluZy1SLUQtQ2VudGVyL0V4cGVyaWVuY2VCdWlsZGVyLVdlYi1FeHRlbnNpb25zL2lzc3Vlcy8xMTI1OVxyXG4gICAgICogdG9kbzogYnV0IHRoZXJlIGlzIHN0aWxsIGFuIGV4dHJhIGhpc3Rvcnkgc3RhdGUgY2hhZ25lIHdoZW4gbG9hZGluZyBhbiBleGlzdGluZyBzdXJ2ZXkgd2lkZ2V0XHJcbiAgICAgKi9cclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5jb25maWcuc3VydmV5SXRlbUlkICYmICF0aGlzLnByb3BzLmNvbmZpZy5tb2RlKSB7XHJcbiAgICAgIHRoaXMuc2V0TW9kZSgnbmV3JylcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBtb2RlID0gdGhpcy5wcm9wcy5jb25maWcubW9kZSB8fCAnbmV3J1xyXG4gICAgbGV0IGxheWVyVmlld0luZm8gPSB0aGlzLnByb3BzLmNvbmZpZy5sYXllclZpZXdJbmZvIHx8IG51bGxcclxuICAgIGlmIChsYXllclZpZXdJbmZvKSB7XHJcbiAgICAgIGNvbnN0IGxheWVyRGF0YVNvdXJjZURldGFpbCA9IHRoaXMuZHNNYW5hZ2VyLmdldERhdGFTb3VyY2UobGF5ZXJWaWV3SW5mby5kYXRhU291cmNlSWQpXHJcbiAgICAgIGxheWVyVmlld0luZm8gPSB7XHJcbiAgICAgICAgZGF0YVNvdXJjZUlkOiBsYXllclZpZXdJbmZvLmRhdGFTb3VyY2VJZCxcclxuICAgICAgICBtYWluRGF0YVNvdXJjZUlkOiBsYXllclZpZXdJbmZvLm1haW5EYXRhU291cmNlSWQgPyBsYXllclZpZXdJbmZvLm1haW5EYXRhU291cmNlSWQgOiBsYXllckRhdGFTb3VyY2VEZXRhaWwuZ2V0TWFpbkRhdGFTb3VyY2UoKT8uaWQsXHJcbiAgICAgICAgcm9vdERhdGFTb3VyY2VJZDogbGF5ZXJWaWV3SW5mby5yb290RGF0YVNvdXJjZUlkID8gbGF5ZXJWaWV3SW5mby5yb290RGF0YVNvdXJjZUlkIDogbGF5ZXJEYXRhU291cmNlRGV0YWlsLmdldFJvb3REYXRhU291cmNlKCk/LmlkXHJcbiAgICAgICAgLy8gZGF0YVZpZXdJZDogbGF5ZXJWaWV3SW5mby5kYXRhVmlld0lkXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBjb25zdCB1c2VNYXBXaWRnZXRJZHMgPSB0aGlzLnByb3BzLnVzZU1hcFdpZGdldElkcyB8fCBudWxsXHJcblxyXG4gICAgaWYgKG1vZGUgPT09ICduZXcnKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGxheWVyVmlld0luZm9Jbk5ld01vZGU6IGxheWVyVmlld0luZm9cclxuICAgICAgfSlcclxuICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2VkaXQnKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGxheWVyVmlld0luZm9JbkVkaXRNb2RlOiBsYXllclZpZXdJbmZvXHJcbiAgICAgIH0pXHJcbiAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICd2aWV3Jykge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBsYXllclZpZXdJbmZvSW5WaWV3TW9kZTogbGF5ZXJWaWV3SW5mb1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogcHJlcGFyZTpcclxuICAgKiBnZXQgc3VydmV5MTIzIGhvc3QgdXJsIGZyb20gcG9ydGFsJ3MgY29uZmlnLmpzXHJcbiAgICogbG9hZCBzdXJ2ZXkxMjMganMgYXBpXHJcbiAgICovXHJcbiAgcHJlcGFyZSA9ICgpID0+IHtcclxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUG9ydGFsKSB7XHJcbiAgICAgICAgICBjb25zdCBwb3J0YWxVcmwgPSB0aGlzLnByb3BzLmNvbmZpZy5wb3J0YWxVcmwgfHwgdGhpcy5wcm9wcy5wb3J0YWxVcmxcclxuICAgICAgICAgIHJldHVybiBzdXJ2ZXkxMjNTZXJ2aWNlLmdldFN1cnZleUhvc3RVcmxGcm9tUG9ydGFsKHBvcnRhbFVybClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRTdXJ2ZXlBUEkoKVxyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgLy8gc2V0IHN0YXRlOiBkc0ZlYXR1cmVMYXllciBhZnRlciBsb2FkZWQgaWYgdGhlIGRhdGFTb3VyY2VJZCBleGlzdFxyXG4gIGNvbXBvbmVudERpZE1vdW50ID0gKCkgPT4ge1xyXG4gICAgdGhpcy5jaGVja1ByaXZpbGlnZSgpXHJcbiAgICBjb25zdCB1c2VEYXRhU291cmNlcyA9IHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXNcclxuICAgIGNvbnN0IGRhdGFTb3VyY2VJZCA9ICh1c2VEYXRhU291cmNlcyAmJiB1c2VEYXRhU291cmNlcy5sZW5ndGgpID8gdXNlRGF0YVNvdXJjZXNbMF0uZGF0YVNvdXJjZUlkIDogbnVsbFxyXG4gICAgaWYgKGRhdGFTb3VyY2VJZCkge1xyXG4gICAgICBjb25zdCBkYXRhU291cmNlOiBhbnkgPSB0aGlzLmRzTWFuYWdlci5nZXREYXRhU291cmNlKGRhdGFTb3VyY2VJZClcclxuICAgICAgY29uc3QgbGF5ZXIgPSBkYXRhU291cmNlID8gZGF0YVNvdXJjZS5nZXRMYXllckRlZmluaXRpb24oKSA6IG51bGxcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgZHNGZWF0dXJlTGF5ZXI6IGxheWVyLFxyXG4gICAgICAgIGRzRmVhdHVyZUxheWVyRmllbGRzOiB0aGlzLmdldExheWVyRmllbGRzKGxheWVyKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgY29uc3QgdXNlciA9IHRoaXMucHJvcHMudXNlclxyXG4gICAgdGhpcy5pc09yZ0FkbWluID0gISEoKHVzZXIgJiYgdXNlci5yb2xlID09PSAnb3JnX2FkbWluJykpXHJcbiAgICB0aGlzLmlzUG9ydGFsID0gIShwb3J0YWxVcmxVdGlscy5pc0FHT0xEb21haW4odGhpcy5wcm9wcy5jb25maWcucG9ydGFsVXJsIHx8IHRoaXMucHJvcHMucG9ydGFsVXJsKSlcclxuICAgIHRoaXMuY2hlY2tUYWdSZXF1aXJlZCgpXHJcbiAgICB0aGlzLmdldFVzZXJUYWdzKClcclxuICB9XHJcblxyXG4gIC8vIGxvYWQgc3VydmV5IGFwaVxyXG4gIGxvYWRTdXJ2ZXlBUEkgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBhcGlVcmwgPSBzdXJ2ZXkxMjNTZXJ2aWNlLmdldFN1cnZleTEyM0hvc3RBUElVcmwoKVxyXG4gICAgaWYgKCF0aGlzLkFQSS5zdXJ2ZXkxMjMpIHtcclxuICAgICAgcmV0dXJuIG1vZHVsZUxvYWRlci5sb2FkTW9kdWxlKGFwaVVybClcclxuICAgICAgICAudGhlbigoc3VydmV5MTIzKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLkFQSSA9IHN1cnZleTEyM1xyXG4gICAgICAgICAgLy8gdGhpcy5BUEkuU3VydmV5MTIzV2ViRm9ybSA9IFN1cnZleTEyM1dlYkZvcm07XHJcbiAgICAgICAgICBpZiAoIXN1cnZleTEyMykge1xyXG4gICAgICAgICAgICBjb25zdCBhcGlFcnJNc2cgPSB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnZXJyTG9hZFMxMjNKU0FQSScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuZXJyTG9hZFMxMjNKU0FQSSB9LCB7IFMxMjNKU0FQSVVSTDogYXBpVXJsIH0pXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgIGxvYWRBcGlGYWlsZWQ6IHRydWVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGFwaUVyck1zZylcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgIGxvYWRBcGlGYWlsZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgIGV4aXN0U3VydmV5TXNnOiAnJyxcclxuICAgICAgICAgICAgICBleGlzdFNoYXJlZFN1cnZleU1zZzogJycsXHJcbiAgICAgICAgICAgICAgbmV3U3VydmV5TXNnOiAnJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHN1cnZleTEyM1xyXG4gICAgICAgIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuQVBJLnN1cnZleTEyMylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGNoZWNrIHRoZSB1c2VyIHByaXZpbGlnZSBvZiBjcmVhdGluZyBmZWF0dXJlc2VydmljZSBhbmQgY3JlYXRpbmcgcG9ydGFsIGl0ZW1cclxuICAgKi9cclxuICBjaGVja1ByaXZpbGlnZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IHVzZXIgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkudXNlclxyXG4gICAgY29uc3QgcHJpdmlsZWdlcyA9IHVzZXIucHJpdmlsZWdlcyB8fCBbXVxyXG4gICAgY29uc3QgY2FuQ3JlYXRlU3VydmV5ID0gcHJpdmlsZWdlcy5pbmNsdWRlcygncG9ydGFsOnVzZXI6Y3JlYXRlSXRlbScpICYmIHByaXZpbGVnZXMuaW5jbHVkZXMoJ3BvcnRhbDpwdWJsaXNoZXI6cHVibGlzaEZlYXR1cmVzJylcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBjYW5DcmVhdGVTdXJ2ZXk6IGNhbkNyZWF0ZVN1cnZleVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHRhZ3MgZm9yIGFuIGl0ZW0gYmVjb21lIG9wdGlvbmFsIHNpbmNlIHBvcnRhbCAxMC45LjEodGhlIHJlc3QgYXBpIHZlcnNpb24gb2YgcG9ydGFsIDEwLjkuMiBpcyA5LjIpXHJcbiAgICovXHJcbiAgY2hlY2tUYWdSZXF1aXJlZCA9ICgpID0+IHtcclxuICAgIGxldCBwb3J0YWxWZXJzaW9uID0gdGhpcy5wcm9wcy5wb3J0YWxTZWxmID8gdGhpcy5wcm9wcy5wb3J0YWxTZWxmLmN1cnJlbnRWZXJzaW9uIDogbnVsbFxyXG4gICAgdGhpcy5pc1RhZ1JlcXVpcmVkID0gZmFsc2VcclxuICAgIGlmIChwb3J0YWxWZXJzaW9uICYmIHRoaXMuaXNQb3J0YWwpIHtcclxuICAgICAgaWYgKChwb3J0YWxWZXJzaW9uICsgJycpLnNwbGl0KCcuJykubGVuZ3RoIDwgMykge1xyXG4gICAgICAgIHBvcnRhbFZlcnNpb24gKz0gJy4wJ1xyXG4gICAgICB9XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgdGhpcy5pc1RhZ1JlcXVpcmVkID0gc2VtdmVyLmx0KHBvcnRhbFZlcnNpb24sICc5LjIuMCcpXHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAvLyBpZ25vcmVcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuaXNUYWdSZXF1aXJlZFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZ2V0IHVzZXIgdGFnc1xyXG4gICAqIEByZXR1cm5zXHJcbiAgICovXHJcbiAgZ2V0VXNlclRhZ3MgPSAoKSA9PiB7XHJcbiAgICBpZiAod2luZG93LmppbXVDb25maWcuaXNEZXZFZGl0aW9uKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gICAgY29uc3QgdXNlcm5hbWUgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkudXNlci51c2VybmFtZVxyXG4gICAgYXBwU2VydmljZXMuZ2V0VXNlclRhZ3ModXNlcm5hbWUpLnRoZW4ocmVzID0+IHtcclxuICAgICAgY29uc3QgdXNlclRhZ3MgPSByZXM/LnRhZ3M/Lm1hcChlbCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGVsLnRhZ1xyXG4gICAgICB9KVxyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICB1c2VyVGFnczogdXNlclRhZ3MgfHwgW11cclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBnZXRMYXllckZpZWxkcyA9IChsYXllcikgPT4ge1xyXG4gICAgaWYgKCFsYXllcikge1xyXG4gICAgICByZXR1cm4gW11cclxuICAgIH1cclxuICAgIC8vIGNsb25lIHRoZSBsYXllci5maWVsZHNcclxuICAgIGNvbnN0IGZpZWxkcyA9IFtdLmNvbmNhdChsYXllci5maWVsZHMgfHwgW10pXHJcbiAgICBpZiAobGF5ZXIudHlwZSAhPT0gJ2ZlYXR1cmUnICYmIGxheWVyLnR5cGUgIT09ICdGZWF0dXJlIExheWVyJykge1xyXG4gICAgICAvLyB0YWJsZSBvciBvdGhlciB0eXBlIChoYXMgbm8gZ2VvbWV0cnkpXHJcbiAgICAgIHJldHVybiBmaWVsZHNcclxuICAgIH1cclxuICAgIGNvbnN0IGV4aXN0R2VvRmllbGQgPSAoZmllbGRzIHx8IFtdKS5maW5kKChpdGVtKSA9PiB7XHJcbiAgICAgIHJldHVybiBpdGVtLm5hbWUgPT09ICdnZW9tZXRyeSdcclxuICAgIH0pXHJcbiAgICBpZiAoZXhpc3RHZW9GaWVsZCkge1xyXG4gICAgICByZXR1cm4gZmllbGRzXHJcbiAgICB9XHJcbiAgICBsZXQgdHlwZSA9IGxheWVyLmdlb21ldHJ5VHlwZSB8fCAnJ1xyXG4gICAgaWYgKHR5cGUuc3RhcnRzV2l0aCgnZXNyaUdlb21ldHJ5JykpIHtcclxuICAgICAgdHlwZSA9IHR5cGUucmVwbGFjZSgnZXNyaUdlb21ldHJ5JywgJycpLnRvTG93ZXJDYXNlKClcclxuICAgIH1cclxuICAgIGNvbnN0IGdlb21ldHJ5VHlwZVN0ciA9IHRoaXMubmxzKCdnZW9tZXRyeVR5cGUnICsgdHlwZS5zdWJzdHIoMCwgMSkudG9VcHBlckNhc2UoKSArIHR5cGUuc3Vic3RyKDEpKVxyXG5cclxuICAgIGZpZWxkcy5wdXNoKHtcclxuICAgICAgYWxpYXM6IGAke3RoaXMubmxzKCdnZW9tZXRyeUxhYmVsJyl9KCR7Z2VvbWV0cnlUeXBlU3RyfSlgLFxyXG4gICAgICBuYW1lOiAnZ2VvbWV0cnknXHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIGZpZWxkc1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogb24gc2V0dGluZyB2YWx1ZSBjaGFuZ2VkXHJcbiAgICovXHJcbiAgb25WYWx1ZUNoYW5nZWQgPSAoZXZ0OiBSZWFjdC5Gb3JtRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGV2dC5jdXJyZW50VGFyZ2V0XHJcblxyXG4gICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2Uoe1xyXG4gICAgICBpZDogdGhpcy5wcm9wcy5pZCxcclxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLmNvbmZpZy5zZXQodGFyZ2V0Lm5hbWUsIHRhcmdldC52YWx1ZSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiAgdHJhbnNsYXRlIHN0cmluZ1xyXG4gICAqIEBwYXJhbSBpZFxyXG4gICAqIEBwYXJhbSBwYXJhbXNcclxuICAgKiBAcmV0dXJuc1xyXG4gICAqL1xyXG4gIG5scyA9IChpZDogc3RyaW5nLCBwYXJhbXM/OiBhbnkpID0+IHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiBpZCwgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1tpZF0gfSwgcGFyYW1zKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogYWRkIGRlZmF1bHQgdmFsdWVcclxuICAgKi9cclxuICBhZGREZWZhdWx0VmFsdWUgPSAoZXZ0OiBhbnkpID0+IHtcclxuICAgIGlmICh0aGlzLm5ld0RlZmF1bHRWYWx1ZS5rZXkgJiYgdGhpcy5uZXdEZWZhdWx0VmFsdWUudmFsdWUpIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIGNsZWFyIG5ld0RlZmF1bHRWYWx1ZSBrZXkgLyB2YWx1ZVxyXG4gICAgICAgKi9cclxuICAgICAgdGhpcy5uZXdEZWZhdWx0VmFsdWUgPSB7XHJcbiAgICAgICAga2V5OiAnJyxcclxuICAgICAgICB2YWx1ZTogJydcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogbGlzdGVuIHRvIHRoZSBkZXNpbmdlciBpZnJhbWVcclxuICAgKi9cclxuICBhZGREZXNpZ2VySGFuZGxlciA9ICgpID0+IHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoZXZ0LmRhdGEpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IGV2dC5kYXRhXHJcbiAgICAgICAgLy8gaWYgdGhlIHdpbmRvdyBnZXQgdGhlIG1lc3NhZ2UgZnJvbSBvdGhlciBpZnJhbWUsIG1heWJlIGl0IGNhbm5vdCBiZSBjb252ZXJ0ZWQgdG8gb2JqZWN0XHJcbiAgICAgICAgLy8gV2UgY2FuIG9ubHkgc3VyZSB0aGUgbWVzc2FnZSBmcm9tIHdlYmZvcm0gY2FuIGJlIGNvbnZlcnRlZCB0byBvYmplY3RcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgaWYgKHR5cGVvZiBldnQuZGF0YSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZXZ0LmRhdGEpIHx8IHt9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgLy8gZG9uJ3Qgc2hvdyB0aGUgZXJyb3JcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRhdGEuZXZlbnQgPT09ICdzdXJ2ZXkxMjM6ZGVzaWduOm9uRm9ybVB1Ymxpc2hlZCcgJiYgZGF0YS5kYXRhKSB7XHJcbiAgICAgICAgICBsZXQgc3VydmV5U3RhdHVzQ29kZSA9IHRoaXMuc3RhdGUuc3VydmV5U3RhdHVzQ29kZSB8fCAwXHJcbiAgICAgICAgICBzdXJ2ZXlTdGF0dXNDb2RlKytcclxuICAgICAgICAgIGJ1aWxkZXJBcHBTeW5jLnB1Ymxpc2hDaGFuZ2VXaWRnZXRTdGF0ZVByb3BUb0FwcCh7IHdpZGdldElkOiB0aGlzLnByb3BzLmlkLCBwcm9wS2V5OiAnc3VydmV5U3RhdHVzQ29kZScsIHZhbHVlOiBzdXJ2ZXlTdGF0dXNDb2RlIH0pXHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgc3VydmV5U3RhdHVzQ29kZTogc3VydmV5U3RhdHVzQ29kZVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIHRoaXMuaGFuZGxlQ2xvc2VNb2RhbCgpXHJcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLmV2ZW50ID09PSAnc3VydmV5MTIzOmRlc2lnbjpvbkZvcm1VbnNhdmVkJyAmJiBkYXRhLmRhdGEpIHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBzdXJ2ZXlDaGFuZ2VkOiB0cnVlXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5ldmVudCA9PT0gJ3N1cnZleTEyMzpkZXNpZ246b25Gb3JtU2F2ZWQnICYmIGRhdGEuZGF0YSkge1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHN1cnZleUNoYW5nZWQ6IGZhbHNlXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGdldCBmaWVsZCBhbGlhcyBieSBmaWxkIG5hbWVcclxuICAgKi9cclxuICBnZXRGaWVsQWxpYXMgPSAoZmllbGQpID0+IHtcclxuICAgIGNvbnN0IGZpZWxkcyA9IHRoaXMuc3RhdGUuZHNGZWF0dXJlTGF5ZXJGaWVsZHMgfHwgW11cclxuICAgIGNvbnN0IHRhcmdldCA9IGZpZWxkcy5maW5kKChpdGVtKSA9PiB7XHJcbiAgICAgIHJldHVybiBpdGVtLm5hbWUgPT09IGZpZWxkXHJcbiAgICB9KVxyXG4gICAgaWYgKHRhcmdldCkge1xyXG4gICAgICByZXR1cm4gdGFyZ2V0LmFsaWFzIHx8IHRhcmdldC5uYW1lXHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmllbGRcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGdldCBxdWVzdGlvbiBsYWJlbCBieSBxdWVzdGlvbiBuYW1lXHJcbiAgICovXHJcbiAgZ2V0UXVlc3Rpb25MYWJlbCA9IChxdWVzdGlvbk5hbWUpID0+IHtcclxuICAgIGNvbnN0IHF1ZXN0aW9ucyA9IHRoaXMuc3RhdGUuc3VydmV5UXVlc3Rpb25GaWVsZHMgfHwgW11cclxuICAgIGNvbnN0IHRhcmdldCA9IHF1ZXN0aW9ucy5maW5kKChpdGVtKSA9PiB7XHJcbiAgICAgIHJldHVybiBpdGVtLm5hbWUgPT09IHF1ZXN0aW9uTmFtZVxyXG4gICAgfSlcclxuICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgcmV0dXJuIHRhcmdldC5sYWJlbCB8fCB0YXJnZXQubmFtZVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHF1ZXN0aW9uTmFtZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogb24gbmV3IHN1cnZleSB2YWx1ZSBjaGFuZ2VkXHJcbiAgICovXHJcbiAgb25OZXdTdXJ2ZXlWYWx1ZUNoYW5nZWQgPSAoZTogUmVhY3QuRm9ybUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+LCB0eXBlOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGUuY3VycmVudFRhcmdldFxyXG5cclxuICAgIGlmICh0eXBlKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIFt0eXBlXTogdGFyZ2V0LnZhbHVlXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBpZiAodHlwZSA9PT0gJ25ld1N1cnZleVRhZ3MnKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIG5ld1N1cnZleVRhZ3NEaXJ0eTogdHJ1ZVxyXG4gICAgICB9KVxyXG4gICAgfSBpZiAodHlwZSA9PT0gJ25ld1N1cnZleVRpdGxlJykge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBuZXdTdXJ2ZXlUaXRsZURpcnR5OiB0cnVlXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBzd2l0Y2ggdGhlIHN1cnZleSBzb3VyY2UgdHlwZShmcm9tIG15b3duIHN1cnZleXMgb3Igb3RoZXJz4oCYIHN1cnZleXMpXHJcbiAgICogQHBhcmFtIHR5cGVcclxuICAgKi9cclxuICBvblN1cnZleVNvdXJjZVR5cGVDaGFuZ2UgPSAodHlwZTogc3RyaW5nKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgbW9kZTogdHlwZSxcclxuICAgICAgY3VycmVudEFjdGl2ZVN1cnZleTogdHlwZSA9PT0gJ3N1cnZleS1zZWxlY3RFeGlzdGluZ1NoYXJlZFN1cnZleScgPyB0aGlzLnN0YXRlLnNlbGVjdGVkU2hhcmVkU3VydmV5IDogdGhpcy5zdGF0ZS5zZWxlY3RlZE15T3duU3VydmV5LFxyXG4gICAgICBzZWxlY3RlZFN1cnZleTogdHlwZSA9PT0gJ3N1cnZleS1zZWxlY3RFeGlzdGluZ1NoYXJlZFN1cnZleScgPyB0aGlzLnN0YXRlLnNlbGVjdGVkU2hhcmVkU3VydmV5IDogdGhpcy5zdGF0ZS5zZWxlY3RlZE15T3duU3VydmV5XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogb25FeGlzdFN1cnZleUNoYW5nZWRcclxuICAgKi9cclxuICBvbkV4aXN0U3VydmV5Q2hhbmdlZCA9ICh2YWx1ZVBhaXJzOiBDbGF1c2VWYWx1ZVBhaXJbXSkgPT4ge1xyXG4gICAgaWYgKHZhbHVlUGFpcnMgJiYgdmFsdWVQYWlycy5sZW5ndGgpIHtcclxuICAgICAgLy8gdGhpcy51cGRhdGVNYXBXaWRnZXRMaXN0KClcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgc2VsZWN0ZWRTdXJ2ZXk6IHZhbHVlUGFpcnNbMF0sXHJcbiAgICAgICAgY3VycmVudEFjdGl2ZVN1cnZleTogdmFsdWVQYWlyc1swXVxyXG4gICAgICB9KVxyXG4gICAgICBpZiAodGhpcy5zdGF0ZS5tb2RlID09PSAnc3VydmV5LXNlbGVjdEV4aXN0aW5nU2hhcmVkU3VydmV5Jykge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgc2VsZWN0ZWRTaGFyZWRTdXJ2ZXk6IHZhbHVlUGFpcnNbMF1cclxuICAgICAgICB9KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgc2VsZWN0ZWRNeU93blN1cnZleTogdmFsdWVQYWlyc1swXVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHNlbGVjdGVkU3VydmV5OiBudWxsLFxyXG4gICAgICAgIGN1cnJlbnRBY3RpdmVTdXJ2ZXk6IG51bGxcclxuICAgICAgfSlcclxuICAgICAgaWYgKHRoaXMuc3RhdGUubW9kZSA9PT0gJ3N1cnZleS1zZWxlY3RFeGlzdGluZ1NoYXJlZFN1cnZleScpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIHNlbGVjdGVkU2hhcmVkU3VydmV5OiBudWxsXHJcbiAgICAgICAgfSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIHNlbGVjdGVkTXlPd25TdXJ2ZXk6IG51bGxcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBjcmVhdGUgc3VydmV5XHJcbiAgICovXHJcbiAgY3JlYXRlU3VydmV5ID0gKCkgPT4ge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmNhbkNyZWF0ZVN1cnZleSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogaGFuZGxlIHRpdGxlLCB0YWdzLCBkZXNjcmlwdGlvblxyXG4gICAgICovXHJcbiAgICBjb25zdCB0aXRsZSA9IHRoaXMuc3RhdGUubmV3U3VydmV5VGl0bGUgPyB0aGlzLnN0YXRlLm5ld1N1cnZleVRpdGxlLnRyaW0oKSA6ICcnXHJcbiAgICBsZXQgdGFncyA9IG51bGxcclxuICAgIGlmICh0aGlzLnN0YXRlLm5ld1N1cnZleVRhZ3MgJiYgdGhpcy5zdGF0ZS5uZXdTdXJ2ZXlUYWdzLmxlbmd0aCkge1xyXG4gICAgICB0YWdzID0gdGhpcy5zdGF0ZS5uZXdTdXJ2ZXlUYWdzLm1hcCgodGFnKSA9PiB0YWcudHJpbSgpKVxyXG4gICAgfVxyXG4gICAgY29uc3Qgc25pcHBldCA9IHRoaXMuc3RhdGUubmV3U3VydmV5U25pcHBldFxyXG4gICAgaWYgKCF0aXRsZSkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBuZXdTdXJ2ZXlUaXRsZURpcnR5OiB0cnVlXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5pc1RhZ1JlcXVpcmVkKSB7XHJcbiAgICAgIGlmICghdGhpcy5zdGF0ZS5uZXdTdXJ2ZXlUYWdzIHx8ICF0aGlzLnN0YXRlLm5ld1N1cnZleVRhZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBuZXdTdXJ2ZXlUYWdzRGlydHk6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aXRsZSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGlmICh0aGlzLmlzVGFnUmVxdWlyZWQgJiYgKCF0YWdzIHx8ICF0YWdzLmxlbmd0aCkpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogdXBkYXRlIG1zZ1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgbmV3U3VydmV5TXNnOiAnJyxcclxuICAgICAgICAgIG5ld1N1cnZleUxvYWRpbmc6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnN0IHJhbmRvbUlkeCA9IHBhcnNlSW50KE1hdGgucmFuZG9tKCkgKiAxMCArICcnKSAlIDNcclxuICAgICAgICBjb25zdCB0aHVtYm5haWwgPSB0aGlzLnN0YXRlLm5ld1N1cnZleVRodW1ibmFpbFVybHNbcmFuZG9tSWR4XVxyXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgICB0YWdzOiB0YWdzLFxyXG4gICAgICAgICAgdG9rZW46IHRoaXMucHJvcHMudG9rZW4sXHJcbiAgICAgICAgICB0aHVtYm5haWxVcmw6IHRodW1ibmFpbCxcclxuICAgICAgICAgIHNuaXBwZXQ6IHNuaXBwZXQsIC8vIGJ1dCBzdXJ2ZXkgYXBpIGRvZXNuJ3Qgc3VwcG9ydCBzbmlwcGV0IHlldCFcclxuICAgICAgICAgIHBvcnRhbFVybDogdGhpcy5wcm9wcy5jb25maWcucG9ydGFsVXJsIHx8IHRoaXMucHJvcHMucG9ydGFsVXJsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLkFQSS5zdXJ2ZXkxMjMuY3JlYXRlU3VydmV5KG9wdGlvbnMpXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgIGlmIChyZXMgJiYgcmVzLmlkKSB7XHJcbiAgICAgICAgICAvLyB0aGlzLnVwZGF0ZU1hcFdpZGdldExpc3QoKVxyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBzZXQgaXRlbSBpZFxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgY3JlYXRlU3VydmV5RXJyb3JNc2c6IG51bGwsXHJcbiAgICAgICAgICAgIG5ld1N1cnZleUl0ZW1JZDogcmVzLmlkLFxyXG4gICAgICAgICAgICBzZWxlY3RlZFN1cnZleTogcmVzLFxyXG4gICAgICAgICAgICBuZXdTdXJ2ZXlMb2FkaW5nOiBmYWxzZVxyXG4gICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICByZXR1cm4gcmVzLmlkXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IHJlc1xyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoaXRlbUlkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBpZiAoIWl0ZW1JZCkge1xyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIHdlIHNob3VsZCBzZXQgaGlkZXMgaW4gY29uZmlnXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2Uoe1xyXG4gICAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXHJcbiAgICAgICAgICBjb25maWc6IHRoaXMucHJvcHMuY29uZmlnLnNldCgnaGlkZXMnLCBbJ25hdmJhcicsICdoZWFkZXInLCAnZGVzY3JpcHRpb24nLCAnZm9vdGVyJywgJ3RoZW1lJ10pXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogc2hvdyBzdXJ2ZXkxMjMgZGVzaWduZXIgbW9kYWxcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnNob3dTdXJ2ZXkxMjNEZXNpZ25lck1vZGFsKGl0ZW1JZClcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEluIGZhY3QsIGlmIHRoZSBlcnJvciBjb2RlIGlzIDQwMCwgdGhlIHJlYXNvbiBjYW4gYmUgbXVsdGlwbGUsIG1heWJlIGl0J3Mgbm90IGJlY2F1c2UgdGhlIHN1cnZleSBuYW1lIGlzIGR1cGxpY2F0ZWQuXHJcbiAgICAgICAgICAgKiB1cGRhdGUgbXNnXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIC8vIGlmIChlcnIuZXJyb3IgJiYgZXJyLmVycm9yLmNvZGUgKyAnJyA9PT0gJzQwMCcpIHtcclxuICAgICAgICAgIC8vICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAvLyAgICAgY3JlYXRlU3VydmV5RXJyb3JNc2c6IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzdXJ2ZXlUaXRsZUR1cGxpY2F0ZU1zZycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuc3VydmV5VGl0bGVEdXBsaWNhdGVNc2cgfSksXHJcbiAgICAgICAgICAvLyAgICAgbmV3U3VydmV5TG9hZGluZzogZmFsc2UsXHJcbiAgICAgICAgICAvLyAgICAgbmV3U3VydmV5VGl0bGVEaXJ0eTogZmFsc2VcclxuICAgICAgICAgIC8vICAgfSlcclxuICAgICAgICAgIC8vICAgcmV0dXJuIG51bGxcclxuICAgICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zdCBlcnJvciA9IGVyci5lcnJvciA/IGVyci5lcnJvciA6IGVyclxyXG4gICAgICAgICAgbGV0IGVycm9yTXNnID0gZXJyb3IubWVzc2FnZSA/IGVycm9yLm1lc3NhZ2UgOiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykgPyBlcnIgOiAnJ1xyXG4gICAgICAgICAgaWYgKGVycm9yLmRldGFpbHMgJiYgZXJyb3IuZGV0YWlscy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZXJyb3IuZGV0YWlscy5mb3JFYWNoKChkZXRhaWwpID0+IHtcclxuICAgICAgICAgICAgICBlcnJvck1zZyArPSAnICcgKyBkZXRhaWxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogICMxMTU2NSwgdXNlIGJ1aWxkLWluIHN0cmluZyB3aGVuIHRoZSBzdXJ2ZXkgbmFtZSBpcyBhbHJlYWR5IGV4aXN0aW5nLlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZUNvZGUgPT09ICdzdXJ2ZXkxMjNfY3JlYXRlMTQnKSB7XHJcbiAgICAgICAgICAgIGVycm9yTXNnID0gdGhpcy5ubHMoJ2NyZWF0ZVN1cnZleUVyckR1cGxpY2F0ZVRpdGxlJywge1xyXG4gICAgICAgICAgICAgIGZvbGRlck5hbWU6IGAnJHt0aXRsZX0nYFxyXG4gICAgICAgICAgICB9KSB8fCBlcnJvck1zZ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIG5ld1N1cnZleU1zZzogZXJyb3JNc2cgfHwgJ0NyZWF0ZSBzdXJ2ZXkgZmFpbGVkLicsXHJcbiAgICAgICAgICAgIG5ld1N1cnZleUxvYWRpbmc6IGZhbHNlXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycilcclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHF1ZXJ5IHN1cnZleVxyXG4gICAqL1xyXG4gIHF1ZXJ5U3VydmV5ID0gKG9wdGlvbnM/OiB7XHJcbiAgICBpc1B1Ymxpc2hlZD86IGJvb2xlYW5cclxuICB9KSA9PiB7XHJcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgLy8gdG9kbzogcmVtb3ZlIHRoZSBiZWxvd2luZyBjb2Rlcz9cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jb25maWcuc3VydmV5SXRlbUlkICYmIHRoaXMucHJvcHMuY29uZmlnLnNlbGVjdGVkU3VydmV5KSB7XHJcbiAgICAgICAgICBjb25zdCBzZWxlY3RlZFN1cnZleSA9IHRoaXMucHJvcHMuY29uZmlnLnNlbGVjdGVkU3VydmV5XHJcbiAgICAgICAgICAvLyB0aGlzLnN0YXRlLm1vZGUgPSAnc2V0dGluZ3MnO1xyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25TZXR0aW5nQ2hhbmdlKHtcclxuICAgICAgICAgICAgICBpZDogdGhpcy5wcm9wcy5pZCxcclxuICAgICAgICAgICAgICBjb25maWc6IHRoaXMucHJvcHMuY29uZmlnLnNldCgnc3VydmV5SXRlbUlkJywgc2VsZWN0ZWRTdXJ2ZXkuaWQpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBzd2l0Y2ggdG8gc2V0dGluZ3MgcGFnZVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgLy8gdGhpcy51cGRhdGVNYXBXaWRnZXRMaXN0KClcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgZXhpc3RTdXJ2ZXlNc2c6IG51bGwsXHJcbiAgICAgICAgICAgICAgbW9kZTogJ3NldHRpbmdzJyxcclxuICAgICAgICAgICAgICBzZWxlY3RlZFN1cnZleTogc2VsZWN0ZWRTdXJ2ZXlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH0sIDApXHJcbiAgICAgICAgICAvLyBvcHRpb25zXHJcbiAgICAgICAgICBjb25zdCBxdWVyeU15U3VydmV5T3B0aW9uID0gT2JqZWN0LmFzc2lnbih7XHJcbiAgICAgICAgICAgIGlzUHVibGlzaGVkOiBmYWxzZVxyXG4gICAgICAgICAgfSwgb3B0aW9ucyB8fCB7fSlcclxuICAgICAgICAgIGNvbnN0IHF1ZXJ5T3B0aW9uOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIGlzUHVibGlzaGVkOiBxdWVyeU15U3VydmV5T3B0aW9uLmlzUHVibGlzaGVkLFxyXG4gICAgICAgICAgICBzdXJ2ZXlDbGllbnRBUEk6IHRoaXMuQVBJXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gaWYgKHRoaXMuaXNPcmdBZG1pbikge1xyXG4gICAgICAgICAgLy8gICBxdWVyeU9wdGlvbi5zZWFyY2hTdXJ2ZXlUeXBlID0gJ2FsbC1hZG1pbidcclxuICAgICAgICAgIC8vIH1cclxuICAgICAgICAgIHJldHVybiBzdXJ2ZXkxMjNTZXJ2aWNlLnF1ZXJ5U3VydmV5KHtcclxuICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMucHJvcHMudXNlcj8udXNlcm5hbWUsXHJcbiAgICAgICAgICAgIHRva2VuOiB0aGlzLnByb3BzLnRva2VuLFxyXG4gICAgICAgICAgICBwb3J0YWxVcmw6IHRoaXMucHJvcHMuY29uZmlnLnBvcnRhbFVybCB8fCB0aGlzLnByb3BzLnBvcnRhbFVybFxyXG4gICAgICAgICAgfSwgcXVlcnlPcHRpb24pXHJcbiAgICAgICAgICAgIC50aGVuKChzdXJ2ZXlzOiBhbnlbXSkgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHN1cnZleUl0ZW1zID0gdGhpcy5nZXRTdXJ2ZXlJdGVtcyhzdXJ2ZXlzKVxyXG4gICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgZXhpc3RTdXJ2ZXlzOiBzdXJ2ZXlJdGVtc1xyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUubW9kZSA9PT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgbW9kZTogJ3N1cnZleS1jcmVhdGVTdXJ2ZXknXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogdXBkYXRlIG1zZ1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgZXhpc3RTdXJ2ZXlNc2c6ICc8ZGl2IGNsYXNzPVwic3VydmV5LWxpc3QtbG9hZGluZy1vdXR0ZXJcIj48ZGl2IGNsYXNzPVwiamltdS1zZWNvbmRhcnktbG9hZGluZ1wiPjwvZGl2PjwvZGl2PidcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vIHF1ZXJ5IG15IHN1cnZleXNcclxuICAgICAgICAvLyBvcHRpb25zXHJcbiAgICAgICAgY29uc3QgcXVlcnlNeVN1cnZleU9wdGlvbiA9IE9iamVjdC5hc3NpZ24oe1xyXG4gICAgICAgICAgaXNQdWJsaXNoZWQ6IGZhbHNlXHJcbiAgICAgICAgfSwgb3B0aW9ucyB8fCB7fSlcclxuICAgICAgICBjb25zdCBxdWVyeU9wdGlvbjogYW55ID0ge1xyXG4gICAgICAgICAgaXNQdWJsaXNoZWQ6IHF1ZXJ5TXlTdXJ2ZXlPcHRpb24uaXNQdWJsaXNoZWQsXHJcbiAgICAgICAgICBzdXJ2ZXlDbGllbnRBUEk6IHRoaXMuQVBJXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFjY29yZGluZyB0byBodHRwczovL2RldnRvcGlhLmVzcmkuY29tL0JlaWppbmctUi1ELUNlbnRlci9FeHBlcmllbmNlQnVpbGRlci1XZWItRXh0ZW5zaW9ucy9pc3N1ZXMvNzAyNiNpc3N1ZWNvbW1lbnQtMzczNTgwM1xyXG4gICAgICAgICAqIGV2ZW50IHRoZSBjdXJyZW50IHVzZXIgaXMgb3JnIGFkbWluLCBzaG91bGQgc3RpbGwgb25seSBzaG93IG15IG93bmVkIHN1cnZleXMgaGVyZVxyXG4gICAgICAgICAqIG90aGVyJ3Mgc3VydmV5IHdpbGwgYmUgc2hvd24gaW4gdGhlIHRoaXJkIHJhZGlvIGl0ZW0oU2VsZWN0IG90aGVycycgc3VydmV5KVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIC8vIGlmICh0aGlzLmlzT3JnQWRtaW4pIHtcclxuICAgICAgICAvLyAgIHF1ZXJ5T3B0aW9uLnNlYXJjaFN1cnZleVR5cGUgPSAnYWxsLWFkbWluJ1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICByZXR1cm4gc3VydmV5MTIzU2VydmljZS5xdWVyeVN1cnZleSh7XHJcbiAgICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lLFxyXG4gICAgICAgICAgdG9rZW46IHRoaXMucHJvcHMudG9rZW4sXHJcbiAgICAgICAgICBwb3J0YWxVcmw6IHRoaXMucHJvcHMuY29uZmlnLnBvcnRhbFVybCB8fCB0aGlzLnByb3BzLnBvcnRhbFVybFxyXG4gICAgICAgIH0sIHF1ZXJ5T3B0aW9uKVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoc3VydmV5cykgPT4ge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIHVwZGF0ZSBtc2coZm9yIG15IGV4aXN0aW5nIHN1cnZleXMpXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc3Qgc3VydmV5SXRlbXMgPSB0aGlzLmdldFN1cnZleUl0ZW1zKHN1cnZleXMpXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBleGlzdFN1cnZleU1zZzogbnVsbCxcclxuICAgICAgICAgIGV4aXN0U3VydmV5czogc3VydmV5SXRlbXNcclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmICghc3VydmV5cyB8fCAhc3VydmV5cy5sZW5ndGgpIHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBleGlzdFN1cnZleU1zZzogYDxwIGNsYXNzPVwibm8tc3VydmV5LW1lc3NhZ2VcIj4ke3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdub0V4aXN0aW5nU3VydmV5JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5ub0V4aXN0aW5nU3VydmV5IH0pfTwvcD5gXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLyoqXHJcbiAgICAgICAqIHF1ZXJ5IHNoYXJlZCBzdXJ2ZXlzXHJcbiAgICAgICAqL1xyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBleGlzdFNoYXJlZFN1cnZleU1zZzogJzxkaXYgY2xhc3M9XCJzdXJ2ZXktbGlzdC1sb2FkaW5nLW91dHRlclwiPjxkaXYgY2xhc3M9XCJqaW11LXNlY29uZGFyeS1sb2FkaW5nXCI+PC9kaXY+PC9kaXY+J1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWNjb3JkaW5nIHRvIGh0dHBzOi8vZGV2dG9waWEuZXNyaS5jb20vQmVpamluZy1SLUQtQ2VudGVyL0V4cGVyaWVuY2VCdWlsZGVyLVdlYi1FeHRlbnNpb25zL2lzc3Vlcy83MDI2I2lzc3VlY29tbWVudC0zNzM1ODAzXHJcbiAgICAgICAgICogd2UgYXJlIHNlYXJjaGluZyBvdGhlcnMnIHN1cnZleSBoZXJlIGJ5IHNlbmRpbmcgcmVxZXVlc3RzIHRvIEFHTyByZXN0IGFwaSBpbiBleGIgc2lkZSwgYmVjYXVzZSBzdXJ2ZXkgYXBpIGNhbm5vdCBkbyB0aGlzIGN1cnJlbnRseSxcclxuICAgICAgICAgKiB3aWxsIHVzZSBzdXJ2ZXkgYXBpIHdoZW4gdGhpcyBmZWF0dXJlIGlzIHN1cHBvcnRlZCBpbiB0aGUgZnV0dXJlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJldHVybiBzdXJ2ZXkxMjNTZXJ2aWNlLnF1ZXJ5T3RoZXJzU3VydmV5KHtcclxuICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnVzZXIudXNlcm5hbWUsXHJcbiAgICAgICAgICB0b2tlbjogdGhpcy5wcm9wcy50b2tlbixcclxuICAgICAgICAgIHBvcnRhbFVybDogdGhpcy5wcm9wcy5jb25maWcucG9ydGFsVXJsIHx8IHRoaXMucHJvcHMucG9ydGFsVXJsXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgb3JnSWQ6IHRoaXMucHJvcHMucG9ydGFsU2VsZiA/IHRoaXMucHJvcHMucG9ydGFsU2VsZi5pZCA6IG51bGxcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoc2hhcmVkU3VydmV5cykgPT4ge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIHVwZGF0ZSBtc2coZm9yIHNoYXJlZCBzdXJ2ZXlzKVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbnN0IHN1cnZleUl0ZW1zID0gdGhpcy5nZXRTdXJ2ZXlJdGVtcyhzaGFyZWRTdXJ2ZXlzKVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgZXhpc3RTaGFyZWRTdXJ2ZXlNc2c6IG51bGwsXHJcbiAgICAgICAgICBleGlzdFNoYXJlZFN1cnZleXM6IHN1cnZleUl0ZW1zXHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAoIXNoYXJlZFN1cnZleXMgfHwgIXNoYXJlZFN1cnZleXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZXhpc3RTaGFyZWRTdXJ2ZXlNc2c6IGA8cCBjbGFzcz1cIm5vLXN1cnZleS1tZXNzYWdlXCI+JHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnbm9FeGlzdGluZ1N1cnZleScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMubm9FeGlzdGluZ1N1cnZleSB9KX08L3A+YFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiB1cGRhdGUgc2VsZWN0ZWQgc3VydmV5XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc3QgdXNlZFN1cnZleUl0ZW1JZCA9IHRoaXMucHJvcHMuY29uZmlnLnN1cnZleUl0ZW1JZFxyXG4gICAgICAgIGlmICh1c2VkU3VydmV5SXRlbUlkKSB7XHJcbiAgICAgICAgICBjb25zdCBzZWxlY3RlZFN1cnZleSA9IHRoaXMuc3RhdGUuZXhpc3RTdXJ2ZXlzLmZpbmQoKHN1cnZleSkgPT4gc3VydmV5LmlkID09PSB1c2VkU3VydmV5SXRlbUlkKVxyXG4gICAgICAgICAgY29uc3Qgc2VsZWN0ZWRTaGFyZWRTdXJ2ZXkgPSB0aGlzLnN0YXRlLmV4aXN0U2hhcmVkU3VydmV5cy5maW5kKChzdXJ2ZXkpID0+IHN1cnZleS5pZCA9PT0gdXNlZFN1cnZleUl0ZW1JZClcclxuICAgICAgICAgIGNvbnN0IHRhcmdldFN1cnZleSA9IHNlbGVjdGVkU3VydmV5IHx8IHNlbGVjdGVkU2hhcmVkU3VydmV5XHJcbiAgICAgICAgICBpZiAodGFyZ2V0U3VydmV5KSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMudXBkYXRlTWFwV2lkZ2V0TGlzdCgpXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgIHNlbGVjdGVkU3VydmV5OiB0YXJnZXRTdXJ2ZXlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2Uoe1xyXG4gICAgICAgICAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxyXG4gICAgICAgICAgICAgIGNvbmZpZzogdGhpcy5wcm9wcy5jb25maWcuc2V0KCdzZWxlY3RlZFN1cnZleScsIHRhcmdldFN1cnZleSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBtb2RlOiAnc3VydmV5LWNyZWF0ZVN1cnZleScsXHJcbiAgICAgICAgICBleGlzdFN1cnZleU1zZzogYDxwIGNsYXNzPVwiZXJyb3ItbWVzc2FnZVwiPiR7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2Vycm1zZ0dlbmVyYWxMb2FkaW5nJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5lcnJtc2dHZW5lcmFsTG9hZGluZyB9KX08L3A+YFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogY29udmVydCBzdXJ2ZXkgdG8gQWR2YW5jZWRTZWxlY3RJdGVtIHR5cGVcclxuICAgKiBAcGFyYW0gc3VydmV5c1xyXG4gICAqL1xyXG4gIGdldFN1cnZleUl0ZW1zID0gKHN1cnZleXMpID0+IHtcclxuICAgIC8vIGNvbnN0IHN1cnZleUl0ZW1zID0gW107XHJcbiAgICAoc3VydmV5cyB8fCBbXSkuZm9yRWFjaCgoc3VydmV5KSA9PiB7XHJcbiAgICAgIHN1cnZleS52YWx1ZSA9IHN1cnZleS5pZFxyXG4gICAgICBzdXJ2ZXkubGFiZWwgPSBzdXJ2ZXkudGl0bGVcclxuICAgICAgc3VydmV5LnJlbmRlciA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPGRpdiBjc3M9e2Nzc2B3aWR0aDogMTc4cHg7dGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IHdoaXRlLXNwYWNlOiBub3dyYXA7b3ZlcmZsb3c6IGhpZGRlbjtgfSB0aXRsZT17c3VydmV5LnRpdGxlfT48c3Bhbj57c3VydmV5LnRpdGxlfTwvc3Bhbj48L2Rpdj5cclxuICAgICAgICApXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICByZXR1cm4gc3VydmV5c1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZ2V0IHN1cnZleSBxdWVzdGlvbiBmaWVsZHNcclxuICAgKi9cclxuICBnZXRTdXJ2ZXlRdWVzdGlvbkZpZWxkcyA9ICgpOiBQcm9taXNlPGFueVtdPiA9PiB7XHJcbiAgICBjb25zdCBzdXJ2ZXlJdGVtSWQgPSB0aGlzLnByb3BzLmNvbmZpZy5zdXJ2ZXlJdGVtSWRcclxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGlmIChzdXJ2ZXlJdGVtSWQgJiYgdGhpcy5wcm9wcy50b2tlbiAmJiB0aGlzLkFQSS5nZXRGb3JtKSB7XHJcbiAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7XHJcbiAgICAgICAgICAgIGl0ZW1JZDogc3VydmV5SXRlbUlkLFxyXG4gICAgICAgICAgICB0b2tlbjogdGhpcy5wcm9wcy50b2tlbixcclxuICAgICAgICAgICAgcG9ydGFsVXJsOiB0aGlzLnByb3BzLmNvbmZpZy5wb3J0YWxVcmwgfHwgdGhpcy5wcm9wcy5wb3J0YWxVcmwgfHwgJ2h0dHBzOi8vd3d3LmFyY2dpcy5jb20nXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5BUEkuZ2V0Rm9ybShwYXJhbXMpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZpZWxkcyA9IFtdXHJcbiAgICAgICAgY29uc3QgbG9jYWxlID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbnRleHQubG9jYWxlIHx8ICdlbidcclxuICAgICAgICBpZiAocmVzICYmIHJlcy5xdWVzdGlvbnMgJiYgcmVzLnF1ZXN0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAvLyBmbGF0IHRoZSBxdWVzdGlvbnMgdHJlZSwgbW92ZSB0aGUgcXVlc3Rpb25zIG91dCBpZiB0aGV5IGFyZSBpbiB0aGUgZ3JvdXAuXHJcbiAgICAgICAgICBjb25zdCBxdWVzdGlvbnMgPSBzdXJ2ZXkxMjNTZXJ2aWNlLmZsYXRRdWVzdGlvbnMocmVzLnF1ZXN0aW9ucylcclxuXHJcbiAgICAgICAgICBxdWVzdGlvbnMuZm9yRWFjaCgocTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNob3J0VHlwZSA9IChxLnR5cGUgKyAnJykucmVwbGFjZSgnZXNyaVF1ZXN0aW9uVHlwZScsICcnKVxyXG4gICAgICAgICAgICBpZiAocS5maWVsZE5hbWUgfHwgWydnZW9wb2ludCcsICdwb2x5bGluZScsICdwb2x5Z29uJ10uaW5jbHVkZXMoc2hvcnRUeXBlLnRvTG93ZXJDYXNlKCkpKSB7XHJcbiAgICAgICAgICAgICAgZmllbGRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogcS5maWVsZE5hbWUgfHwgcS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IHN1cnZleTEyM1NlcnZpY2UuZ2V0UXVlc0xhYmVsU3RyaW5nKHEsIHsgbG9jYWxlczogcmVzLmxvY2FsZXMsIGN1cnJlbnRMb2NhbGU6IGxvY2FsZSB9KVxyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocmVzLmVycm9yICYmIHJlcy5lcnJvci5tZXNzYWdlKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0Nhbm5vdCBnZXQgc3VydmV5IHF1ZXN0aW9uIGZpZWxkcyBmb3Igc3VydmV5OiAnICsgc3VydmV5SXRlbUlkLCByZXMuZXJyb3IubWVzc2FnZSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgc3VydmV5UXVlc3Rpb25GaWVsZHM6IGZpZWxkc1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIGZpZWxkc1xyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogc2hvdyBzdXJ2ZXkxMjMgZGVzaWduZXIgbW9kYWxcclxuICAgKi9cclxuICBzaG93U3VydmV5MTIzRGVzaWduZXJNb2RhbCAoc3VydmV5SXRlbUlkPzogc3RyaW5nKSB7XHJcbiAgICBzdXJ2ZXlJdGVtSWQgPSBzdXJ2ZXlJdGVtSWQgfHwgdGhpcy5wcm9wcy5jb25maWcuc3VydmV5SXRlbUlkXHJcbiAgICBjb25zdCBzZXNzaW9uTWFuYWdlciA9IFNlc3Npb25NYW5hZ2VyLmdldEluc3RhbmNlKClcclxuICAgIGNvbnN0IHBvcnRhbFVybCA9IHRoaXMucHJvcHMuY29uZmlnLnBvcnRhbFVybCB8fCB0aGlzLnByb3BzLnBvcnRhbFVybFxyXG5cclxuICAgIGlmICghc3VydmV5SXRlbUlkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignY2Fubm90IGdldCBzdXJ2ZXkgaXRlbSBpZCB0byBvcGVuIHN1cnZleTEyMyBkZXNpZ25lcicpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBwb3B1cCB3aW5kb3cgYW5kIGVtYmVkIHN1cnZleTEyMyBkZXNpZ25lclxyXG4gICAgICovXHJcbiAgICBsZXQgdXJsID0gc3VydmV5MTIzU2VydmljZS5nZXRTdXJ2ZXkxMjNEZXNpZ25lclVybChzdXJ2ZXlJdGVtSWQsIHtcclxuICAgICAgcG9ydGFsVXJsOiBwb3J0YWxVcmxcclxuICAgIH0pXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB3ZSBuZWVkIHRvIGFkZCBhY2Nlc3NfdG9rZW4gLyB1c2VybmFtZSAvIGV4cGlyZXNfaW4gaW4gaGFzaFxyXG4gICAgICogdG8gdGVsbCBzdXJ2ZXkxMjMgd2Vic2l0ZSB0byBwYXJzZSB0aGUgaGFzaCB0byB1c2UgdGhlIHRva2VuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0IHNlc3Npb24gPSBzZXNzaW9uTWFuYWdlci5nZXRNYWluU2Vzc2lvbigpXHJcbiAgICBpZiAoc2Vzc2lvbiAmJiBzZXNzaW9uLnRva2VuICYmIHNlc3Npb24udXNlcm5hbWUgJiYgc2Vzc2lvbi50b2tlbkR1cmF0aW9uKSB7XHJcbiAgICAgIHVybCArPSBgI2FjY2Vzc190b2tlbj0ke3Nlc3Npb24udG9rZW59JnVzZXJuYW1lPSR7c2Vzc2lvbi51c2VybmFtZX0mZXhwaXJlc19pbj0ke3Nlc3Npb24udG9rZW5EdXJhdGlvbn1gXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzaG93IG1vZGFsXHJcbiAgICAgKi9cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBtb2RhbElzT3BlbjogdHJ1ZSxcclxuICAgICAgbmV3U3VydmV5TXNnOiBudWxsXHJcbiAgICB9KVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2Fubm90IHVzZSB3aW5kb3cub3BlbiBiZWNhdXNlIGFkZHJlc3MgYmFyIHdpbGwgYmUgc2hvd24uXHJcbiAgICAgKiB0cnkgdG8gdXNlIG1vZGFsIGFuZCBpZnJhbWUgdG8gc2hvdyBzdXJ2ZXkxMjMgZGVzaWduZXIgd2VicGFnZVxyXG4gICAgICovXHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgIGNvbnN0IHNlbGYgPSB0aGlzXHJcbiAgICBsZXQgaW5kZXggPSAwXHJcbiAgICBjb25zdCBjaGVja1RpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICBpZiAoIXNlbGYuc3RhdGUubW9kYWxJc09wZW4pIHtcclxuICAgICAgICBzZWxmLnNldFN0YXRlKHtcclxuICAgICAgICAgIG1vZGFsSXNPcGVuOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICBpbmRleCsrXHJcbiAgICAgIGNvbnN0IHRhcmdldDogYW55ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1cnZleTEyMy1kZXNpZ25lcicpXHJcbiAgICAgIGlmICh0YXJnZXQgfHwgaW5kZXggPiAxMDApIHtcclxuICAgICAgICBjbGVhckludGVydmFsKGNoZWNrVGltZXIpXHJcbiAgICAgICAgdGFyZ2V0LnNyYyA9IHVybFxyXG4gICAgICB9XHJcbiAgICB9LCA1MClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHNob3cgc2V0dGluZyBwYWdlXHJcbiAgICovXHJcbiAgc2hvd1NldHRpbmdQYWdlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIG1vZGU6ICdzZXR0aW5ncydcclxuICAgIH0pXHJcbiAgICAvKipcclxuICAgICAqIGdldCBzdXJ2ZXkgcXVlc3Rpb24gZmllbGRzXHJcbiAgICAgKi9cclxuICAgIHRoaXMuZ2V0U3VydmV5UXVlc3Rpb25GaWVsZHMoKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogaGFuZGxlIGNsb3NlIG1vZGFsXHJcbiAgICovXHJcbiAgaGFuZGxlQ2xvc2VNb2RhbCA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnN0YXRlLnN1cnZleUNoYW5nZWQpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgaXNTaG93Q2xvc2VEZXNpZ25lckFsZXJ0OiB0cnVlXHJcbiAgICAgIH0pXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIG1vZGFsSXNPcGVuOiBmYWxzZVxyXG4gICAgfSlcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBzdXJ2ZXlDaGFuZ2VkOiBmYWxzZVxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLnNob3dTZXR0aW5nUGFnZSgpXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB1cGRhdGUgc3VydmV5IGl0ZW1pZCBpbiBwcm9wcyBjb25maWdcclxuICAgICAqL1xyXG4gICAgY29uc3Qgc3VydmV5SXRlbUlkID0gdGhpcy5zdGF0ZS5uZXdTdXJ2ZXlJdGVtSWQgfHwgdGhpcy5wcm9wcy5jb25maWcuc3VydmV5SXRlbUlkXHJcbiAgICBpZiAoc3VydmV5SXRlbUlkKSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25TZXR0aW5nQ2hhbmdlKHtcclxuICAgICAgICBpZDogdGhpcy5wcm9wcy5pZCxcclxuICAgICAgICBjb25maWc6IHRoaXMucHJvcHMuY29uZmlnLnNldCgnc3VydmV5SXRlbUlkJywgc3VydmV5SXRlbUlkKS5zZXQoJ3RpbWVzdGFtcCcsIERhdGUubm93KCkpLnNldCgnbW9kZScsICduZXcnKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdXBkYXRlIHRoZSBzdXJ2ZXkgbGlzdFxyXG4gICAgICovXHJcbiAgICB0aGlzLnF1ZXJ5U3VydmV5KClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGhhbmRsZXIgY2xvc2UgZGVzaW5nZXIgYWxlcnQgcG9wdXBcclxuICAgKi9cclxuICBoYW5kbGVDbG9zZURlc2lnbmVyQWxlcnQgPSAoaXNPaykgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGlzU2hvd0Nsb3NlRGVzaWduZXJBbGVydDogZmFsc2VcclxuICAgIH0pXHJcbiAgICBpZiAoaXNPaykge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBzdXJ2ZXlDaGFuZ2VkOiBmYWxzZVxyXG4gICAgICB9KVxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLmhhbmRsZUNsb3NlTW9kYWwoKVxyXG4gICAgICB9LCAwKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25UYWdJbnB1dENoYW5nZSA9IChkYXRhOiBzdHJpbmdbXSkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIG5ld1N1cnZleVRhZ3M6IGRhdGFcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBnZXQgdGh1bWJuYWlsIHVybCBmcm9tIHBvcnRhbFxyXG4gICAqL1xyXG4gIGdldFRodW1ibmFpbFVybCA9ICgpID0+IHtcclxuICAgIGNvbnN0IHBvcnRhbFVybCA9IHRoaXMucHJvcHMuY29uZmlnLnBvcnRhbFVybCB8fCB0aGlzLnByb3BzLnBvcnRhbFVybCB8fCAnaHR0cHM6Ly93d3cuYXJjZ2lzLmNvbSdcclxuICAgIGNvbnN0IHN1cnZleUl0ZW1JZCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRTdXJ2ZXkuaWRcclxuICAgIGNvbnN0IHRodW1ibmFpbCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRTdXJ2ZXkudGh1bWJuYWlsXHJcbiAgICBpZiAoKHRodW1ibmFpbCArICcnKS5zdGFydHNXaXRoKCdodHRwOi8vJykgfHwgKHRodW1ibmFpbCArICcnKS5zdGFydHNXaXRoKCdodHRwczovLycpKSB7XHJcbiAgICAgIHJldHVybiB0aHVtYm5haWxcclxuICAgIH1cclxuICAgIHJldHVybiBgJHtwb3J0YWxVcmx9L3NoYXJpbmcvcmVzdC9jb250ZW50L2l0ZW1zLyR7c3VydmV5SXRlbUlkfS9pbmZvLyR7dGh1bWJuYWlsfT90b2tlbj0ke3RoaXMucHJvcHMudG9rZW59YFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogc2V0IHN1cnZleSBpdGVtIGlkXHJcbiAgICogdXBkYXRlIHRoaXMucHJvcHMuY29uZmlnXHJcbiAgICovXHJcbiAgc2V0U3VydmV5SXRlbUlkID0gKCkgPT4ge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRTdXJ2ZXkgPSB0aGlzLnN0YXRlLnNlbGVjdGVkU3VydmV5XHJcbiAgICBpZiAoc2VsZWN0ZWRTdXJ2ZXkgJiYgc2VsZWN0ZWRTdXJ2ZXkuaWQpIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIHVwZGF0ZSBwcm9wcyB0byBoYXZlIHRoZSBzYW1lIHNldHRpbmcgaW4gcnVudGltZVxyXG4gICAgICAgKiBhbmQgZW5zdXJlIHRoZSBoaWRlcyBhcmUgYWxsIHN3aXRjaGVkIG9uXHJcbiAgICAgICAqL1xyXG4gICAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZSh7XHJcbiAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXHJcbiAgICAgICAgY29uZmlnOiB0aGlzLnByb3BzLmNvbmZpZy5zZXQoJ3N1cnZleUl0ZW1JZCcsIHNlbGVjdGVkU3VydmV5LmlkKS5zZXQoJ2hpZGVzJywgWyduYXZiYXInLCAnaGVhZGVyJywgJ2Rlc2NyaXB0aW9uJywgJ2Zvb3RlcicsICd0aGVtZSddKS5zZXQoJ21vZGUnLCAnbmV3JylcclxuICAgICAgfSlcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBzd2l0Y2ggdG8gc2V0dGluZ3MgcGFnZVxyXG4gICAgICAgKi9cclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgbW9kZTogJ3NldHRpbmdzJ1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZWRpdCBzdXJ2ZXlcclxuICAgKi9cclxuICBlZGl0U3VydmV5ID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zaG93U3VydmV5MTIzRGVzaWduZXJNb2RhbCgpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBzZXQgYXBwZWFyYW5jZVxyXG4gICAqL1xyXG4gIHNldEFwcGVhcmFuY2UgPSAoaXNDaGVja2VkOiBib29sZWFuLCB2YWx1ZTogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCBoaWRlczogYW55ID0gW10uY29uY2F0KHRoaXMucHJvcHMuY29uZmlnLmhpZGVzIHx8IFtdKVxyXG4gICAgLy8gbGV0IGlzQ2hlY2tlZCA9IHRhcmdldC5jaGVja2VkO1xyXG5cclxuICAgIGlmIChpc0NoZWNrZWQgJiYgaGlkZXMuaW5kZXhPZih2YWx1ZSkgPj0gMCkge1xyXG4gICAgICBjb25zdCBwb3MgPSBoaWRlcy5pbmRleE9mKHZhbHVlKVxyXG4gICAgICBoaWRlcy5zcGxpY2UocG9zLCAxKVxyXG4gICAgICAvLyBoaWRlcyA9IGhpZGVzLmNvbmNhdChbdmFsdWVdKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaGlkZXMucHVzaCh2YWx1ZSlcclxuICAgIH1cclxuICAgIHRoaXMucHJvcHMub25TZXR0aW5nQ2hhbmdlKHtcclxuICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXHJcbiAgICAgIGNvbmZpZzogdGhpcy5wcm9wcy5jb25maWcuc2V0KCdoaWRlcycsIGhpZGVzKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHNldCBzdXJ2ZXkgbW9kZTogbmV3L3ZpZXcvZWRpdFxyXG4gICAqIEBwYXJhbSBtb2RlXHJcbiAgICogQHJldHVybnNcclxuICAgKi9cclxuICBzZXRNb2RlID0gKG1vZGUpID0+IHtcclxuICAgIGlmICh0aGlzLnByb3BzLmNvbmZpZy5tb2RlID09PSBtb2RlKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2Uoe1xyXG4gICAgICBpZDogdGhpcy5wcm9wcy5pZCxcclxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLmNvbmZpZy5zZXQoJ21vZGUnLCBtb2RlKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGhhbmRsZXIgZGF0YSBzb3VyY2UgY2hhbmdlXHJcbiAgICovXHJcbiAgaGFuZGxlVXNlRGF0YVNvdXJjZUNoYW5nZSA9ICh1c2VEYXRhU291cmNlczogVXNlRGF0YVNvdXJjZVtdKTogdm9pZCA9PiB7XHJcbiAgICBsZXQgZGF0YVNvdXJjZUlkXHJcbiAgICAvLyBkYXRhIHNvdWNlIGNsZWFyZWRcclxuICAgIGlmICghdXNlRGF0YVNvdXJjZXMgfHwgIXVzZURhdGFTb3VyY2VzLmxlbmd0aCkge1xyXG4gICAgICBkYXRhU291cmNlSWQgPSBudWxsXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkYXRhU291cmNlSWQgPSB1c2VEYXRhU291cmNlc1swXS5kYXRhU291cmNlSWRcclxuICAgIH1cclxuICAgIHRoaXMucHJvcHMub25TZXR0aW5nQ2hhbmdlKHtcclxuICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXHJcbiAgICAgIHVzZURhdGFTb3VyY2VzOiBkYXRhU291cmNlSWQgPyBbe1xyXG4gICAgICAgIGRhdGFTb3VyY2VJZDogZGF0YVNvdXJjZUlkLFxyXG4gICAgICAgIG1haW5EYXRhU291cmNlSWQ6IHVzZURhdGFTb3VyY2VzWzBdLm1haW5EYXRhU291cmNlSWQsXHJcbiAgICAgICAgLy8gZGF0YVZpZXdJZDogdXNlRGF0YVNvdXJjZXNbMF0uZGF0YVZpZXdJZCxcclxuICAgICAgICByb290RGF0YVNvdXJjZUlkOiB1c2VEYXRhU291cmNlc1swXS5yb290RGF0YVNvdXJjZUlkXHJcbiAgICAgIH1dIDogbnVsbCxcclxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLmNvbmZpZy5zZXQoJ2xheWVyVmlld0luZm8nLCB1c2VEYXRhU291cmNlc1swXSkuc2V0KCdmaWVsZFF1ZXN0aW9uTWFwcGluZycsIG51bGwpXHJcbiAgICB9KVxyXG4gICAgLy8gY29uc3QgZGF0YVNvdXJjZUlkID0gdXNlRGF0YVNvdXJjZXNbMF0uZGF0YVNvdXJjZUlkXHJcblxyXG4gICAgY29uc3QgZGF0YVNvdXJjZTogYW55ID0gdGhpcy5kc01hbmFnZXIuZ2V0RGF0YVNvdXJjZShkYXRhU291cmNlSWQpXHJcbiAgICBjb25zdCBsYXllciA9IGRhdGFTb3VyY2UgPyBkYXRhU291cmNlLmdldExheWVyRGVmaW5pdGlvbigpIDogbnVsbFxyXG4gICAgLy8gY29uc3QgbGF5ZXIgPSBkYXRhU291cmNlID8gKGRhdGFTb3VyY2UubGF5ZXIgPyBkYXRhU291cmNlLmxheWVyIDogZGF0YVNvdXJjZSkgOiBudWxsXHJcbiAgICBjb25zdCBtb2RlID0gdGhpcy5wcm9wcy5jb25maWcubW9kZSB8fCAnbmV3J1xyXG4gICAgaWYgKG1vZGUgPT09ICduZXcnKSB7XHJcbiAgICAgIGlmICghZGF0YVNvdXJjZUlkIHx8ICFkYXRhU291cmNlIHx8ICFsYXllcikge1xyXG4gICAgICAgIHRoaXMuY2xlYXJNYXBwaW5nKClcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBsYXllclZpZXdJbmZvSW5OZXdNb2RlOiB1c2VEYXRhU291cmNlc1swXSxcclxuICAgICAgICBkc0ZlYXR1cmVMYXllcjogbGF5ZXIsXHJcbiAgICAgICAgZHNGZWF0dXJlTGF5ZXJGaWVsZHM6IHRoaXMuZ2V0TGF5ZXJGaWVsZHMobGF5ZXIpXHJcbiAgICAgIH0pXHJcbiAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdlZGl0Jykge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBsYXllclZpZXdJbmZvSW5FZGl0TW9kZTogdXNlRGF0YVNvdXJjZXNbMF1cclxuICAgICAgfSlcclxuICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ3ZpZXcnKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGxheWVyVmlld0luZm9JblZpZXdNb2RlOiB1c2VEYXRhU291cmNlc1swXVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYWN0aXZlTGlua0RhdGFDaGFuZ2UgPSAoZSkgPT4ge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0XHJcbiAgICBjb25zdCBpc0FjdGl2ZSA9IHRhcmdldC5jaGVja2VkXHJcbiAgICAvLyBpZiAoaXNBY3RpdmUpIHtcclxuICAgIC8vICAgdGhpcy51cGRhdGVNYXBXaWRnZXRMaXN0KClcclxuICAgIC8vIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHVwZGF0ZSBhY3RpdmVMaW5rRGF0YSBpbiBkYXRhIHNvdXJjZVxyXG4gICAgICovXHJcbiAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZSh7XHJcbiAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxyXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMuY29uZmlnLnNldCgnYWN0aXZlTGlua0RhdGEnLCBpc0FjdGl2ZSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBjaGFuZ2UgdGhlIGxheWVyIGZpZWxkIGluIGZpZWxkLXF1ZXN0aW9uIG1hcHBpbmcgcGFuZWxcclxuICAgKi9cclxuICBhZGRNYXBwcGluZ0NoYW5nZSA9ICh0eXBlOiBzdHJpbmcsIGU6IGFueSkgPT4ge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0XHJcbiAgICBjb25zdCB2YWx1ZSA9IHRhcmdldC52YWx1ZVxyXG4gICAgbGV0IGZpZWxkID0gdGhpcy5zdGF0ZS5hZGRNYXBwaW5nID8gdGhpcy5zdGF0ZS5hZGRNYXBwaW5nLmZpZWxkIDogbnVsbFxyXG4gICAgbGV0IHF1ZXN0aW9uID0gdGhpcy5zdGF0ZS5hZGRNYXBwaW5nID8gdGhpcy5zdGF0ZS5hZGRNYXBwaW5nLnF1ZXN0aW9uIDogbnVsbFxyXG4gICAgaWYgKHR5cGUgPT09ICdmaWVsZCcpIHtcclxuICAgICAgZmllbGQgPSB2YWx1ZVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcXVlc3Rpb24gPSB2YWx1ZVxyXG4gICAgfVxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFkZE1hcHBpbmc6IHtcclxuICAgICAgICBmaWVsZDogZmllbGQsXHJcbiAgICAgICAgcXVlc3Rpb246IHF1ZXN0aW9uXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBjbGVhciB0aGUgc2V0dGluZyBvZiBmaWVsZC1xdWVzdGlvbiBtYXBwaW5nXHJcbiAgICovXHJcbiAgY2xlYXJNYXBwaW5nID0gKCkgPT4ge1xyXG4gICAgLy8gdG9kbzpcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHNob3cgZWRpdCBtYXBwaW5nIHBhbmVsXHJcbiAgICovXHJcbiAgc2hvd0VkaXRNYXBwaW5nUGFuZWwgPSAoaW5kZXgsIGU/KSA9PiB7XHJcbiAgICBjb25zdCBjdXJFZGl0TWFwcGluZyA9IHRoaXMuc3RhdGUuZWRpdE1hcHBpbmcgfHwge31cclxuICAgIGlmIChjdXJFZGl0TWFwcGluZy5pbmRleCA9PT0gaW5kZXgpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBsZXQgbWFwcGluZ3MgPSB0aGlzLnByb3BzLmNvbmZpZy5maWVsZFF1ZXN0aW9uTWFwcGluZyB8fCBbXVxyXG4gICAgbWFwcGluZ3MgPSAoaW5kZXggPj0gMCAmJiBpbmRleCA8IG1hcHBpbmdzLmxlbmd0aCkgPyBtYXBwaW5nc1tpbmRleF0gOiBudWxsXHJcbiAgICBjb25zdCBuZXdNYXBwaW5nID0gT2JqZWN0LmFzc2lnbih7fSwgbWFwcGluZ3MpIGFzIGFueVxyXG4gICAgbmV3TWFwcGluZy5pbmRleCA9IGluZGV4XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgZWRpdE1hcHBpbmc6IG5ld01hcHBpbmcsXHJcbiAgICAgIGFkZE1hcHBpbmc6IG51bGxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBjaGFuZ2UgdGhlIGVkaXQgbWFwcGluZ1xyXG4gICAqL1xyXG4gIGNoYW5nZUVkaXRNYXBwaW5nID0gKHR5cGU6IHN0cmluZywgZTogYW55KSA9PiB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXRcclxuICAgIGNvbnN0IHZhbHVlID0gdGFyZ2V0LnZhbHVlXHJcbiAgICBjb25zdCBjdXJTZXR0aW5nID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5lZGl0TWFwcGluZyB8fCB7fSlcclxuICAgIGlmICh0eXBlID09PSAnZmllbGQnKSB7XHJcbiAgICAgIGN1clNldHRpbmcuZmllbGQgPSB2YWx1ZVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3VyU2V0dGluZy5xdWVzdGlvbiA9IHZhbHVlXHJcbiAgICB9XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgZWRpdE1hcHBpbmc6IGN1clNldHRpbmdcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBjaGFuZ2UgYW4gZmllbGQvcXVlc3Rpb24gbWFwcGluZ1xyXG4gICAqL1xyXG4gIGVkaXRNYXBwaW5nID0gKGluZGV4KSA9PiB7XHJcbiAgICBjb25zdCBtYXBwaW5nID0gW10uY29uY2F0KHRoaXMucHJvcHMuY29uZmlnLmZpZWxkUXVlc3Rpb25NYXBwaW5nIHx8IFtdKVxyXG4gICAgY29uc3QgY3VyRWRpdE1hcHBpbmcgPSB0aGlzLnN0YXRlLmVkaXRNYXBwaW5nIHx8IHt9XHJcbiAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IG1hcHBpbmcubGVuZ3RoKSB7XHJcbiAgICAgIG1hcHBpbmdbaW5kZXhdID0ge1xyXG4gICAgICAgIGZpZWxkOiBjdXJFZGl0TWFwcGluZy5maWVsZCxcclxuICAgICAgICBxdWVzdGlvbjogY3VyRWRpdE1hcHBpbmcucXVlc3Rpb25cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gZGVsZXRlIG1hcHBpbmdbZmllbGRdO1xyXG4gICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2Uoe1xyXG4gICAgICBpZDogdGhpcy5wcm9wcy5pZCxcclxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLmNvbmZpZy5zZXQoJ2ZpZWxkUXVlc3Rpb25NYXBwaW5nJywgbWFwcGluZylcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBhZGQgY29ubmVjdGlvbiBmb3IgZmllbGQgYW5kIHF1ZXN0aW9uXHJcbiAgICovXHJcbiAgYWN0aXZlQWRkRmllbGRRdWVzdGlvbkNvbm5QYW5lbCA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBhZGRNYXBwaW5nOiB7XHJcbiAgICAgICAgZmllbGQ6IG51bGwsXHJcbiAgICAgICAgcXVlc3Rpb246IG51bGxcclxuICAgICAgfSxcclxuICAgICAgZWRpdE1hcHBpbmc6IG51bGxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBoaWRlIHRoZSBmaWVsZC1xdWVzdGlvbiBwYW5lbFxyXG4gICAqL1xyXG4gIGRlYWN0aXZlQWRkRmllbGRRdWVzdGlvbkNvbm5QYW5lbCA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBhZGRNYXBwaW5nOiBudWxsXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ29ubmVjdGlvbiA9IChpbmRleCwgZT8pID0+IHtcclxuICAgIGlmIChlKSB7XHJcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcclxuICAgIH1cclxuICAgIGNvbnN0IG1hcHBpbmcgPSBbXS5jb25jYXQodGhpcy5wcm9wcy5jb25maWcuZmllbGRRdWVzdGlvbk1hcHBpbmcgfHwgW10pXHJcbiAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IG1hcHBpbmcubGVuZ3RoKSB7XHJcbiAgICAgIG1hcHBpbmcuc3BsaWNlKGluZGV4LCAxKVxyXG4gICAgfVxyXG4gICAgLy8gZGVsZXRlIG1hcHBpbmdbZmllbGRdO1xyXG4gICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2Uoe1xyXG4gICAgICBpZDogdGhpcy5wcm9wcy5pZCxcclxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLmNvbmZpZy5zZXQoJ2ZpZWxkUXVlc3Rpb25NYXBwaW5nJywgbWFwcGluZylcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBhZGQgYSBmaWVsZC1xdWVzdGlvbiBtYXBwaW5nXHJcbiAgICovXHJcbiAgYWRkRmllbGRRdWVzdGlvbkNvbm4gPSAoZSkgPT4ge1xyXG4gICAgY29uc3QgZmllbGQgPSB0aGlzLnN0YXRlLmFkZE1hcHBpbmcuZmllbGRcclxuICAgIGNvbnN0IHF1ZXN0aW9uID0gdGhpcy5zdGF0ZS5hZGRNYXBwaW5nLnF1ZXN0aW9uXHJcbiAgICBpZiAoIWZpZWxkIHx8ICFxdWVzdGlvbikge1xyXG4gICAgICBjb25zb2xlLmxvZygnUGxlYXNlIGVuc3VyZSBmaWVsZC9xdWVzdGlvbiBpcyBub3QgbnVsbC4nKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBtYXBwaW5nID0gW10uY29uY2F0KHRoaXMucHJvcHMuY29uZmlnLmZpZWxkUXVlc3Rpb25NYXBwaW5nIHx8IFtdKVxyXG4gICAgbWFwcGluZy5wdXNoKHtcclxuICAgICAgZmllbGQ6IGZpZWxkLFxyXG4gICAgICBxdWVzdGlvbjogcXVlc3Rpb25cclxuICAgIH0pXHJcbiAgICAvLyBtYXBwaW5nW2ZpZWxkXSA9IHF1ZXN0aW9uO1xyXG5cclxuICAgIHRoaXMucHJvcHMub25TZXR0aW5nQ2hhbmdlKHtcclxuICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXHJcbiAgICAgIGNvbmZpZzogdGhpcy5wcm9wcy5jb25maWcuc2V0KCdmaWVsZFF1ZXN0aW9uTWFwcGluZycsIG1hcHBpbmcpXHJcbiAgICB9KVxyXG4gICAgdGhpcy5kZWFjdGl2ZUFkZEZpZWxkUXVlc3Rpb25Db25uUGFuZWwoKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogb24gc3VydmV5IHF1ZXN0aW9uIGZpZWxkIGNoYW5nZWRcclxuICAgKi9cclxuICBvblN1cnZleVF1ZXN0aW9uRmllbGRDaGFuZ2VkID0gKGU6IGFueSkgPT4ge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0XHJcbiAgICBjb25zdCB2YWx1ZSA9IHRhcmdldC52YWx1ZVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdXBkYXRlIGZpZWxkcyBpbiBkYXRhIHNvdXJjZVxyXG4gICAgICovXHJcbiAgICBpZiAodmFsdWUgJiYgdmFsdWUgIT09ICdudWxsJykge1xyXG4gICAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZSh7XHJcbiAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXHJcbiAgICAgICAgY29uZmlnOiB0aGlzLnByb3BzLmNvbmZpZy5zZXQoJ3NlbGVjdGVkU3VydmV5UXVlc3Rpb25GaWVsZHMnLCBbdmFsdWVdKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogaXNEc0NvbmZpZ3VyZWRcclxuICAgKi9cclxuICBpc0RzQ29uZmlndXJlZCA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzICYmXHJcbiAgICAgIHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHJlc2V0IHN1cnZleVxyXG4gICAqL1xyXG4gIHJlc2V0U3VydmV5ID0gKCkgPT4ge1xyXG4gICAgLyoqXHJcbiAgICAgKiByZXNldCBzdXJ2ZXkgaXRlbSBpZFxyXG4gICAgICovXHJcbiAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZSh7XHJcbiAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxyXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMuY29uZmlnLnNldCgnc3VydmV5SXRlbUlkJywgbnVsbCkuc2V0KCdoaWRlcycsIFtdKVxyXG4gICAgICAgIC5zZXQoJ2VtYmVkcycsIFsnZnVsbFNjcmVlbicsICdvblN1Ym1pdHRlZCddKVxyXG4gICAgICAgIC5zZXQoJ3NlbGVjdGVkU3VydmV5UXVlc3Rpb25GaWVsZHMnLCBbXSlcclxuICAgICAgICAuc2V0KCdmaWVsZFF1ZXN0aW9uTWFwcGluZycsIFtdKVxyXG4gICAgICAgIC5zZXQoJ2FjdGl2ZUxpbmtEYXRhJywgZmFsc2UpXHJcbiAgICAgICAgLnNldCgnZHNUeXBlJywgbnVsbCkuc2V0KCdzZWxlY3RlZFN1cnZleScsIG51bGwpXHJcbiAgICAgICAgLnNldCgnbW9kZScsICduZXcnKVxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgbW9kZTogJ3N1cnZleS1jcmVhdGVTdXJ2ZXknLFxyXG4gICAgICBzZWxlY3RlZFN1cnZleTogbnVsbCxcclxuICAgICAgc2VsZWN0ZWRNeU93blN1cnZleTogbnVsbCxcclxuICAgICAgc2VsZWN0ZWRTaGFyZWRTdXJ2ZXk6IG51bGwsXHJcbiAgICAgIGN1cnJlbnRBY3RpdmVTdXJ2ZXk6IG51bGwsXHJcbiAgICAgIGlzQ2hlY2tlZFN1cnZleUl0ZW1JZDogZmFsc2UsXHJcbiAgICAgIHN1cnZleVF1ZXN0aW9uRmllbGRzOiBbXSxcclxuICAgICAgZHNNYXBWaWV3OiBudWxsLFxyXG4gICAgICBkc0ZlYXR1cmVMYXllcjogbnVsbCxcclxuICAgICAgZHNGZWF0dXJlTGF5ZXJGaWVsZHM6IFtdXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogcmVuZGVyXHJcbiAgICovXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogc2hvdyBzZXR0aW5nIHBhZ2VcclxuICAgICAqL1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRTdXJ2ZXkgJiYgdGhpcy5wcm9wcy5jb25maWcuc3VydmV5SXRlbUlkICYmIHRoaXMuc3RhdGUuaXNDaGVja2VkU3VydmV5SXRlbUlkID09PSBmYWxzZSkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBpc0NoZWNrZWRTdXJ2ZXlJdGVtSWQ6IHRydWVcclxuICAgICAgfSlcclxuICAgICAgdGhpcy5zaG93U2V0dGluZ1BhZ2UoKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmVuZGVyXHJcbiAgICAgKi9cclxuICAgIHJldHVybiA8ZGl2IGNzcz17Z2V0U3R5bGUodGhpcy5wcm9wcy50aGVtZSl9IGNsYXNzTmFtZT1cImppbXUtd2lkZ2V0LXNldHRpbmcgc3VydmV5MTIzXCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VydmV5MTIzX19zZWN0aW9uXCIgc3R5bGU9e1xyXG4gICAgICAgICh0aGlzLnN0YXRlLm1vZGUuaW5kZXhPZignc3VydmV5LScpICE9PSAtMSlcclxuICAgICAgICAgID8geyBkaXNwbGF5OiAnYmxvY2snIH1cclxuICAgICAgICAgIDogeyBkaXNwbGF5OiAnbm9uZScgfVxyXG4gICAgICB9ID5cclxuICAgICAgICA8U2V0dGluZ1NlY3Rpb24gcm9sZT0ncmFkaW9ncm91cCcgYXJpYS1sYWJlbD17dGhpcy5ubHMoJ2Nob29zZVN1cnZleScpfT5cclxuICAgICAgICAgIDxTZXR0aW5nUm93PlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJjaG9vc2Utc3VydmV5LWxhYmVsXCI+e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdjaG9vc2VTdXJ2ZXknLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmNob29zZVN1cnZleSB9KX08L3A+XHJcbiAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgPFJhZGlvIG5hbWU9XCJzdXJ2ZXktc3VydmV5XCIgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXJcIiBpZD1cInN1cnZleS1zdXJ2ZXktY3JlYXRlTmV3U3VydmV5XCJcclxuICAgICAgICAgICAgICBjaGVja2VkPXt0aGlzLnN0YXRlLm1vZGUgPT09ICdzdXJ2ZXktY3JlYXRlU3VydmV5J31cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgbW9kZTogJ3N1cnZleS1jcmVhdGVTdXJ2ZXknIH0pIH19IC8+XHJcbiAgICAgICAgICAgIDxMYWJlbCBmb3I9XCJzdXJ2ZXktc3VydmV5LWNyZWF0ZU5ld1N1cnZleVwiIGNsYXNzTmFtZT1cImN1cnNvci1wb2ludGVyIHNlbGVjdC1zdXJ2ZXktbGFiZWxcIj5cclxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2NyZWF0ZU5ld1N1cnZleUxhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5jcmVhdGVOZXdTdXJ2ZXlMYWJlbCB9KX1cclxuICAgICAgICAgICAgPC9MYWJlbD5cclxuICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cclxuICAgICAgICAgIDxTZXR0aW5nUm93PlxyXG4gICAgICAgICAgICA8UmFkaW8gbmFtZT1cInN1cnZleS1zdXJ2ZXlcIiBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlclwiIGlkPVwic3VydmV5LXN1cnZleS1jaG9vc2VFeGlzdGluZ1N1cnZleVwiXHJcbiAgICAgICAgICAgICAgY2hlY2tlZD17dGhpcy5zdGF0ZS5tb2RlID09PSAnc3VydmV5LXNlbGVjdEV4aXN0aW5nU3VydmV5J31cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4geyB0aGlzLm9uU3VydmV5U291cmNlVHlwZUNoYW5nZSgnc3VydmV5LXNlbGVjdEV4aXN0aW5nU3VydmV5JykgfSB9IC8+XHJcbiAgICAgICAgICAgIDxMYWJlbCBmb3I9XCJzdXJ2ZXktc3VydmV5LWNob29zZUV4aXN0aW5nU3VydmV5XCIgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXIgc2VsZWN0LXN1cnZleS1sYWJlbFwiPlxyXG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnY2hvb3NlU3VydmV5TGFiZWwxJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5jaG9vc2VTdXJ2ZXlMYWJlbDEgfSl9XHJcbiAgICAgICAgICAgIDwvTGFiZWw+XHJcbiAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgPFJhZGlvIG5hbWU9XCJzdXJ2ZXktc3VydmV5XCIgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXJcIiBpZD1cInN1cnZleS1zdXJ2ZXktY2hvb3NlRXhpc3RpbmdTaGFyZWRTdXJ2ZXlcIlxyXG4gICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUubW9kZSA9PT0gJ3N1cnZleS1zZWxlY3RFeGlzdGluZ1NoYXJlZFN1cnZleSd9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHsgdGhpcy5vblN1cnZleVNvdXJjZVR5cGVDaGFuZ2UoJ3N1cnZleS1zZWxlY3RFeGlzdGluZ1NoYXJlZFN1cnZleScpIH0gfSAvPlxyXG4gICAgICAgICAgICA8TGFiZWwgZm9yPVwic3VydmV5LXN1cnZleS1jaG9vc2VFeGlzdGluZ1NoYXJlZFN1cnZleVwiIGNsYXNzTmFtZT1cImN1cnNvci1wb2ludGVyIHNlbGVjdC1zdXJ2ZXktbGFiZWxcIj5cclxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2Nob29zZVN1cnZleUxhYmVsMicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuY2hvb3NlU3VydmV5TGFiZWwyIH0pfVxyXG4gICAgICAgICAgICA8L0xhYmVsPlxyXG4gICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgIDwvU2V0dGluZ1NlY3Rpb24+XHJcblxyXG4gICAgICAgIHsvKiBzZWxlY3QgZXhpc3Rpbmcgc3VydmV5ICovfVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VydmV5MTIzX19zZWN0aW9uLXNlbGVjdEV4aXN0aW5nU3VydmV5XCIgcm9sZT1cImdyb3VwXCJcclxuICAgICAgICAgIGFyaWEtbGFiZWw9e3RoaXMubmxzKCdjaG9vc2VTdXJ2ZXlMYWJlbDEnKX1cclxuICAgICAgICAgIHN0eWxlPXsodGhpcy5zdGF0ZS5tb2RlID09PSAnc3VydmV5LXNlbGVjdEV4aXN0aW5nU3VydmV5JyB8fCB0aGlzLnN0YXRlLm1vZGUgPT09ICdzdXJ2ZXktc2VsZWN0RXhpc3RpbmdTaGFyZWRTdXJ2ZXknKVxyXG4gICAgICAgICAgICA/IHsgZGlzcGxheTogJ2Jsb2NrJyB9XHJcbiAgICAgICAgICAgIDogeyBkaXNwbGF5OiAnbm9uZScgfVxyXG4gICAgICAgIH0+XHJcbiAgICAgICAgICB7dGhpcy5zdGF0ZS5tb2RlID09PSAnc3VydmV5LXNlbGVjdEV4aXN0aW5nU3VydmV5J1xyXG4gICAgICAgICAgICA/IDxTZXR0aW5nU2VjdGlvbiBjbGFzc05hbWU9XCJzZWxlY3Qtc3VydmV5LXNlY3Rpb25cIj5cclxuICAgICAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgICAgIDxBZHZhbmNlZFNlbGVjdFxyXG4gICAgICAgICAgICAgICAgICBzaXplPSdzbSdcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3VydmV5LWRyb3Bkb3duXCJcclxuICAgICAgICAgICAgICAgICAgZmx1aWRcclxuICAgICAgICAgICAgICAgICAgc3RhdGljVmFsdWVzPXt0aGlzLnN0YXRlLmV4aXN0U3VydmV5c31cclxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZXM9e3RoaXMuc3RhdGUuc2VsZWN0ZWRNeU93blN1cnZleSA/IFt0aGlzLnN0YXRlLnNlbGVjdGVkTXlPd25TdXJ2ZXldIDogW119XHJcbiAgICAgICAgICAgICAgICAgIGFsbFRhZz17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3NlbGVjdFN1cnZleVRpcCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuc2VsZWN0U3VydmV5VGlwIH0pfVxyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkV4aXN0U3VydmV5Q2hhbmdlZH1cclxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzZWxlY3RTdXJ2ZXlUaXAnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnNlbGVjdFN1cnZleVRpcCB9KX0gLz5cclxuICAgICAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdXJ2ZXktbGlzdC1tc2dcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IHRoaXMuc3RhdGUuZXhpc3RTdXJ2ZXlNc2cgfX0+PC9kaXY+XHJcbiAgICAgICAgICAgIDwvU2V0dGluZ1NlY3Rpb24+XHJcbiAgICAgICAgICAgIDogPFNldHRpbmdTZWN0aW9uIGNsYXNzTmFtZT1cInNlbGVjdC1zdXJ2ZXktc2VjdGlvblwiPlxyXG4gICAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgICA8QWR2YW5jZWRTZWxlY3Qgc2l6ZT0nc20nIGNsYXNzTmFtZT1cInN1cnZleS1kcm9wZG93blwiIGZsdWlkIHN0YXRpY1ZhbHVlcz17dGhpcy5zdGF0ZS5leGlzdFNoYXJlZFN1cnZleXN9XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFZhbHVlcz17dGhpcy5zdGF0ZS5zZWxlY3RlZFNoYXJlZFN1cnZleSA/IFt0aGlzLnN0YXRlLnNlbGVjdGVkU2hhcmVkU3VydmV5XSA6IFtdfVxyXG4gICAgICAgICAgICAgICAgYWxsVGFnPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnc2VsZWN0U3VydmV5VGlwJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5zZWxlY3RTdXJ2ZXlUaXAgfSl9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkV4aXN0U3VydmV5Q2hhbmdlZH1cclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnc2VsZWN0U3VydmV5VGlwJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5zZWxlY3RTdXJ2ZXlUaXAgfSl9IC8+XHJcbiAgICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdXJ2ZXktbGlzdC1tc2dcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IHRoaXMuc3RhdGUuZXhpc3RTaGFyZWRTdXJ2ZXlNc2cgfX0+PC9kaXY+XHJcbiAgICAgICAgICA8L1NldHRpbmdTZWN0aW9uPlxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHsvKiBzdXJ2ZXkgZGV0YWlscyAqL31cclxuICAgICAgICAgIDxkaXYgc3R5bGU9e3tcclxuICAgICAgICAgICAgZGlzcGxheTogKHRoaXMuc3RhdGUuY3VycmVudEFjdGl2ZVN1cnZleSkgPyAnYmxvY2snIDogJ25vbmUnXHJcbiAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgPFNldHRpbmdTZWN0aW9uIHRpdGxlPXt0aGlzLm5scygnc3VydmV5RGV0YWlsTGFiZWwnKX0gY2xhc3NOYW1lPVwiY3JlYXRlLXN1cnZleS1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAodGhpcy5zdGF0ZS5jdXJyZW50QWN0aXZlU3VydmV5KVxyXG4gICAgICAgICAgICAgICAgICA/IFtcclxuICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ1JvdyBrZXk9XCJzdXJ2ZXlUaHVtbmFpbFwiPjxpbWcgc3JjPXt0aGlzLnN0YXRlLmN1cnJlbnRBY3RpdmVTdXJ2ZXkudGh1bWJuYWlsfSBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICdhdXRvJyB9fT48L2ltZz48L1NldHRpbmdSb3c+LFxyXG4gICAgICAgICAgICAgICAgICAgIDxTZXR0aW5nUm93IGtleT1cInN1cnZleVRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyB3b3JkQnJlYWs6ICdicmVhay13b3JkJywgZm9udFNpemU6ICcwLjgxMjVyZW0nLCBjb2xvcjogJyNGRkZGRkYnIH19Pnt0aGlzLnN0YXRlLmN1cnJlbnRBY3RpdmVTdXJ2ZXkudGl0bGV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ1Jvdz4sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gPFNldHRpbmdSb3cgbGFiZWw9XCJUYWdzXCI+PHAgY2xhc3NOYW1lPVwidy0xMDBcIj57dGhpcy5zdGF0ZS5zZWxlY3RlZFN1cnZleS50YWdzfTwvcD48L1NldHRpbmdSb3c+LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIDxTZXR0aW5nUm93Pnt0aGlzLnN0YXRlLnNlbGVjdGVkU3VydmV5Lm93bmVyfTwvU2V0dGluZ1Jvdz4sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGF1dGhvclxyXG4gICAgICAgICAgICAgICAgICAgIDxTZXR0aW5nUm93IGNsYXNzTmFtZT1cIml0ZW1zXCIga2V5PVwic3VydmV5QXV0aG9yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAwXCI+e3RoaXMubmxzKCdvd25lcklzJywgeyBvd25lck5hbWU6IHRoaXMuc3RhdGUuY3VycmVudEFjdGl2ZVN1cnZleS5vd25lciB8fCAnJyB9KX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L1NldHRpbmdSb3c+LFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBsYXN0IHVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIDxTZXR0aW5nUm93IGNsYXNzTmFtZT1cIml0ZW1zXCIga2V5PVwic3VydmV5Q3JlYXRpb25EYXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAwXCI+e3RoaXMubmxzKCd1cGRhdGVkT24nLCB7IHVwZGF0ZWREYXRlOiAodHlwZW9mIHRoaXMuc3RhdGUuY3VycmVudEFjdGl2ZVN1cnZleS5mb3JtSXRlbUluZm8ubW9kaWZpZWQgPT09ICdudW1iZXInKSA/IHRoaXMucHJvcHMuaW50bC5mb3JtYXREYXRlKG5ldyBEYXRlKHRoaXMuc3RhdGUuY3VycmVudEFjdGl2ZVN1cnZleS5mb3JtSXRlbUluZm8ubW9kaWZpZWQpKSA6ICcnIH0pfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ1Jvdz4sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNuaXBwZXRcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmN1cnJlbnRBY3RpdmVTdXJ2ZXkuc25pcHBldFxyXG4gICAgICAgICAgICAgICAgICAgICAgPyA8U2V0dGluZ1JvdyBjbGFzc05hbWU9XCJpdGVtc1wiIGtleT1cInN1cnZleVNuaXBwZXRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGg2PnsgdGhpcy5ubHMoJ3N1bW1hcnlMYWJlbCcpIH08L2g2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAwXCI+e3RoaXMuc3RhdGUuY3VycmVudEFjdGl2ZVN1cnZleS5zbmlwcGV0fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluc2VydCBzdXJ2ZXkgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgPFNldHRpbmdSb3cga2V5PVwic3VydmV5SW5zZXJ0QnRuXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJwcmltYXJ5XCIgY2xhc3NOYW1lPVwidy0xMDBcIiBvbkNsaWNrPXt0aGlzLnNldFN1cnZleUl0ZW1JZH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnaW5zZXJ0TGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmluc2VydExhYmVsIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgOiBudWxsXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8L1NldHRpbmdTZWN0aW9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIHsvKiBjcmVhdGUgc3VydmV5ICovfVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VydmV5MTIzX19zZWN0aW9uLWNyZWF0ZVN1cnZleVwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9e3RoaXMubmxzKCdjcmVhdGVOZXdTdXJ2ZXlMYWJlbCcpfSBzdHlsZT17XHJcbiAgICAgICAgICAodGhpcy5zdGF0ZS5tb2RlID09PSAnc3VydmV5LWNyZWF0ZVN1cnZleScpXHJcbiAgICAgICAgICAgID8geyBkaXNwbGF5OiAnYmxvY2snIH1cclxuICAgICAgICAgICAgOiB7IGRpc3BsYXk6ICdub25lJyB9XHJcbiAgICAgICAgfT5cclxuICAgICAgICAgIDxTZXR0aW5nU2VjdGlvbj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwMCBkLWZsZXggZmxleC13cmFwIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBzZXR0aW5nLWhlYWRlciBzZXR0aW5nLXRpdGxlIHBiLTJcIj5cclxuICAgICAgICAgICAgICA8ZGl2Pnt0aGlzLm5scygnc3VydmV5VGl0bGVMYWJlbCcpfVxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaXNSZXF1aXJlZFwiPio8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPFRleHRJbnB1dCBhcmlhLWxhYmVsPXt0aGlzLm5scygnc3VydmV5VGl0bGVMYWJlbCcpfSBhcmlhLXJlcXVpcmVkPVwidHJ1ZVwiIHJlcXVpcmVkIGNsYXNzTmFtZT1cInctMTAwXCIgdmFsdWU9e3RoaXMuc3RhdGUubmV3U3VydmV5VGl0bGUgfHwgJyd9IG9uQ2hhbmdlPXsoZXZ0KSA9PiB7IHRoaXMub25OZXdTdXJ2ZXlWYWx1ZUNoYW5nZWQoZXZ0LCAnbmV3U3VydmV5VGl0bGUnKSB9fSAvPlxyXG4gICAgICAgICAgICAgIHsoIXRoaXMuc3RhdGUubmV3U3VydmV5VGl0bGUgfHwgISh0aGlzLnN0YXRlLm5ld1N1cnZleVRpdGxlLnRyaW0oKSkpICYmIHRoaXMuc3RhdGUubmV3U3VydmV5VGl0bGVEaXJ0eVxyXG4gICAgICAgICAgICAgICAgPyA8ZGl2IGNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIj5cclxuICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzdXJ2ZXlUaXRsZVJlcXVpcmVkTXNnJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5zdXJ2ZXlUaXRsZVJlcXVpcmVkTXNnIH0pfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA6ICcnfVxyXG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmNyZWF0ZVN1cnZleUVycm9yTXNnICYmICF0aGlzLnN0YXRlLm5ld1N1cnZleVRpdGxlRGlydHlcclxuICAgICAgICAgICAgICAgID8gPGRpdiBjbGFzc05hbWU9XCJlcnJvci1tZXNzYWdlXCI+XHJcbiAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnc3VydmV5VGl0bGVEdXBsaWNhdGVNc2cnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnN1cnZleVRpdGxlRHVwbGljYXRlTXNnIH0pfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA6ICcnfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMDAgZC1mbGV4IGZsZXgtd3JhcCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW4gc2V0dGluZy1oZWFkZXIgc2V0dGluZy10aXRsZSBwYi0yXCI+XHJcbiAgICAgICAgICAgICAgPGRpdj57dGhpcy5ubHMoJ3N1cnZleVRhZ0xhYmVsJyl9XHJcbiAgICAgICAgICAgICAge3RoaXMuaXNUYWdSZXF1aXJlZFxyXG4gICAgICAgICAgICAgICAgPyA8c3BhbiBjbGFzc05hbWU9XCJpc1JlcXVpcmVkXCI+Kjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDogJyd9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8VGFnSW5wdXRcclxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17dGhpcy5ubHMoJ3N1cnZleVRhZ0xhYmVsJyl9XHJcbiAgICAgICAgICAgICAgICAgIGRhdGE9e3RoaXMuc3RhdGUubmV3U3VydmV5VGFnc31cclxuICAgICAgICAgICAgICAgICAgc2VsZWN0TGlzdERhdGE9e3RoaXMuc3RhdGUudXNlclRhZ3N9XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVGFnSW5wdXRDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgIG5hbWU9e3RoaXMubmxzKCdzdXJ2ZXlUYWdMYWJlbCcpfVxyXG4gICAgICAgICAgICAgICAgICBtZW51UHJvcHM9e3sgbWF4SGVpZ2h0OiA4MCB9fVxyXG4gICAgICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgICAgey8qIDxUZXh0SW5wdXQgY2xhc3NOYW1lPVwidy0xMDBcIiB2YWx1ZT17dGhpcy5zdGF0ZS5uZXdTdXJ2ZXlUYWdzIHx8ICcnfSBvbkNoYW5nZT17KGV2dCkgPT4gdGhpcy5vbk5ld1N1cnZleVZhbHVlQ2hhbmdlZChldnQsICduZXdTdXJ2ZXlUYWdzJyl9IC8+ICovfVxyXG4gICAgICAgICAgICAgIHshKHRoaXMuc3RhdGUubmV3U3VydmV5VGFncyAmJiB0aGlzLnN0YXRlLm5ld1N1cnZleVRhZ3MubGVuZ3RoKSAmJiB0aGlzLnN0YXRlLm5ld1N1cnZleVRhZ3NEaXJ0eSAmJiB0aGlzLmlzVGFnUmVxdWlyZWRcclxuICAgICAgICAgICAgICAgID8gPGRpdiBjbGFzc05hbWU9XCJlcnJvci1tZXNzYWdlXCI+XHJcbiAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnc3VydmV5VGFnc1JlcXVpcmVkTXNnJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5zdXJ2ZXlUYWdzUmVxdWlyZWRNc2cgfSl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDogJyd9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwMCBkLWZsZXggZmxleC13cmFwIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBzZXR0aW5nLWhlYWRlciBzZXR0aW5nLXRpdGxlIHBiLTJcIj5cclxuICAgICAgICAgICAgICA8ZGl2Pnt0aGlzLm5scygnc3VydmV5U3VtbWFyeUxhYmVsJyl9PC9kaXY+XHJcbiAgICAgICAgICAgICAgPFRleHRBcmVhIGFyaWEtbGFiZWw9e3RoaXMubmxzKCdzdXJ2ZXlTdW1tYXJ5TGFiZWwnKX0gY2xhc3NOYW1lPVwidy0xMDAgc3VtbWFyeVwiIGhlaWdodD17ODB9IHZhbHVlPXt0aGlzLnN0YXRlLm5ld1N1cnZleVNuaXBwZXQgfHwgJyd9IG9uQ2hhbmdlPXsoZXZ0KSA9PiB7IHRoaXMub25OZXdTdXJ2ZXlWYWx1ZUNoYW5nZWQoZXZ0LCAnbmV3U3VydmV5U25pcHBldCcpIH19IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgey8qIDxTZXR0aW5nUm93IGxhYmVsPVwiVGh1bWJuYWlsXCI+XHJcbiAgICAgICAgICAgIDxpbWcgc3JjPXt0aGlzLnN0YXRlLm5ld1N1cnZleVRodW1ibmFpbFVybH0gc3R5bGU9e3tcclxuICAgICAgICAgICAgICB3aWR0aDogJzUwcHgnLFxyXG4gICAgICAgICAgICAgIGhlaWdodDogJzUwcHgnXHJcbiAgICAgICAgICAgIH19PjwvaW1nPlxyXG5cclxuICAgICAgICAgICAgPFRleHRJbnB1dCBjbGFzc05hbWU9XCJ3LTEwMFwiIHZhbHVlPXt0aGlzLnN0YXRlLm5ld1N1cnZleVRodW1ibmFpbFVybH0gbmFtZT1cIm5ld1N1cnZleVRodW1ibmFpbFVybFwiIG9uQ2hhbmdlPXt0aGlzLm9uTmV3U3VydmV5VmFsdWVDaGFuZ2VkfSAvPlxyXG5cclxuICAgICAgICAgIDwvU2V0dGluZ1Jvdz4gKi99XHJcbiAgICAgICAgICAgIDxTZXR0aW5nUm93IGZsb3c9XCJ3cmFwXCI+XHJcbiAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwicHJpbWFyeVwiIGNsYXNzTmFtZT1cInctMTAwXCIgZGlzYWJsZWQ9e3RoaXMuc3RhdGUubmV3U3VydmV5TG9hZGluZyA9PT0gdHJ1ZSB8fCAhdGhpcy5zdGF0ZS5jYW5DcmVhdGVTdXJ2ZXkgfHwgdGhpcy5zdGF0ZS5sb2FkQXBpRmFpbGVkfSBvbkNsaWNrPXt0aGlzLmNyZWF0ZVN1cnZleX0+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2NyZWF0ZVN1cnZleUJ0bicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuY3JlYXRlU3VydmV5QnRuIH0pfVxyXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm5ld1N1cnZleS1tc2dcIj57IXRoaXMuc3RhdGUuY2FuQ3JlYXRlU3VydmV5ID8gdGhpcy5ubHMoJ2NyZWF0ZVN1cnZleURpc2FibGVkMScpIDogdGhpcy5zdGF0ZS5uZXdTdXJ2ZXlNc2d9PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMDBcIiBzdHlsZT17XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxyXG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxyXG4gICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6ICc1MHB4J1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImppbXUtc2Vjb25kYXJ5LWxvYWRpbmdcIiBzdHlsZT17XHJcbiAgICAgICAgICAgICAgICAgICh0aGlzLnN0YXRlLm5ld1N1cnZleUxvYWRpbmcgPT09IHRydWUpID8geyBkaXNwbGF5OiAnYmxvY2snIH0gOiB7IGRpc3BsYXk6ICdub25lJyB9XHJcbiAgICAgICAgICAgICAgICB9PjwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgICA8L1NldHRpbmdTZWN0aW9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7Lyogc2V0dGluZyBzZWN0aW9uICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInN1cnZleTEyM19fc2VjdGlvblwiIHN0eWxlPXtcclxuICAgICAgICAodGhpcy5zdGF0ZS5tb2RlLmluZGV4T2YoJ3NldHRpbmdzJykgIT09IC0xKVxyXG4gICAgICAgICAgPyB7IGRpc3BsYXk6ICdibG9jaycgfVxyXG4gICAgICAgICAgOiB7IGRpc3BsYXk6ICdub25lJyB9XHJcbiAgICAgIH0+XHJcbiAgICAgICAgPFNldHRpbmdTZWN0aW9uPlxyXG5cclxuICAgICAgICAgIDxTZXR0aW5nUm93PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24tdGl0bGVcIj5cclxuICAgICAgICAgICAgICA8aDY+eyh0aGlzLnN0YXRlLnNlbGVjdGVkU3VydmV5KSA/IHRoaXMuc3RhdGUuc2VsZWN0ZWRTdXJ2ZXkudGl0bGUgOiAnJ308L2g2PlxyXG4gICAgICAgICAgICAgIDxCdXR0b24gYXJpYS1sYWJlbD17dGhpcy5ubHMoJ3JlbW92ZScpfSBhcmlhLWRlc2NyaXB0aW9uPXsodGhpcy5zdGF0ZS5zZWxlY3RlZFN1cnZleSkgPyB0aGlzLnN0YXRlLnNlbGVjdGVkU3VydmV5LnRpdGxlIDogJyd9IGNsYXNzTmFtZT1cInN1cnZleTEyM19fc2VjdGlvbi1yZXNldFN1cnZleVwiIG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRTdGF0ZSh7IG1vZGU6ICdjb25maXJtUmVzZXRTdXJ2ZXknIH0pIH19PlxyXG4gICAgICAgICAgICAgICAgPENsb3NlT3V0bGluZWQgc2l6ZT17OH0vPlxyXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG5cclxuICAgICAgICAgIDxTZXR0aW5nUm93PlxyXG4gICAgICAgICAgICA8QnV0dG9uIGFyaWEtZGVzY3JpcHRpb249eyh0aGlzLnN0YXRlLnNlbGVjdGVkU3VydmV5KSA/IHRoaXMuc3RhdGUuc2VsZWN0ZWRTdXJ2ZXkudGl0bGUgOiAnJ30gY2xhc3NOYW1lPVwidy0xMDBcIiBjb2xvcj1cInByaW1hcnlcIiB0eXBlPVwicHJpbWFyeVwiIG9uQ2xpY2s9e3RoaXMuZWRpdFN1cnZleX0+XHJcbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdlZGl0U3VydmV5QnRuJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5lZGl0U3VydmV5QnRuIH0pfVxyXG4gICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cclxuICAgICAgICA8L1NldHRpbmdTZWN0aW9uPlxyXG5cclxuICAgICAgICA8U2V0dGluZ1NlY3Rpb24gcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD17dGhpcy5ubHMoJ2FwcGVhcmFuY2VUaXRsZScpfSB0aXRsZT17dGhpcy5ubHMoJ2FwcGVhcmFuY2VUaXRsZScpfT5cclxuICAgICAgICAgIDxTZXR0aW5nUm93PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcGVhcmFuY2VcIj5cclxuICAgICAgICAgICAgICA8c3Bhbj57dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3Nob3dPcHRpb25zQmFyTGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnNob3dPcHRpb25zQmFyTGFiZWwgfSl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxTd2l0Y2ggYXJpYS1sYWJlbD17dGhpcy5ubHMoJ3Nob3dPcHRpb25zQmFyTGFiZWwnKX0gY2xhc3NOYW1lPVwiY2FuLXgtc3dpdGNoXCIgY2hlY2tlZD17IXRoaXMucHJvcHMuY29uZmlnLmhpZGVzLmluY2x1ZGVzKCduYXZiYXInKX1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtldnQgPT4geyB0aGlzLnNldEFwcGVhcmFuY2UoZXZ0LnRhcmdldC5jaGVja2VkLCAnbmF2YmFyJykgfX0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIHsvKiA8aW5wdXQgdmFsdWU9J25hdmJhcicgdHlwZT1cImNoZWNrYm94XCIgb25DbGljaz17dGhpcy5zZXRBcHBlYXJhbmNlfSBjaGVja2VkPXt0aGlzLnByb3BzLmNvbmZpZy5oaWRlcy5pbmRleE9mKCduYXZiYXInKSAhPT0gLTF9IC8+ICovfVxyXG4gICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgICAgPFNldHRpbmdSb3c+XHJcbiAgICAgICAgICAgIHsvKiA8aW5wdXQgdmFsdWU9J2hlYWRlcicgdHlwZT1cImNoZWNrYm94XCIgb25DbGljaz17dGhpcy5zZXRBcHBlYXJhbmNlfSBjaGVja2VkPXt0aGlzLnByb3BzLmNvbmZpZy5oaWRlcy5pbmRleE9mKCdoZWFkZXInKSAhPT0gLTF9IC8+ICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcGVhcmFuY2VcIj5cclxuICAgICAgICAgICAgICA8c3Bhbj57dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3Nob3dPcHRpb25zSGVhZGVyTGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnNob3dPcHRpb25zSGVhZGVyTGFiZWwgfSl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxTd2l0Y2ggYXJpYS1sYWJlbD17dGhpcy5ubHMoJ3Nob3dPcHRpb25zSGVhZGVyTGFiZWwnKX0gY2xhc3NOYW1lPVwiY2FuLXgtc3dpdGNoXCIgY2hlY2tlZD17IXRoaXMucHJvcHMuY29uZmlnLmhpZGVzLmluY2x1ZGVzKCdoZWFkZXInKX1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtldnQgPT4geyB0aGlzLnNldEFwcGVhcmFuY2UoZXZ0LnRhcmdldC5jaGVja2VkLCAnaGVhZGVyJykgfX0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgey8qIDxpbnB1dCB2YWx1ZT0nZGVzY3JpcHRpb24nIHR5cGU9XCJjaGVja2JveFwiIG9uQ2xpY2s9e3RoaXMuc2V0QXBwZWFyYW5jZX0gY2hlY2tlZD17dGhpcy5wcm9wcy5jb25maWcuaGlkZXMuaW5kZXhPZignZGVzY3JpcHRpb24nKSAhPT0gLTF9IC8+ICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcGVhcmFuY2VcIj5cclxuICAgICAgICAgICAgICA8c3Bhbj57dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3Nob3dPcHRpb25zRGVzTGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnNob3dPcHRpb25zRGVzTGFiZWwgfSl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxTd2l0Y2ggYXJpYS1sYWJlbD17dGhpcy5ubHMoJ3Nob3dPcHRpb25zRGVzTGFiZWwnKX0gY2xhc3NOYW1lPVwiY2FuLXgtc3dpdGNoXCIgY2hlY2tlZD17IXRoaXMucHJvcHMuY29uZmlnLmhpZGVzLmluY2x1ZGVzKCdkZXNjcmlwdGlvbicpfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2V2dCA9PiB7IHRoaXMuc2V0QXBwZWFyYW5jZShldnQudGFyZ2V0LmNoZWNrZWQsICdkZXNjcmlwdGlvbicpIH19IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgICAgPFNldHRpbmdSb3c+XHJcbiAgICAgICAgICAgIHsvKiA8aW5wdXQgdmFsdWU9J2Zvb3RlcicgdHlwZT1cImNoZWNrYm94XCIgb25DbGljaz17dGhpcy5zZXRBcHBlYXJhbmNlfSBjaGVja2VkPXt0aGlzLnByb3BzLmNvbmZpZy5oaWRlcy5pbmRleE9mKCdmb290ZXInKSAhPT0gLTF9IC8+ICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcGVhcmFuY2VcIj5cclxuICAgICAgICAgICAgICA8c3Bhbj57dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3Nob3dPcHRpb25zRm9vdGVyTGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnNob3dPcHRpb25zRm9vdGVyTGFiZWwgfSl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxTd2l0Y2ggYXJpYS1sYWJlbD17dGhpcy5ubHMoJ3Nob3dPcHRpb25zRm9vdGVyTGFiZWwnKX0gY2xhc3NOYW1lPVwiY2FuLXgtc3dpdGNoXCIgY2hlY2tlZD17IXRoaXMucHJvcHMuY29uZmlnLmhpZGVzLmluY2x1ZGVzKCdmb290ZXInKX1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtldnQgPT4geyB0aGlzLnNldEFwcGVhcmFuY2UoZXZ0LnRhcmdldC5jaGVja2VkLCAnZm9vdGVyJykgfX0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgey8qIDxpbnB1dCB2YWx1ZT0ndGhlbWUnIHR5cGU9XCJjaGVja2JveFwiIG9uQ2xpY2s9e3RoaXMuc2V0QXBwZWFyYW5jZX0gY2hlY2tlZD17dGhpcy5wcm9wcy5jb25maWcuaGlkZXMuaW5kZXhPZigndGhlbWUnKSAhPT0gLTF9IC8+ICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcGVhcmFuY2VcIj5cclxuICAgICAgICAgICAgICA8c3Bhbj57dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3VzZVN1cnZleVRoZW1lJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy51c2VTdXJ2ZXlUaGVtZSB9KX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgPFN3aXRjaCBhcmlhLWxhYmVsPXt0aGlzLm5scygndXNlU3VydmV5VGhlbWUnKX0gY2xhc3NOYW1lPVwiY2FuLXgtc3dpdGNoXCIgY2hlY2tlZD17IXRoaXMucHJvcHMuY29uZmlnLmhpZGVzLmluY2x1ZGVzKCd0aGVtZScpfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2V2dCA9PiB7IHRoaXMuc2V0QXBwZWFyYW5jZShldnQudGFyZ2V0LmNoZWNrZWQsICd0aGVtZScpIH19IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgIDwvU2V0dGluZ1NlY3Rpb24+XHJcblxyXG4gICAgICAgIHsvKiBTdXJ2ZXkgbW9kZSAqL31cclxuICAgICAgICA8U2V0dGluZ1NlY3Rpb24gcm9sZT1cInJhZGlvZ3JvdXBcIiBhcmlhLWxhYmVsPXt0aGlzLm5scygnc3VydmV5TW9kZVRpdGxlJyl9IHRpdGxlPXt0aGlzLm5scygnc3VydmV5TW9kZVRpdGxlJyl9PlxyXG4gICAgICAgICAgey8qIHN1cnZleSBtb2RlOiBuZXcgcmVjb3JkICovfVxyXG4gICAgICAgICAgPFNldHRpbmdSb3c+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gdy0xMDAgYWxpZ24taXRlbXMtY2VudGVyJz5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYWxpZ24taXRlbXMtY2VudGVyIGQtZmxleCc+XHJcbiAgICAgICAgICAgICAgICA8UmFkaW9cclxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0gb25DaGFuZ2U9eygpID0+IHsgdGhpcy5zZXRNb2RlKCduZXcnKSB9fVxyXG4gICAgICAgICAgICAgICAgICBjaGVja2VkPXt0aGlzLnByb3BzLmNvbmZpZy5tb2RlID09PSAnbmV3J31cclxuICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzdXJ2ZXlNb2RlTmV3JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5zdXJ2ZXlNb2RlTmV3IH0pfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxsYWJlbFxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J20tMCBtbC0yJyBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0TW9kZSgnbmV3JykgfX1cclxuICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzdXJ2ZXlNb2RlTmV3JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5zdXJ2ZXlNb2RlTmV3IH0pfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3N1cnZleU1vZGVOZXcnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnN1cnZleU1vZGVOZXcgfSl9XHJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cclxuXHJcbiAgICAgICAgICB7Lyogc3VydmV5IG1vZGU6IGVkaXQgcmVjb3JkICovfVxyXG4gICAgICAgICAgPFNldHRpbmdSb3c+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gdy0xMDAgYWxpZ24taXRlbXMtY2VudGVyJz5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYWxpZ24taXRlbXMtY2VudGVyIGQtZmxleCc+XHJcbiAgICAgICAgICAgICAgICA8UmFkaW9cclxuICAgICAgICAgICAgICAgICAgLy8gYXJpYS1kZXNjcmliZWRieT17KHRoaXMuc3RhdGUubWFwV2lkZ2V0TGlzdCAmJiB0aGlzLnN0YXRlLm1hcFdpZGdldExpc3QubGVuZ3RoID4gMCkgPyAnJyA6IGBzdXJ2ZXlfJHt0aGlzLnByb3BzLmlkfV9zZW5kRGF0YURpc2FibGVkMkZvckVkaXRgfVxyXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSBvbkNoYW5nZT17KCkgPT4geyB0aGlzLnNldE1vZGUoJ2VkaXQnKSB9fVxyXG4gICAgICAgICAgICAgICAgICBjaGVja2VkPXt0aGlzLnByb3BzLmNvbmZpZy5tb2RlID09PSAnZWRpdCd9XHJcbiAgICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnc3VydmV5TW9kZUVkaXQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnN1cnZleU1vZGVFZGl0IH0pfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxsYWJlbFxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J20tMCBtbC0yJyBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0TW9kZSgnZWRpdCcpIH19XHJcbiAgICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnc3VydmV5TW9kZUVkaXQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnN1cnZleU1vZGVFZGl0IH0pfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ3N1cnZleU1vZGVFZGl0JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5zdXJ2ZXlNb2RlRWRpdCB9KX1cclxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG5cclxuICAgICAgICAgIHsvKiBzdXJ2ZXkgbW9kZTogdmlldyByZWNvcmQgKi99XHJcbiAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiB3LTEwMCBhbGlnbi1pdGVtcy1jZW50ZXInPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdhbGlnbi1pdGVtcy1jZW50ZXIgZC1mbGV4Jz5cclxuICAgICAgICAgICAgICAgIDxSYWRpb1xyXG4gICAgICAgICAgICAgICAgICAvLyBhcmlhLWRlc2NyaWJlZGJ5PXsodGhpcy5zdGF0ZS5tYXBXaWRnZXRMaXN0ICYmIHRoaXMuc3RhdGUubWFwV2lkZ2V0TGlzdC5sZW5ndGggPiAwKSA/ICcnIDogYHN1cnZleV8ke3RoaXMucHJvcHMuaWR9X3NlbmREYXRhRGlzYWJsZWQyRm9yVmlld2B9XHJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19IG9uQ2hhbmdlPXsoKSA9PiB7IHRoaXMuc2V0TW9kZSgndmlldycpIH19XHJcbiAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMucHJvcHMuY29uZmlnLm1vZGUgPT09ICd2aWV3J31cclxuICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzdXJ2ZXlNb2RlVmlldycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuc3VydmV5TW9kZVZpZXcgfSl9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nbS0wIG1sLTInIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRNb2RlKCd2aWV3JykgfX1cclxuICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdzdXJ2ZXlNb2RlVmlldycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuc3VydmV5TW9kZVZpZXcgfSl9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnc3VydmV5TW9kZVZpZXcnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnN1cnZleU1vZGVWaWV3IH0pfVxyXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcblxyXG4gICAgICAgICAgey8qIFNldHRpbmcgZm9yICduZXcnIG1vZGU6IFNlbmQgZGF0YSB0byBzdXJ2ZXkgKi99XHJcbiAgICAgICAgICB7dGhpcy5wcm9wcy5jb25maWcubW9kZSA9PT0gJ25ldycgJiYgPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24tdGl0bGVcIj5cclxuICAgICAgICAgICAgICAgIDxoNj57dGhpcy5ubHMoJ3NlbmREYXRhVG9TdXJ2ZXlUaXRsZScpfTwvaDY+XHJcbiAgICAgICAgICAgICAgICA8U3dpdGNoIGFyaWEtbGFiZWw9e3RoaXMubmxzKCdzZW5kRGF0YVRvU3VydmV5VGl0bGUnKX0gYXJpYS1kZXNjcmliZWRieT17dGhpcy5wcm9wcy5jb25maWcuYWN0aXZlTGlua0RhdGEgPyBgc3VydmV5XyR7dGhpcy5wcm9wcy5pZH1fc2VuZERhdGFUb1N1cnZleURlc2NgIDogJyd9IGNsYXNzTmFtZT1cImNhbi14LXN3aXRjaFwiIGNoZWNrZWQ9e3RoaXMucHJvcHMuY29uZmlnLmFjdGl2ZUxpbmtEYXRhfVxyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5hY3RpdmVMaW5rRGF0YUNoYW5nZX0gLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG5cclxuICAgICAgICAgICAge3RoaXMucHJvcHMuY29uZmlnLmFjdGl2ZUxpbmtEYXRhICYmXHJcbiAgICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgIDxTZXR0aW5nUm93PlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gaWQ9e2BzdXJ2ZXlfJHt0aGlzLnByb3BzLmlkfV9zZW5kRGF0YVRvU3VydmV5RGVzY2B9IGNsYXNzTmFtZT1cInctMTAwXCI+e3RoaXMubmxzKCdzZW5kRGF0YVRvU3VydmV5RGVzYycpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgICAgICAgICA8U2V0dGluZ1JvdyBjbGFzc05hbWU9XCJmZWEtbGF5ZXItb3V0dGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxTZXR0aW5nUm93IGNsYXNzTmFtZT1cInVzZS1mZWF0dXJlLWxheWVyLXNldHRpbmdcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj57dGhpcy5ubHMoJ3NvdXJjZUxheWVyJyl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmVhdHVyZS1sYXllci1kcm9wZG93blwiPlxyXG4gICAgICAgICAgICAgICAgICA8RGF0YVNvdXJjZVNlbGVjdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgaXNNdWx0aXBsZT17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZURhdGFWaWV3XHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17dGhpcy5ubHMoJ3NvdXJjZUxheWVyJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT0nJ1xyXG4gICAgICAgICAgICAgICAgICAgIG11c3RVc2VEYXRhU291cmNlXHJcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VEYXRhU291cmNlTGlzdE9uQ2hhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZVR5cGVEcm9wZG93blxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGVzPXt0aGlzLnN1cHBvcnRlZExheWVyVHlwZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlRGF0YVNvdXJjZXM9e3RoaXMuc3RhdGU/LmxheWVyVmlld0luZm9Jbk5ld01vZGUgPyBJbW11dGFibGUoW3RoaXMuc3RhdGU/LmxheWVyVmlld0luZm9Jbk5ld01vZGVdKSA6IG51bGx9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlVXNlRGF0YVNvdXJjZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICB3aWRnZXRJZD17dGhpcy5wcm9wcz8uaWR9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG5cclxuICAgICAgICAgICAgICAgIHsvKiBzYXZlZCBmaWVsZC1xdWVzdGlvbiBtYXBwaW5nICovfVxyXG4gICAgICAgICAgICAgICAgPFNldHRpbmdSb3c+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgcm9sZT1cImdyb3VwXCIgYXJpYS1vd25zPXtgc3VydmV5XyR7dGhpcy5wcm9wcy5pZH1fYWRkTmV3TWFwcGluZyBzdXJ2ZXlfJHt0aGlzLnByb3BzLmlkfV9hZGRNYXBwaW5nQnRuYH0gYXJpYS1sYWJlbD17dGhpcy5ubHMoJ2FkZENvbm5UaXRsZScpfT5cclxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj57dGhpcy5ubHMoJ2FkZENvbm5UaXRsZScpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcblxyXG4gICAgICAgICAgICAgICAgeyh0aGlzLnN0YXRlPy5sYXllclZpZXdJbmZvSW5OZXdNb2RlICYmIHRoaXMuc3RhdGU/LmxheWVyVmlld0luZm9Jbk5ld01vZGUuZGF0YVNvdXJjZUlkKVxyXG4gICAgICAgICAgICAgICAgICA/IDxSZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgICAgICAgICAgICB7KHRoaXMucHJvcHMuY29uZmlnLmZpZWxkUXVlc3Rpb25NYXBwaW5nICYmIHRoaXMucHJvcHMuY29uZmlnLmZpZWxkUXVlc3Rpb25NYXBwaW5nLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICA/IDxkaXY+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNvbmZpZy5maWVsZFF1ZXN0aW9uTWFwcGluZy5hc011dGFibGUoKS5tYXAoKG1hcHBpbmcsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmllbGQgPSBtYXBwaW5nLmZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcXVlc3Rpb24gPSBtYXBwaW5nLnF1ZXN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxkaXYga2V5PXtmaWVsZCArICdfJyArIHF1ZXN0aW9uICsgJ18nICsgaW5kZXh9IGNsYXNzTmFtZT1cIm1hcHBpbmctY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5lZGl0TWFwcGluZyAmJiB0aGlzLnN0YXRlLmVkaXRNYXBwaW5nLmluZGV4ID09PSBpbmRleFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IDxSZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXt0aGlzLnN0YXRlLmVkaXRNYXBwaW5nLmZpZWxkIHx8ICcnfSBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICc4cHgnIH19IG9uQ2hhbmdlPXsoZSkgPT4geyB0aGlzLmNoYW5nZUVkaXRNYXBwaW5nKCdmaWVsZCcsIGUpIH19ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmRzRmVhdHVyZUxheWVyRmllbGRzLm1hcCgoZmllbGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxvcHRpb24ga2V5PXsnZWRpdF8nICsgZmllbGQubmFtZSArICdfJyArIGluZGV4fSB2YWx1ZT17ZmllbGQubmFtZX0+e2ZpZWxkLmFsaWFzIHx8IGZpZWxkLm5hbWV9PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXt0aGlzLnN0YXRlLmVkaXRNYXBwaW5nLnF1ZXN0aW9uIHx8ICcnfSBvbkNoYW5nZT17KGUpID0+IHsgdGhpcy5jaGFuZ2VFZGl0TWFwcGluZygncXVlc3Rpb24nLCBlKSB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnN1cnZleVF1ZXN0aW9uRmllbGRzLmxlbmd0aCA+IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnN1cnZleVF1ZXN0aW9uRmllbGRzLm1hcCgocXVlc3Rpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA8b3B0aW9uIGtleT17J2VkaXRfJyArIHF1ZXN0aW9uLm5hbWUgKyAnXycgKyBpbmRleH0gdmFsdWU9e3F1ZXN0aW9uLm5hbWV9PntxdWVzdGlvbi5sYWJlbH08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogYnV0dG9ucyAgKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiZmxvYXQtbGVmdCBpY29uLXJlbW92ZS1tYXBwaW5nXCIgdHlwZT1cInByaW1hcnlcIiBjb2xvcj1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuZGVsZXRlQ29ubmVjdGlvbihpbmRleCk7IHRoaXMuc2V0U3RhdGUoeyBlZGl0TWFwcGluZzogbnVsbCB9KSB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHJhc2hPdXRsaW5lZCBjbGFzc05hbWU9J3JlbW92ZS1tYXBwaW5nJy8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiZmxvYXQtcmlnaHRcIiB0eXBlPVwic2Vjb25kYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgZWRpdE1hcHBpbmc6IG51bGwgfSkgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLm5scygnY2FuY2VsJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiZmxvYXQtcmlnaHRcIiB0eXBlPVwicHJpbWFyeVwiIGNvbG9yPVwicHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgdGhpcy5lZGl0TWFwcGluZyhpbmRleCk7IHRoaXMuc2V0U3RhdGUoeyBlZGl0TWFwcGluZzogbnVsbCB9KSB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMubmxzKCdvaycpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGluay1pbmZvXCIgb25DbGljaz17KGUpID0+IHsgdGhpcy5zaG93RWRpdE1hcHBpbmdQYW5lbChpbmRleCwgZSkgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD57dGhpcy5nZXRGaWVsQWxpYXMoZmllbGQpfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2VudGVyLWxpbmVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb25uZWN0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmtIb3Jpem9udGFsT3V0bGluZWQgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPnt0aGlzLmdldFF1ZXN0aW9uTGFiZWwocXVlc3Rpb24pfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGVsZXRlLWNvbm5lY3RcIiBvbkNsaWNrPXsoZSkgPT4geyB0aGlzLmRlbGV0ZUNvbm5lY3Rpb24oaW5kZXgsIGUpIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHJhc2hPdXRsaW5lZCBzaXplPSdzJy8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICB9PC9kaXY+IDogJyd9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHsvKiBhZGQgbmV3IGZpZWxkIHF1ZXN0aW9uIG1hcHBpbmcgKi99XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuYWRkTWFwcGluZyAmJiB0aGlzLnN0YXRlLmRzRmVhdHVyZUxheWVyICYmIHRoaXMuc3RhdGUuZHNGZWF0dXJlTGF5ZXJGaWVsZHMgJiYgdGhpcy5zdGF0ZS5kc0ZlYXR1cmVMYXllckZpZWxkcy5sZW5ndGggPiAwICYmXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwcGluZy1jb250YWluZXJcIiBpZD17YHN1cnZleV8ke3RoaXMucHJvcHMuaWR9X2FkZE5ld01hcHBpbmdgfT5cclxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0IGFyaWEtbGFiZWw9e3RoaXMubmxzKCdhZGRDb25uU2VsZWN0RmllbGQnKX0gdmFsdWU9e3RoaXMuc3RhdGUuYWRkTWFwcGluZy5maWVsZCB8fCAnbnVsbCd9IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJzhweCcgfX0gb25DaGFuZ2U9eyhlKSA9PiB7IHRoaXMuYWRkTWFwcHBpbmdDaGFuZ2UoJ2ZpZWxkJywgZSkgfX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9eydhZGRfZmllbGRfZGVmYXVsdCcgfSB2YWx1ZT1cIm51bGxcIj57dGhpcy5ubHMoJ2FkZENvbm5TZWxlY3RGaWVsZCcpfTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZHNGZWF0dXJlTGF5ZXJGaWVsZHMubWFwKChmaWVsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPG9wdGlvbiBrZXk9eydhZGRfJyArIGZpZWxkLm5hbWV9IHZhbHVlPXtmaWVsZC5uYW1lfT57ZmllbGQuYWxpYXMgfHwgZmllbGQubmFtZX08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3QgYXJpYS1sYWJlbD17dGhpcy5ubHMoJ2FkZENvbm5TZWxlY3RRdWVzdGlvbicpfSB2YWx1ZT17dGhpcy5zdGF0ZS5hZGRNYXBwaW5nLnF1ZXN0aW9uIHx8ICdudWxsJ30gb25DaGFuZ2U9eyhlKSA9PiB7IHRoaXMuYWRkTWFwcHBpbmdDaGFuZ2UoJ3F1ZXN0aW9uJywgZSkgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17J2FkZF9xdWVzdGlvbl9kZWZhdWx0JyB9IHZhbHVlPVwibnVsbFwiPnt0aGlzLm5scygnYWRkQ29ublNlbGVjdFF1ZXN0aW9uJyl9PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5zdXJ2ZXlRdWVzdGlvbkZpZWxkcy5sZW5ndGggPiAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc3VydmV5UXVlc3Rpb25GaWVsZHMubWFwKChxdWVzdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA8b3B0aW9uIGtleT17J2FkZF8nICsgcXVlc3Rpb24ubmFtZX0gdmFsdWU9e3F1ZXN0aW9uLm5hbWV9PntxdWVzdGlvbi5sYWJlbH08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgey8qIGJ1dHRvbnMgICovfVxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImZsb2F0LXJpZ2h0XCIgdHlwZT1cInNlY29uZGFyeVwiIG9uQ2xpY2s9e3RoaXMuZGVhY3RpdmVBZGRGaWVsZFF1ZXN0aW9uQ29ublBhbmVsfT57dGhpcy5ubHMoJ2NhbmNlbCcpfTwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJmbG9hdC1yaWdodFwiIHR5cGU9XCJwcmltYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLmFkZE1hcHBpbmcuZmllbGQgfHwgdGhpcy5zdGF0ZS5hZGRNYXBwaW5nLmZpZWxkID09PSAnbnVsbCcgfHwgIXRoaXMuc3RhdGUuYWRkTWFwcGluZy5xdWVzdGlvbiB8fCB0aGlzLnN0YXRlLmFkZE1hcHBpbmcucXVlc3Rpb24gPT09ICdudWxsJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5hZGRGaWVsZFF1ZXN0aW9uQ29ubn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLm5scygnb2snKX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj59XHJcbiAgICAgICAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+IDogJydcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDxTZXR0aW5nUm93PlxyXG4gICAgICAgICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cInctMTAwXCIgdHlwZT1cInByaW1hcnlcIiBpZD17YHN1cnZleV8ke3RoaXMucHJvcHMuaWR9X2FkZE1hcHBpbmdCdG5gfVxyXG4gICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmFkZE1hcHBpbmcgIT09IG51bGwgfHwgdGhpcy5zdGF0ZS5lZGl0TWFwcGluZyAhPT0gbnVsbCB8fCAhKHRoaXMuc3RhdGU/LmxheWVyVmlld0luZm9Jbk5ld01vZGUgJiYgdGhpcy5zdGF0ZT8ubGF5ZXJWaWV3SW5mb0luTmV3TW9kZS5kYXRhU291cmNlSWQpfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYWN0aXZlQWRkRmllbGRRdWVzdGlvbkNvbm5QYW5lbH0+XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMubmxzKCdhZGRDb25uQnRuJyl9XHJcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+fVxyXG5cclxuICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD59XHJcblxyXG4gICAgICAgICAgey8qIFNldHRuZyBmb3IgJ2VkaXQnIG1vZGU6ICAqL31cclxuICAgICAgICAgIHt0aGlzLnByb3BzLmNvbmZpZy5tb2RlID09PSAnZWRpdCcgJiYgPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICA8U2V0dGluZ1JvdyBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiByb2xlPVwiZ3JvdXBcIiBhcmlhLWRlc2NyaWJlZGJ5PXtgc3VydmV5XyR7dGhpcy5wcm9wcy5pZH1fY2hvb3NlRXhpc3REYXRhRWRpdERlc2NgfVxyXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17dGhpcy5ubHMoJ2Nob29zZUV4aXN0RGF0YVRpdGxlJyl9XHJcbiAgICAgICAgICAgICAgICBhcmlhLW93bnM9e2BzdXJ2ZXlfJHt0aGlzLnByb3BzLmlkfV9zZWxlY3RTdXJ2ZXlMYXllckZvckVkaXRNb2RlYH0+XHJcbiAgICAgICAgICAgICAgICA8aDY+e3RoaXMubmxzKCdjaG9vc2VFeGlzdERhdGFUaXRsZScpfTwvaDY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgPFNldHRpbmdSb3c+XHJcbiAgICAgICAgICAgICAgPHNwYW4gaWQ9e2BzdXJ2ZXlfJHt0aGlzLnByb3BzLmlkfV9jaG9vc2VFeGlzdERhdGFFZGl0RGVzY2B9IGNsYXNzTmFtZT1cInctMTAwXCI+e3RoaXMubmxzKCdjaG9vc2VFeGlzdERhdGFFZGl0RGVzYycpfTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgICAgICB7LyogU2VsZWN0IGZlYXR1cmUgbGF5ZXIgZnJvbSB3ZWJtYXAgKi99XHJcbiAgICAgICAgICAgIDxTZXR0aW5nUm93IGNsYXNzTmFtZT1cImZlYS1sYXllci1vdXR0ZXJcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGlkPXtgc3VydmV5XyR7dGhpcy5wcm9wcy5pZH1fc2VsZWN0U3VydmV5TGF5ZXJGb3JFZGl0TW9kZWB9PlxyXG4gICAgICAgICAgICAgICAgPFNldHRpbmdSb3cgY2xhc3NOYW1lPVwidXNlLWZlYXR1cmUtbGF5ZXItc2V0dGluZ1wiID5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gdGl0bGU9e3RoaXMubmxzKCdzZWxlY3RTdXJ2ZXlMYXllclRpcCcpfT57dGhpcy5ubHMoJ3NvdXJjZUxheWVyJyl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmZWF0dXJlLWxheWVyLWRyb3Bkb3duXCIgdGl0bGU9e3RoaXMubmxzKCdzZWxlY3RTdXJ2ZXlMYXllclRpcCcpfT5cclxuICAgICAgICAgICAgICAgICAgPERhdGFTb3VyY2VTZWxlY3RvclxyXG4gICAgICAgICAgICAgICAgICAgIGlzTXVsdGlwbGU9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIGhpZGVEYXRhVmlld1xyXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e3RoaXMubmxzKCdzb3VyY2VMYXllcicpfVxyXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9JydcclxuICAgICAgICAgICAgICAgICAgICBtdXN0VXNlRGF0YVNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlRGF0YVNvdXJjZUxpc3RPbkNoYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgIGhpZGVUeXBlRHJvcGRvd25cclxuICAgICAgICAgICAgICAgICAgICB0eXBlcz17dGhpcy5zdXBwb3J0ZWRMYXllclR5cGVzfVxyXG4gICAgICAgICAgICAgICAgICAgIHVzZURhdGFTb3VyY2VzPXt0aGlzLnN0YXRlPy5sYXllclZpZXdJbmZvSW5FZGl0TW9kZSA/IEltbXV0YWJsZShbdGhpcy5zdGF0ZT8ubGF5ZXJWaWV3SW5mb0luRWRpdE1vZGVdKSA6IG51bGx9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlVXNlRGF0YVNvdXJjZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICB3aWRnZXRJZD17dGhpcy5wcm9wcz8uaWR9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHsvKiBTZXR0bmcgZm9yICd2aWV3JyBtb2RlOiAgKi99XHJcbiAgICAgICAgICB7dGhpcy5wcm9wcy5jb25maWcubW9kZSA9PT0gJ3ZpZXcnICYmIDxSZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgICAgPFNldHRpbmdSb3c+XHJcbiAgICAgICAgICAgICAgPGRpdiByb2xlPVwiZ3JvdXBcIiBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlXCIgYXJpYS1kZXNjcmliZWRieT17YHN1cnZleV8ke3RoaXMucHJvcHMuaWR9X2Nob29zZUV4aXN0RGF0YVZpZXdEZXNjYH1cclxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e3RoaXMubmxzKCdjaG9vc2VFeGlzdERhdGFUaXRsZScpfVxyXG4gICAgICAgICAgICAgICAgYXJpYS1vd25zPXtgc3VydmV5XyR7dGhpcy5wcm9wcy5pZH1fc2VsZWN0TWFwRm9yVklld01vZGVgfT5cclxuICAgICAgICAgICAgICAgIDxoNj57dGhpcy5ubHMoJ2Nob29zZUV4aXN0RGF0YVRpdGxlJyl9PC9oNj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGlkPXtgc3VydmV5XyR7dGhpcy5wcm9wcy5pZH1fY2hvb3NlRXhpc3REYXRhVmlld0Rlc2NgfSBjbGFzc05hbWU9XCJ3LTEwMFwiPnt0aGlzLm5scygnY2hvb3NlRXhpc3REYXRhVmlld0Rlc2MnKX08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgey8qIFNlbGVjdCBmZWF0dXJlIGxheWVyIGZyb20gd2VibWFwICovfVxyXG4gICAgICAgICAgICA8U2V0dGluZ1JvdyBjbGFzc05hbWU9XCJmZWEtbGF5ZXItb3V0dGVyXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBpZD17YHN1cnZleV8ke3RoaXMucHJvcHMuaWR9X3NlbGVjdE1hcEZvclZJZXdNb2RlYH0+XHJcbiAgICAgICAgICAgICAgICA8U2V0dGluZ1JvdyBjbGFzc05hbWU9XCJ1c2UtZmVhdHVyZS1sYXllci1zZXR0aW5nXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIHRpdGxlPXt0aGlzLm5scygnc2VsZWN0U3VydmV5TGF5ZXJUaXAnKX0+e3RoaXMubmxzKCdzb3VyY2VMYXllcicpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmVhdHVyZS1sYXllci1kcm9wZG93blwiIHRpdGxlPXt0aGlzLm5scygnc2VsZWN0U3VydmV5TGF5ZXJUaXAnKX0+XHJcbiAgICAgICAgICAgICAgICAgIDxEYXRhU291cmNlU2VsZWN0b3JcclxuICAgICAgICAgICAgICAgICAgICBpc011bHRpcGxlPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICBoaWRlRGF0YVZpZXdcclxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXt0aGlzLm5scygnc291cmNlTGF5ZXInKX1cclxuICAgICAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PScnXHJcbiAgICAgICAgICAgICAgICAgICAgbXVzdFVzZURhdGFTb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICBjbG9zZURhdGFTb3VyY2VMaXN0T25DaGFuZ2VcclxuICAgICAgICAgICAgICAgICAgICBoaWRlVHlwZURyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZXM9e3RoaXMuc3VwcG9ydGVkTGF5ZXJUeXBlc31cclxuICAgICAgICAgICAgICAgICAgICB1c2VEYXRhU291cmNlcz17dGhpcy5zdGF0ZT8ubGF5ZXJWaWV3SW5mb0luVmlld01vZGUgPyBJbW11dGFibGUoW3RoaXMuc3RhdGU/LmxheWVyVmlld0luZm9JblZpZXdNb2RlXSkgOiBudWxsfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVVzZURhdGFTb3VyY2VDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkZ2V0SWQ9e3RoaXMucHJvcHM/LmlkfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgIH1cclxuICAgICAgICA8L1NldHRpbmdTZWN0aW9uPlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBjb25maXJtIHJlc2V0IHN1cnZleSBzZWN0aW9uICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInN1cnZleTEyM19fc2VjdGlvblwiXHJcbiAgICAgICAgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD17dGhpcy5ubHMoJ3Jlc2V0U3VydmV5TGFiZWwnKX1cclxuICAgICAgICBzdHlsZT17XHJcbiAgICAgICAgKHRoaXMuc3RhdGUubW9kZS5pbmRleE9mKCdjb25maXJtUmVzZXRTdXJ2ZXknKSAhPT0gLTEpXHJcbiAgICAgICAgICA/IHsgZGlzcGxheTogJ2Jsb2NrJyB9XHJcbiAgICAgICAgICA6IHsgZGlzcGxheTogJ25vbmUnIH1cclxuICAgICAgfT5cclxuICAgICAgICA8U2V0dGluZ1NlY3Rpb24gdGl0bGU9e3RoaXMubmxzKCdyZXNldFN1cnZleUxhYmVsJyl9PlxyXG4gICAgICAgICAgPFNldHRpbmdSb3c+XHJcbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAncmVzZXRTdXJ2ZXlUaXAnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnJlc2V0U3VydmV5VGlwIH0pfVxyXG4gICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdjb25maXJtUmVzZXRTdXJ2ZXlUaXAnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmNvbmZpcm1SZXNldFN1cnZleVRpcCB9KX1cclxuXHJcbiAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgPEJ1dHRvbiBhcmlhLWRlc2NyaXB0aW9uPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAncmVzZXRTdXJ2ZXlUaXAnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnJlc2V0U3VydmV5VGlwIH0pfSB0eXBlPVwicHJpbWFyeVwiIG9uQ2xpY2s9eygpID0+IHsgdGhpcy5yZXNldFN1cnZleSgpIH19Pnt0aGlzLm5scygneWVzJyl9PC9CdXR0b24+XHJcbiAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4geyB0aGlzLnNob3dTZXR0aW5nUGFnZSgpIH19Pnt0aGlzLm5scygnbm8nKX08L0J1dHRvbj5cclxuICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cclxuICAgICAgICA8L1NldHRpbmdTZWN0aW9uPlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDxNb2RhbFxyXG4gICAgICAgIGlzT3Blbj17dGhpcy5zdGF0ZS5tb2RhbElzT3Blbn1cclxuICAgICAgICBjbGFzc05hbWU9XCJ3LTEwMCBoLTEwMCBwLTAgbS0wIHN1cnZleTEyM19fZGVzaW5nZXJfbW9kYWxcIlxyXG4gICAgICAgIGNzcz17Z2V0TW9kYWxTdHlsZSh0aGlzLnByb3BzLnRoZW1lKX0+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdXJ2ZXkxMjNfX2Rlc2luZ2VyXCI+XHJcbiAgICAgICAgICA8cD57dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2VkaXRTdXJ2ZXlCdG4nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmVkaXRTdXJ2ZXlCdG4gfSl9PC9wPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjb2xvcj1cInByaW1hcnlcIiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsb3NlTW9kYWx9PlxyXG4gICAgICAgICAgICA8Q2xvc2VPdXRsaW5lZCBzaXplPXsyNH0vPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxpZnJhbWUgaWQ9XCJzdXJ2ZXkxMjMtZGVzaWduZXJcIiB3aWR0aD1cIjEwMCVcIj48L2lmcmFtZT5cclxuXHJcbiAgICAgICAgPEFsZXJ0UG9wdXAgaXNPcGVuPXt0aGlzLnN0YXRlLmlzU2hvd0Nsb3NlRGVzaWduZXJBbGVydH1cclxuICAgICAgICAgIG9rTGFiZWw9e3RoaXMubmxzKCdvaycpfVxyXG4gICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMubGFiZWx9XHJcbiAgICAgICAgICB0b2dnbGU9e3RoaXMuaGFuZGxlQ2xvc2VEZXNpZ25lckFsZXJ0fT5cclxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICcxcmVtJyB9fT5cclxuICAgICAgICAgICAge3RoaXMubmxzKCdtc2dVbnNhdmVkQmVmb3JlTGVhdmluZycpfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9BbGVydFBvcHVwPlxyXG4gICAgICA8L01vZGFsPlxyXG4gICAgPC9kaXYgPlxyXG4gIH1cclxufVxyXG5cbiBleHBvcnQgZnVuY3Rpb24gX19zZXRfd2VicGFja19wdWJsaWNfcGF0aF9fKHVybCkgeyBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyA9IHVybCB9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9